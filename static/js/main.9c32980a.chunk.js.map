{"version":3,"sources":["context/AppContext.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/enums.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/theme.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/localization/translator.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/close-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/checkmark-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/warning-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/info-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/UIKitSettings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/FeatureRestriction/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatContext.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/Storage.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/reduce-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/increase-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/SoundManager.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/resources/end-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/common.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatEvent.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/progress.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/resources/remove.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/resources/checkmark.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/ring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/threaded-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/message-translate.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/send-message-in-private.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/video.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/audio-file.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/image.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/emoji.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/send-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/polls.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/stickers.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/menu.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/audio-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/info.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/MessageFilter.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/create.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/password-protected-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/private-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/done.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/adding.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/transferring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-read.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-delivered.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-sent.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/wait.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/warning-small.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/notify.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/privacy.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/help.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/warning.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/users.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/groups.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/more.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/index.js","services/ui.js","components/chat/Chat.js","services/storage.js","constants/storage-keys.js","components/chat/ChatWithHost.js","components/common/Modal.js","firebase.js","services/firebase.js","constants/firebase-keys.js","components/create/Create.js","services/route.js","constants/menu.js","constants/routes.js","components/common/Header.js","images/bg.webp","components/home/Home.js","components/detail/HouseDetailDescription.js","components/detail/HouseDetailForm.js","components/detail/HouseDetailImages.js","components/detail/HouseDetailName.js","components/detail/HouseDetailSub.js","components/detail/HouseDetail.js","components/common/Loading.js","services/cometchat.js","components/register/SignUp.js","components/login/Login.js","components/common/PrivateRoute.js","components/profile/ProfileLeft.js","components/profile/ProfileIntro.js","components/profile/ProfileHouse.js","components/profile/ProfileHouses.js","components/profile/Profile.js","components/search/Search.js","components/houses/House.js","components/houses/Houses.js","components/search/SearchResults.js","App.js","index.js"],"names":["Context","React","createContext","AppContext","children","useState","user","setUser","cometChat","setCometChat","context","initCometChat","a","CometChat","appID","process","region","appSetting","AppSettingsBuilder","subscribePresenceForAllUsers","setRegion","build","init","then","error","useEffect","authenticatedUser","localStorage","getItem","JSON","parse","initAuthUser","Provider","value","TEXT_MESSAGE_RECEIVED","MEDIA_MESSAGE_RECEIVED","CUSTOM_MESSAGE_RECEIVED","MESSAGE_DELIVERED","MESSAGE_READ","MESSAGE_DELETED","MESSAGE_EDITED","TRANSIENT_MESSAGE_RECEIVED","INCOMING_CALL_RECEIVED","OUTGOING_CALL_ACCEPTED","OUTGOING_CALL_REJECTED","INCOMING_CALL_CANCELLED","GROUP_MEMBER_SCOPE_CHANGED","GROUP_MEMBER_KICKED","GROUP_MEMBER_BANNED","GROUP_MEMBER_UNBANNED","GROUP_MEMBER_ADDED","GROUP_MEMBER_LEFT","GROUP_MEMBER_JOINED","USER_ONLINE","USER_OFFLINE","TYPING_STARTED","TYPING_ENDED","CUSTOM_TYPE_POLL","CUSTOM_TYPE_STICKER","CUSTOM_TYPE_DOCUMENT","CUSTOM_TYPE_WHITEBOARD","CUSTOM_TYPE_MEETING","CONSTANTS","LOCALE","ACTIVECALL","MAX_MESSAGE_COUNT","METADATA_TYPE_LIVEREACTION","LIVE_REACTIONS","heart","thumbsup","clap","wink","MESSAGES_COMPONENT","EMBEDDED_COMPONENT","OUTGOING_DEFAULT_CALLING","INCOMING_DEFAULT_CALLING","INCOMING_DIRECT_CALLING","OUTGOING_DIRECT_CALLING","AUDIO","INCOMING_MESSAGE","INCOMING_OTHER_MESSAGE","OUTGOING_MESSAGE","INCOMING_CALL","OUTGOING_CALL","ERROR_CODES","ERR_CHAT_API_FAILURE","CALLS","ONGOING_CALL","ONGOING_CALL_SAME_GROUP","ONGOING_CALL_DIFF_GROUP","GROUPS","OWNER","LIVE_REACTION_INTERVAL","FILE_METADATA","ACTIONS","MESSAGE_SENT","MESSAGE_COMPOSED","ERROR_IN_SENDING_MESSAGE","ACCEPT_DIRECT_CALL","JOIN_DIRECT_CALL","START_DIRECT_CALL","DIRECT_CALL_ENDED","POLL_CREATED","GROUP_DELETED","GROUP_LEFT","GROUP_CREATED","VIEW_DETAIL","VIEW_THREADED_MESSAGE","CLOSE_THREADED_MESSAGE","TOGGLE_SIDEBAR","ON_MESSAGE_EDITED","ON_MESSAGE_DELETED","ON_MESSAGE_READ_DELIVERED","DELETE_MESSAGE","EDIT_MESSAGE","CLOSE_GROUP_DETAIL","CLOSE_USER_DETAIL","VIEW_ORIGINAL_IMAGE","FETCH_GROUP_MEMBERS","SCOPECHANGE_GROUPMEMBER_SUCCESS","BAN_GROUP_MEMBER","KICK_GROUP_MEMBER","BAN_GROUPMEMBER_SUCCESS","KICK_GROUPMEMBER_SUCCESS","CHANGE_SCOPE_GROUP_MEMBER","UNBAN_GROUP_MEMBER","ADD_GROUP_MEMBER_SUCCESS","FETCH_BANNED_GROUP_MEMBERS","UNBAN_GROUP_MEMBER_SUCCESS","REACT_TO_MESSAGE","INITIATE_VIDEO_CALL","INITIATE_AUDIO_CALL","CHANGE_TAB","ITEM_CLICKED","THREAD_MESSAGE_COMPOSED","SEND_LIVE_REACTION","STOP_LIVE_REACTION","SHOW_LIVE_REACTION","CLEAR_EDIT_PREVIEW","MESSAGE_RECEIVED","MESSAGES_INITIAL_FETCH","MESSAGES_FETCHED","REFRESHING_MESSAGES","MESSAGES_REFRESHED","NEW_MESSAGES","CLEAR_UNREAD_MESSAGES","START_AUDIO_CALL","START_VIDEO_CALL","OUTGOING_CALL_CANCELLED","INCOMING_CALL_ACCEPTED","INCOMING_CALL_REJECTED","CALL_ENDED","USER_JOINED_CALL","USER_LEFT_CALL","DELETE_CONVERSATION","CONVERSATION_DELETED","SEND_STICKER","CLOSE_STICKER_KEYBOARD","ERROR","INFO","TRANSLATE_MESSAGE","EVENTS","KEYS","CallAlertManager","callListenerId","Date","getTime","callback","addCallListener","this","CallListener","onIncomingCallReceived","call","enums","onIncomingCallCancelled","onOutgoingCallAccepted","removeCallListener","theme","fontFamily","fontSize","primaryColor","secondaryTextColor","color","primary","secondary","darkSecondary","grey","helpText","blue","white","red","borderColor","backgroundColor","lightGrey","darkGrey","callScreenGrey","silver","breakPoints","CometChatAvatar","props","setAvatarImage","image","trim","length","getImage","Object","keys","hasOwnProperty","avatarImage","avatar","uid","char","name","charAt","toUpperCase","generateAvatar","group","icon","guid","img","Image","src","onload","_isMounted","setState","generator","data","canvas","document","createElement","getContext","width","height","fillStyle","str","hash","i","charCodeAt","colour","toString","substr","stringToColour","fillRect","font","textAlign","textBaseline","fillText","toDataURL","imgRef","createRef","state","prevProps","borderWidth","borderStyle","cornerRadius","css","overflow","display","alt","style","borderRadius","ref","el","Component","defaultProps","backdropStyle","zIndex","opacity","position","top","left","cursor","transition","CometChatBackdrop","show","className","onClick","clicked","badgeStyle","fontWeight","lineHeight","marginLeft","padding","marginRight","CometChatBadgeCount","count","presenceStyle","presenceStatus","status","float","CometChatUserPresence","useContext","CometChatContext","presence","setPresence","FeatureRestriction","isUserPresenceEnabled","response","catch","translations","window","addEventListener","language","Translator","getBrowserLanguage","toLowerCase","setLanguage","rtlLanguages","includes","languageDb","defaultLanguage","key","getLanguage","item","setItem","navigator","languages","userLanguage","getDefaultLanguage","savedLanguage","browserLanguageCode","browserLanguage","indexOf","split","notificationStyle","backgroundColorProp","type","pointerEvents","marginBottom","minHeight","boxShadow","backgroundPosition","backgroundRepeat","flexDirection","justifyContent","alignItems","boxSizing","iconStyle","mask","CometChatToastNotification","componentWillUnmount","clearAutoDismiss","setInfo","message","infoIcon","setAutoDismiss","setError","errorIcon","setSuccess","successIcon","setWarning","warningIcon","autoDelete","interval","setTimeout","deleteToast","dismissTime","clearTimeout","messageClassName","types","iconClassName","toastIcon","flexShrink","maxWidth","title","translate","lang","keyframes","transform","margin","border","outline","closeIcon","alertButtonStyle","CometChatConfirmDialog","confirmButtonText","cancelButtonText","Fragment","close","right","UIKitSettings","setCustomJS","customJS","setCustomCSS","customCSS","setTabs","tabList","tabs","setUserSettings","userSettings","setCalls","calls","setUsers","users","setChats","chats","setGroups","groups","setChatListMode","option","chatListFilterKey","returnMatchedKey","chatListFilterOptions","chatListMode","setUserListMode","userListFilterKey","userListFilterOptions","userListMode","setGroupListMode","setUserVideoCall","userVideoCall","setGroupVideoCall","groupVideoCall","setUserAudioCall","userAudioCall","setGroupAudioCall","groupAudioCall","setEditMessage","editMessage","setSendMessageInOneOnOne","sendMessageInOneOnOne","setSendMessageInGroup","sendMessageInGroup","setJoinOrLeaveGroup","joinOrLeaveGroup","setBlockUser","blockUser","setSendEmojis","sendEmojis","setSendEmojisInLargerSize","sendEmojisInLargerSize","setSendGifs","sendGifs","setShareCopyForwardMessage","shareCopyForwardMessage","setSendFiles","sendFiles","setSendPhotoVideos","sendPhotoVideos","setViewShareMedia","viewShareMedia","setEnableSoundForMessages","enableSoundForMessages","setEnableSoundForCalls","enableSoundForCalls","setSendStickers","sendStickers","setViewGroupMembers","viewGroupMembers","setCallNotifications","callNotifications","setAllowDeleteGroup","allowDeleteGroup","setKickMember","kickMember","setBanMember","banMember","setAllowPromoteDemoteMembers","allowPromoteDemoteMembers","setAllowAddMembers","allowAddMembers","setShareLocation","shareLocation","setJoinLeaveNotifications","joinLeaveNotifications","setSendVoiceNotes","sendVoiceNotes","setMessageTranslation","messageTranslation","setGroupCreation","groupCreation","setSendTypingIndicator","sendTypingIndicator","setShowUserPresence","showUserPresence","setDeleteMessage","deleteMessage","setThreadedChats","threadedChats","setReplyingToMessage","replyingToMessage","setShowReadDeliveryReceipts","showReadDeliveryReceipts","setHideDeletedMessages","hideDeletedMessages","setEmailReplies","emailReplies","setSendMessageReaction","sendMessageReaction","setCollaborativeWhiteboard","collaborativeWhiteboard","setCollaborativeDocument","collaborativeDocument","setPolls","polls","setSendLiveReaction","sendLiveReaction","setPublicGroup","publicGroup","setPrivateGroup","privateGroup","setPasswordGroup","passwordGroup","setAllowModeratorToDeleteMemberMessages","allowModeratorToDeleteMemberMessages","setUnreadCount","unreadCount","setSmartReplies","smartReplies","setSearchUsers","searchUsers","setSearchGroups","searchGroups","setSearchMessages","searchMessages","setCallRecording","callRecording","setCallLiveStreaming","callLiveStreaming","setCallTranscription","callTranscription","setThumbnailGeneration","thumbnailGeneration","setLinkPreview","linkPreview","setSaveMessages","saveMessages","setPinMessages","pinMessages","setRichMediaPreview","richMediaPreview","setVoiceTranscription","voiceTranscription","setMentions","mentions","setXssFilter","xssFilter","setProfanityFilter","profanityFilter","setImageModeration","imageModeration","setDataMasking","dataMasking","setMalwareScanner","malwareScanner","setSentimentAnalysis","sentimentAnalysis","setInflightMessageModeration","inflightMessageModeration","setMessageHistory","messageHistory","setViewProfile","viewProfile","setMessageInPrivate","messageInPrivate","setChatWindow","chatWindow","matchWith","optionToMatch","entries","foregroundColor","overrideSystemBackgroundColor","groupInMode","groupListFilterOptions","values","searchChats","setGroupInQnaModeByModerators","highlightMessageFromModerators","ALL","NONE","FRIENDS","PUBLIC","PASSWORD","PUBLIC_AND_PASSWORD","USERS","USERS_AND_GROUPS","isRecentChatListEnabled","Promise","resolve","isGroupListEnabled","isUserSettingsEnabled","isEditMessageEnabled","isQNAModeEnabled","isHighlightMessagesEnabled","isJoinLeaveGroupsEnabled","isLargerSizeEmojisEnabled","isGifsEnabled","isShareCopyForwardMessageEnabled","isSharedMediaEnabled","isMessagesSoundEnabled","isCallsSoundEnabled","isViewingGroupMembersEnabled","isCallActionMessagesEnabled","isGroupDeletionEnabled","isChangingGroupMemberScopeEnabled","isAddingGroupMembersEnabled","isLocationSharingEnabled","isGroupActionMessagesEnabled","isGroupCreationEnabled","isDeleteMessageEnabled","isHideDeletedMessagesEnabled","isViewProfileEnabled","isMessageInPrivateEnabled","isCallListEnabled","isFeatureEnabled","calls_enabled","isUserListEnabled","chat_users_list_enabled","isOneOnOneVideoCallEnabled","call_one_on_one_video_enabled","isGroupVideoCallEnabled","call_groups_video_enabled","isOneOnOneAudioCallEnabled","call_one_on_one_audio_enabled","isGroupAudioCallEnabled","call_groups_audio_enabled","isOneOnOneChatEnabled","chat_one_on_one_enabled","isGroupChatEnabled","chat_groups_enabled","isDeleteMemberMessageEnabled","moderation_groups_moderators_enabled","isBlockUserEnabled","moderation_users_block_enabled","isEmojisEnabled","emojis_enabled","isFilesEnabled","chat_messages_media_enabled","isPhotosVideosEnabled","isKickingGroupMembersEnabled","moderation_groups_kick_enabled","isBanningGroupMembersEnabled","moderation_groups_ban_enabled","isVoiceNotesEnabled","chat_voice_notes_enabled","isTypingIndicatorsEnabled","chat_typing_indicator_enabled","chat_users_presence_enabled","isThreadedMessagesEnabled","chat_messages_threads_enabled","isMessageRepliesEnabled","chat_messages_replies_enabled","isDeliveryReceiptsEnabled","chat_messages_receipts_enabled","isLiveReactionsEnabled","live_reactions_enabled","isPublicGroupEnabled","chat_groups_public_enabled","isPrivateGroupEnabled","chat_groups_private_enabled","isPasswordGroupEnabled","chat_groups_password_enabled","isUnreadCountEnabled","chat_messages_unread_count_enabled","isUserSearchEnabled","chat_users_search_enabled","isGroupSearchEnabled","chat_groups_search_enabled","isMessageSearchEnabled","chat_messages_search_enabled","isCallRecordingEnabled","call_recording_enabled","isCallLiveStreamingEnabled","call_live_streaming_enabled","isCallTranscriptEnabled","call_transcript_enabled","isMessageHistoryEnabled","chat_messages_history_enabled","isMessageTranslationEnabled","message_translation_enabled","isExtensionEnabled","isReactionsEnabled","reactions_enabled","reactions","isCollaborativeWhiteBoardEnabled","collaboration_whiteboard_enabled","collaborationWhiteboard","isCollaborativeDocumentEnabled","collaboration_document_enabled","collaborationDocument","isStickersEnabled","stickers_enabled","sticker","isEmailRepliesEnabled","email_replies_enabled","isPollsEnabled","polls_enabled","isSmartRepliesEnabled","smart_replies_enabled","isThumbnailGenerationEnabled","thumbnail_generation_enabled","isLinkPreviewEnabled","link_preview_enabled","isSaveMessagesEnabled","messages_saved_enabled","isPinMessagesEnabled","messages_pinned_enabled","isRichMediaPreviewEnabled","rich_media_preview_enabled","isVoiceTranscriptionEnabled","voice_transcription_enabled","isMentionsEnabled","mentions_enabled","isXssFilterEnabled","moderation_xss_filter_enabled","isProfanityFilterEnabled","moderation_profanity_filter_enabled","isImageModerationEnabled","moderation_image_moderation_enabled","isDataMaskingEnabled","moderation_data_masking_enabled","isMalwareScannerEnabled","moderation_malware_scanner_enabled","isSentimentAnalysisEnabled","moderation_sentiment_analysis_enabled","chat_messages_custom_enabled","moderation_inflight_message_moderation_enabled","emojis","extensionKey","CometChatContextProvider","getUser","reject","code","getGroup","hasJoined","groupType","password","GROUP_TYPE","promptMessage","prompt","joinGroup","setToastMessage","getLoggedinUser","timer","loggedInUser","isInitialized","isUserLoggedIn","setInterval","clearInterval","clearGroupMembers","groupMembers","groupAdmins","groupModerators","bannedGroupMembers","setAllGroupMembers","updateGroupMembers","setGroupMembers","setGroupAdmins","setGroupModerators","setBannedGroupMembers","bannedMembers","updateBannedGroupMembers","setCallInProgress","callType","callInProgress","setType","setTypeAndItem","setDeletedGroupId","deletedGroupId","setLeftGroupId","leftGroupId","setLastMessage","lastMessage","setClearedUnreadMessages","flag","clearedUnreadMessages","setDirectCallCustomMessage","event","directCallCustomMessage","directCallCustomMessageAction","checkIfDirectCallIsOngoing","output","customData","sessionID","checkIfCallIsOngoing","getActiveCallSessionID","sessionId","hasKeyValue","undefined","settings","featureRestriction","toastMessage","unreadMessages","roles","GROUP_MEMBER_SCOPE","ADMIN","MODERATOR","PARTICIPANT","toastRef","ACTION_TYPE","TYPE_USER","errorCode","TYPE_GROUP","_component","toastNotificationPos","Storage","attachChangeDetection","detachChangeDetection","removeEventListener","storageKey","storageValue","stringify","removeItem","clear","callScreenWrapperStyle","fadeAnimation","bottom","animation","callScreenHeaderStyle","cursorStyle","maximized","callScreenResizerStyle","backgroundStyle","clipPath","background","CometChatCallScreen","enableDragging","e","preventDefault","checkIfCallScreenIsMaximized","dragging","rel","x","pageX","y","pageY","toggleCallScreenBackground","toggleCallScreenInnerBackground","onmousemove","startDragging","onmouseup","disableDragging","elem","callScreenEl","current","dialogWidth","clientWidth","dialogHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","checkIfCallScreenIsMinimized","minimumWidth","minWidth","minimumHeight","Math","min","max","stopPropagation","initResize","element","startX","startY","startWidth","parseFloat","getComputedStyle","getPropertyValue","replace","startHeight","parseInt","startResize","stopResize","minHWidth","maxHeight","setDimensionOfCallScreenInnerBackground","callScreenBackgroundEl","callScreenInnerBackgroundEl","setPositionOfCallScreenInnerBackground","minimize","setSizingAndPostionOfCallScreen","maximize","toggle","startDirectCall","callSettings","CallSettingsBuilder","enableDefaultLayout","setSessionID","setIsAudioOnlyCall","setLocalizedStringObject","callScreenFrame","startCall","OngoingCallListener","onCallEnded","actionGenerated","onError","startDefaultCall","getSessionId","CALL_TYPE","setMode","CALL_MODE","DEFAULT","onUserJoined","callInitiator","callMessage","category","action","callReceiver","receiverId","receiverType","sentAt","onUserLeft","endedCall","resizeText","iconView","minimizeIcon","maximizeIcon","onMouseDown","userSelect","PureComponent","contextType","SoundManager","incomingCallAudio","outgoingCallAudio","incomingMessageAudio","outgoingMessageAudio","incomingOtherMessageAudio","play","onIncomingCall","onOutgoingCall","onIncomingMessage","onIncomingOtherMessage","onOutgoingMessage","pause","pauseIncomingCall","pauseOutgoingCall","Audio","default","playMessageAlert","messageAudio","currentTime","playCallAlert","callAudio","loop","incomingCallWrapperStyle","slideDown","positionValue","leftPos","rightPos","topPos","bottomPos","zIndexValue","widgetsettings","dockedview","launched","alignment","widgetWidth","widgetHeight","ButtonStyle","callIconStyle","CometChatIncomingCall","adjustFontSize","callButtonRef","reduceFontSize","buttonNodeList","querySelectorAll","forEach","buttonNode","scrollWidth","callScreenUpdated","incomingCallReceived","incomingCallCancelled","outgoingCallAccepted","incomingCall","sender","rejectCall","callStatus","isCallActive","CALL_STATUS","BUSY","REJECTED","rejectedCall","acceptCall","checkForActiveCallAndEndCall","success","endCall","actionHandler","logStorageChange","newValue","oldValue","console","attachListeners","callScreen","incomingCallAlert","audioCallIcon","VIDEO","videoCallIcon","textOverflow","whiteSpace","textTransform","CallScreenManager","onOutgoingCallRejected","styles","CometChatOutgoingCall","outgoingCallRejected","outgoingCallScreen","errorScreen","errorMessage","clearCallInProgress","cancelCall","CANCELLED","removeListeners","receiver","callIcon","messageAlertManager","msgListenerId","addMessageListener","MessageListener","onCustomMessageReceived","customMessage","removeMessageListener","CometChatIncomingDirectCall","messageListenerCallback","joinCall","ignoreCall","MessageAlertManager","wordBoundary","emailPattern","RegExp","urlPattern","phoneNumPattern","linkify","outputStr","results","match","url","normalizedURL","startsWith","checkMessageForExtensionsData","injectedObject","metadata","extensionsObject","getMessageFileMetadata","metadataKey","fileMetadata","ID","random","getUnixTimestamp","round","dateDiffInDays","b","utc1","UTC","getFullYear","getMonth","getDate","utc2","floor","CometChatOutgoingDirectCall","prepareCustomMessageData","sendCustomMessage","RECEIVER_TYPE","GROUP","conversationId","CustomMessage","setSender","setReceiver","setConversationId","_composedAt","_id","newMessageObj","callScreenRef","ConversationListManager","conversationRequest","conversationListenerId","userListenerId","groupListenerId","ConversationsRequestBuilder","setConversationType","setLimit","fetchNext","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","offlineUser","addGroupListener","GroupListener","onGroupMemberScopeChanged","changedUser","newScope","oldScope","changedGroup","onGroupMemberKicked","kickedUser","kickedBy","kickedFrom","onGroupMemberBanned","bannedUser","bannedBy","bannedFrom","onGroupMemberUnbanned","unbannedUser","unbannedBy","unbannedFrom","onMemberAddedToGroup","userAdded","userAddedBy","userAddedIn","onGroupMemberLeft","leavingUser","onGroupMemberJoined","joinedUser","joinedGroup","onTextMessageReceived","textMessage","onMediaMessageReceived","mediaMessage","onMessageDeleted","deletedMessage","onMessageEdited","editedMessage","onMessagesRead","messageReceipt","removeUserListener","removeGroupListener","CometChatEvent","_triggers","push","params","chatsWrapperStyle","_parent","chatsHeaderStyle","borderBottom","chatsHeaderCloseStyle","mq","chatsHeaderTitleStyle","enableCloseMenu","CometChatConversationList","selectedConversation","updateLastMessage","conversationList","conversationlist","conversationKey","findIndex","c","conversationObj","newConversationObj","splice","unshift","USER","newConversation","Conversation","setConversationWith","setUnreadMessageCount","updateUnreadCount","clearUnreadCount","unreadMessageCount","conversationCallback","options","updateUser","markMessageAsDelivered","conversationUpdated","markAsDelivered","updateConversation","conversationEditedDeleted","updateGroupMemberAdded","updateGroupMemberRemoved","updateGroupMemberScopeChanged","updateGroupMemberChanged","conversationType","conversationWith","conversationWithObj","getStatus","hideGroupActionMessages","playAudio","CATEGORY_ACTION","TYPE_GROUP_MEMBER","getReceiverType","getSender","getReceiverId","conversation","messageId","id","makeConversation","CometChatHelper","getConversationFromMessage","makeUnreadMessageCount","firstUnreadMessage","shouldIncrementCount","incomingMessage","CATEGORY_MESSAGE","makeLastMessage","newMessage","assign","lastMessageObj","newLastMessageObj","membersCount","actionFor","newConversationWithObj","scope","handleScroll","currentTarget","scrollHeight","scrollTop","getConversations","handleClick","onItemClick","handleMenuClose","fetchNextConversation","decoratorMessage","conversations","eachConversation","newUnreadMessageCount","updatedConversation","contextProviderRef","conversationDeleted","deleteConversation","showConfirmDialog","conversationToBeDeleted","onDeleteConfirm","optionSelected","target","deletedConversation","chatListRef","on","args","find","blockedByMe","convKey","convObj","convWithObj","newConvWithObj","newConvObj","map","messageContainer","wordWrap","closeBtn","navigateIcon","chatList","dir","getDirection","overflowY","onScroll","chatListWrapper","CometChatConversationListActions","toggleTooltip","setAttribute","dataset","removeAttribute","deleteInProgress","actionInProgress","progressIcon","actionIcon","loadingIcon","deleteIcon","onMouseEnter","onMouseLeave","listStyleType","listItem","selectedState","itemLastMsgStyle","CometChatConversationListItem","getLastMessage","enableHideDeletedMessages","getMessage","CATEGORY_CALL","getCallMessage","getActionMessage","CATEGORY_CUSTOM","getCustomMessage","getLastMessageTimestamp","timestamp","messageTimestamp","currentTimestamp","now","dateDifferenceInDays","dateFormat","getTimeStampForLastMessage","pollMessage","stickerMessage","docMessage","whiteboardMessage","meetingMessage","getTextMessage","messageText","text","xssData","sanitized_text","maskedData","sensitive_data","message_masked","profaneData","profanity","message_clean","MESSAGE_TYPE","TEXT","MEDIA","IMAGE","imageMessage","FILE","fileMessage","videoMessage","audioMessage","CUSTOM","actionMessage","MEMBER_JOINED","MEMBER_LEFT","actionBy","actionOn","MEMBER_SCOPE_CHANGED","extras","byEntity","onEntity","byString","forString","MEMBER_ADDED","MEMBER_KICKED","MEMBER_BANNED","MEMBER_UNBANNED","textContent","enableUnreadCount","handleMouseHover","toggleFlag","isHovering","lastMessageTimestamp","lastMessageTimeStamp","toolTipView","flexGrow","paddingLeft","paddingRight","previewWrapperStyle","slideAnimation","previewCloseStyle","previewOptionStyle","CometChatSmartReplyPreview","alignSelf","stickerWrapperStyle","stickerSectionListStyle","borderTop","overflowX","stickerItemStyle","stickerCloseStyle","CometChatStickerKeyboard","getStickers","callExtension","stickers","activeStickerSet","customStickers","defaultStickers","sort","stickerSetOrder","stickerList","stickerSet","reduce","r","index","stickerSetName","activeStickerList","stickerOrder","sendStickerMessage","stickerItem","onStickerSetClicked","sectionItem","activestickerlist","stickerset","closeStickerKeyboard","stickerlist","activestickerset","sectionItems","stickerSetThumbnail","stickerUrl","stickerName","flexWrap","messageReactionsStyle","reactionData","hoveredBorderStyle","verticalAlign","emojiButtonStyle","reactionCountStyle","CometChatMessageReactions","enableMessageReaction","reactToMessages","emoji","msgId","colons","triggerEmojiClick","querySelector","click","getMessageReactions","reaction","reactionName","replaceAll","reactionCount","userList","reactionTitle","join","concat","reactionClassName","size","native","addMessageReaction","reactIcon","messageReactions","addReactionEmoji","modalWrapperStyle","modalErrorStyle","modalTableStyle","borderCollapse","tr","tableLayout","tableFootStyle","loadingState","textMargin","creatingPoll","disabled","td","button","span","addOptionIconStyle","backgroundSize","CometChatCreatePoll","addPollOption","removePollOption","optionKey","opt","optionChangeHandler","newOption","createPoll","question","questionRef","firstOption","optionOneRef","secondOption","optionTwoRef","optionItems","optionRef","pollOptionView","tabIndex","createText","clearIcon","colSpan","autoFocus","placeholder","addIcon","creatingIcon","removeOptionIconStyle","CometChatCreatePollOptions","autoComplete","onChange","removeIcon","messageThumbnailStyle","nameWrapperStyle","paddingValue","messageTxtWrapperStyle","messageTxtTitleStyle","messageBtnStyle","li","CometChatReceiverDocumentBubble","toggleHoverState","launchCollaborativeDocument","documentUrl","documentData","document_url","open","nextProps","nextState","reactionsData","documentTitle","flex","documentIcon","pollAnswerStyle","pollPercentStyle","curvedBorders","answerWrapperStyle","optionData","widthProp","voters","p","checkIconStyle","CometChatReceiverPollMessageBubble","answerPollQuestion","selectedOption","vote","pollId","pollExtensionData","pollOptions","total","totalText","toLocaleString","checkIcon","checkImg","template","messageImgWrapperStyle","CometChatReceiverStickerMessageBubble","stickerData","stickerImg","sticker_name","sticker_url","CometChatReceiverWhiteboardBubble","launchCollaborativeWhiteboard","whiteboardUrl","whiteboardData","board_url","username","whiteboardIcon","CometChatSenderDocumentBubble","wordBreak","CometChatSenderPollMessageBubble","messageImgWrapper","CometChatSenderStickerBubble","messageTxtIconStyle","CometChatSenderWhiteboardBubble","CometChatActionMessageBubble","getCallActionMessage","INITIATED","ONGOING","UNANSWERED","ENDED","byUser","onUser","messageContainerStyle","messageWrapperStyle","Width","fontStyle","messageTxtStyle","messageInfoWrapperStyle","messageTimeStampStyle","messageDetailStyle","paddingSpace","nameStyle","CometChatDeleteMessageBubble","setLoggedInUser","messageDate","CometChatEmojiKeyboard","categories","people","nature","foods","activity","places","objects","symbols","flags","search","emojiClicked","showPreview","exclude","i18n","imageWrapperStyle","heightProps","imgStyle","sizeProps","objectFit","CometChatImageViewer","setImage","imageIcon","previewDataStyle","previewTitleStyle","previewDescStyle","previewTextStyle","previewLinkStyle","CometChatLinkPreview","linkObject","linkText","href","CometChatLiveReactions","sendMessage","transientMessage","TransientMessage","sendTransientMessage","setItems","parentElement","offsetWidth","offsetHeight","elements","elementWidth","elementHeight","ySpeed","verticalSpeed","omega","PI","horizontalSpeed","time","sin","items","requestAnimation","animate","transformString","visibility","classList","add","counter","before","reactionImg","Array","fill","messageActionStyle","direction","groupButtonStyle","deleteOption","backgroundProp","CometChatMessageActions","enableThreadedChats","enableDeleteMessage","enableDeleteMessageForModerator","enableEditMessage","enableTranslateMessage","enableMessageInPrivate","sendMessageInPrivate","reactToMessage","viewThread","translateMessage","startThreadIcon","replyCount","editIcon","translateIcon","sendMessageInPrivateIcon","tooltip","chatComposerStyle","order","editPreviewContainerStyle","inputInnerStyle","borderRadiusVal","emojiViewer","stickerViewer","messageInputStyle","disabledState","content","inputStickyStyle","attachments","flexDirectionProp","filePickerStyle","active","showFilePicker","fileItemStyle","stickyAttachButtonStyle","stickyButtonStyle","sendButtonStyle","stickerBtnStyle","CometChatMessageComposer","enableLiveReaction","enablePolls","enableTypingIndicator","enableStickers","enablePhotosVideos","enableFiles","enableEmojis","enableCollaborativeDocument","enableCollaborativeWhiteboard","focusOnMessageComposer","messageInputRef","focus","messageToReact","pasteHtmlAtCaret","messageInput","innerText","messageType","changeHandler","startTyping","toggleFilePicker","currentState","openFileDialogue","fileType","imageUploaderRef","fileUploaderRef","audioUploaderRef","videoUploaderRef","onImageChange","files","uploadedFile","reader","FileReader","newFile","File","result","sendMediaMessage","readAsArrayBuffer","onFileChange","onAudioChange","onVideoChange","getReceiverDetails","endTyping","MediaMessage","parentMessageId","setParentMessageId","setMetadata","sendMessageOnEnter","keyCode","shiftKey","sendTextMessage","messageToBeEdited","TextMessage","setText","replyPreview","setId","messageFrom","closeEditPreview","typingInterval","isTyping","typingMetadata","typingNotification","TypingIndicator","persist","toggleStickerPicker","toggleEmojiPicker","toggleCreatePoll","toggleCollaborativeDocument","toggleCollaborativeBoard","closeCreatePoll","sendSticker","incrementUnreadCount","sendReplyMessage","clearReplyPreview","startLiveReaction","animationInProgress","timeout","liveReactionInterval","stopLiveReaction","liveReactionInProgress","shareDocument","shareWhiteboard","prevState","hasXSS","html","selectPastedContent","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","firstNode","insertNode","cloneRange","setStartAfter","setStartBefore","collapse","removeAllRanges","addRange","selection","originalRange","createRange","pasteHTML","setEndPoint","select","liveReactionBtn","liveReactionText","docText","docs","docIcon","videoText","audioText","imageText","avp","videoIcon","accept","audioIcon","pollText","createPollBtn","pollIcon","collaborativeDocText","collaborativeDocBtn","collaborativeBoardText","collaborativeBoardBtn","emojiText","emojiBtn","insertEmoticon","StickerText","stickerBtn","stickerIcon","sendMessageText","sendBtn","sendBlue","attachText","attach","roundedPlus","editPreview","smartReplyPreview","smartReplyData","contentEditable","onInput","onBlur","onKeyDown","MessageHeaderManager","onTypingStarted","typingIndicator","onTypingEnded","chatSideBarBtnStyle","displayValue","sidebar","chatUserStyle","chatStatusStyle","typing","chatOptionStyle","ongoingCall","bgColor","CometChatMessageHeader","setStatusForUser","USER_STATUS","ONLINE","OFFLINE","lastActiveAt","lastActive","setStatusForGroup","membersText","updateHeader","groupUser","enableUserPresence","showTyping","typingText","resetChat","enableGroupVoiceCall","enableGroupVideoCall","enableOneOnOneVoiceCall","combinedResponse","enableOneOnOneVideoCall","enableAddGroupMembers","enableChangeScope","enableKickGroupMembers","enableBanGroupMembers","enableDeleteGroup","enableViewGroupMembers","enableLeaveGroup","enableSharedMedia","enableBlockUser","initiateAudioCall","initiateVideoCall","viewDetail","videoCallClassName","audioCallClassName","viewDetailClassName","chatWithClassName","chatNameClassName","chatStatusClassName","audioCallText","audioCallBtn","videoCallText","videoCallBtn","viewDetailText","viewDetailBtn","detailPaneIcon","menuIcon","MessageFilter","getCategories","getTypes","MessageListManager","messageRequest","limit","initializeMessageRequest","messageFilterManager","categoryList","typeList","MessagesRequestBuilder","setUID","setCategories","setTypes","hideReplies","setGUID","fetchPrevious","onMessagesDelivered","onTransientMessageReceived","chatListStyle","messageDateStyle","CometChatMessageList","lastScrollTop","times","scrollToBottom","messagesEnd","messageHandler","fetchMessages","messageList","messageCount","getUid","markAsRead","messages","fetchPreviousMessages","messageUpdated","onMessageReadAndDelivered","onMessageReceived","onGroupUpdated","onCallUpdated","updateEditedMessage","messageKey","m","messageObj","getReceiver","getReceiptType","deliveredAt","getDeliveredAt","readAt","getReadAt","reInitializeMessageBuilder","markMessageAsRead","messageReceivedHandler","customMessageReceivedHandler","getSenderMessageComponent","component","getReceiverMessageComponent","getSenderCustomMessageComponent","getReceiverCustomMessageComponent","getActionMessageComponent","getComponent","ifChatWindowChanged","cDate","dateSeparator","dateField","messageSentDate","timeStampInMilliSeconds","getMessageDate","paddingTop","SharedMediaManager","messagetype","mediaMessageListenerId","mediaMessageRequest","setCategory","sectionStyle","containerHeightProp","containerHeight","buttonStyle","activeBtn","itemStyle","itemTypeStyle","CometChatSharedMediaView","messageDeleted","messageReceived","filteredMessages","filter","getMessages","mediaClickHandler","fileIcon","UserDetailManager","userDetailStyle","headerStyle","headerCloseStyle","privacySectionStyle","sectionHeaderStyle","itemLinkStyle","userPresenceStyle","CometChatUserDetails","enableViewProfile","usersList","blockUsers","unblockUser","unblockUsers","profileLink","link","closeDetailView","blockUserText","blockUserView","sharedmediaView","UserListManager","searchKey","userRequest","initializeUsersRequest","userListModeOptions","usersRequest","UsersRequestBuilder","setSearchKeyword","friendsOnly","contactWrapperStyle","contactHeaderStyle","contactHeaderCloseStyle","contactHeaderTitleStyle","contactSearchButtonStyle","CometChatUserList","toggleUserSearch","enableSearchUser","userUpdated","userlist","userKey","u","userObj","newUserObj","getUsers","val","fetchNextUsers","userListRef","userObject","newUserObject","currentLetter","chr","firstChar","selectedUser","clickHandler","searchUser","searchIcon","userListTemplate","userListWrapper","itemDescStyle","marginTop","CometChatUserListItem","userPresence","userScreenSidebarStyle","sidebarView","sidebarview","borderRight","userScreenMainStyle","itemClicked","toggleSideBar","chatWithUser","messageScreen","creatingGroup","inputStyle","CometChatCreateGroup","enablePublicGroup","enablePasswordGroup","enablePrivateGroup","passwordChangeHandler","nameChangeHandler","typeChangeHandler","passwordInput","validate","groupName","createGroup","PRIVATE","Group","newGroup","populateGroupType","groupTypes","groupTypeSelect","groupTypeKeys","groupTypeListOptions","groupTypeKey","GroupDetailManager","groupMemberRequest","bannedGroupMemberRequest","GroupMembersRequestBuilder","BannedMembersRequestBuilder","deleteLink","deleteCss","CometChatGroupDetails","groupUpdated","updateGroupMemberPresence","member","updatedMember","addParticipants","removeParticipants","banMembers","unbanMembers","updateParticipants","memberlist","memberKey","k","memberObj","newMemberObj","bannedmemberlist","bannedMemberKey","bannedMemberObj","newBannedMemberObj","getGroupMembers","administratorslist","moderatorslist","fetchNextGroupMembers","getBannedGroupMembers","fetchNextBannedGroupMembers","deleteGroup","showDeleteConfirmDialog","showLeaveGroupConfirmDialog","showTransferOwnershipConfirmDialog","onLeaveConfirm","leaveGroup","onTransferConfirm","transferOwnership","owner","viewMember","addMember","membersActionHandler","members","updateOwnership","unbannedMembers","filteredBannedMembers","bannedmember","found","triggerUpdate","newItem","groupmembers","filteredMembers","groupmember","closeGroupDetail","addAdministrator","addModerator","viewMembersBtn","paddingBottom","addMembersBtn","deleteGroupBtn","bannedMembersBtn","leaveGroupBtn","viewMembers","loggedinuser","addMembers","GroupListManager","groupRequest","GroupsRequestBuilder","groupWrapperStyle","groupHeaderStyle","groupHeaderCloseStyle","groupHeaderTitleStyle","groupAddStyle","CometChatGroupList","enableSearchGroup","enableCreateGroup","enableJoinGroup","updateMemberChanged","updateMemberRemoved","updateMemberAdded","updateMemberJoined","grouplist","groupKey","g","groupObj","newgroupObj","getGroups","newGroupObj","searchGroup","fetchNextGroups","groupList","createGroupHandler","createGroupActionHandler","groupListRef","selectedGroup","createGroupBtn","groupListTemplate","groupListWrapper","itemIconStyle","CometChatGroupListItem","groupTypeIcon","shieldIcon","lockIcon","modalCaptionStyle","textAlignStyle","listHeaderStyle","nameColumnStyle","editAccess","scopeColumnStyle","actionColumnStyle","CometChatViewGroupMemberList","updateMembers","changeScope","memberToBan","banGroupMember","memberToKick","kickGroupMember","updateGroupMemberScope","setUserColumnTitle","matches","userColumnTitle","matchMedia","addListener","modalRowStyle","borderLeft","participantView","avatarStyle","marginProp","displayProp","scopeIconStyle","kickIconStyle","CometChatViewGroupMemberListItem","toggleChangeScope","showChangeScope","scopeChangeHandler","updateMemberScope","contains","changeScopeDropDown","defaultValue","editClassName","changescope","ban","banIcon","kick","kickIcon","doneIcon","scopeIcon","AddMembersManager","membersRequest","initializeMembersRequest","modalCloseStyle","searchButtonStyle","modalListStyle","modalFootStyle","addingMembers","CometChatAddGroupMemberList","membersToAdd","membersToRemove","filteredlist","filteredUserList","foundbanned","membersUpdated","userState","IndexFound","membersList","newmember","newMember","GroupMember","addMembersToGroup","addGroupMemberBtn","addingIcon","firstLetter","changed","selectionBoxStyle","inactiveStateImg","activeStateImg","CometChatAddGroupMemberListItem","checked","setChecked","nameContainer","lastChild","inactiveIcon","activeIcon","htmlFor","roleColumnStyle","CometChatBanGroupMemberList","unbanMember","memberToUnBan","unbanGroupMember","membersToBan","membersToUnBan","userStyle","roleStyle","actionStyle","CometChatBanGroupMemberListItem","unBan","unban","groupScreenSidebarStyle","groupScreenMainStyle","CometChatGroupListWithMessages","otherProps","newObject","chatWithGroup","btnState","newGroupOwner","transferringOwnership","CometChatTransferOwnershipMemberList","changeOwnership","updateGroupOwner","transferGroupOwnership","memberList","transferBtn","transferText","transferIcon","modalColumnStyle","selectionColumnStyle","CometChatTransferOwnershipMemberListItem","handleCheck","toggleSelectedState","isSelected","chatWrapperStyle","viewdetailscreen","threadmessageview","secondaryViewWidth","chatSecondaryStyle","messagePaneUnreadBannerMessageStyle","textShadow","CometChatMessages","enableGroupActionMessages","enableCallActionMessages","enableSendingOneOnOneMessage","enableSendingGroupMessage","updateReplyCount","appendMessage","messageSent","triggerHandler","updateMessages","updateParentThreadedMessage","removeMessages","prependMessages","prependMessagesAndScrollToBottom","refreshingMessages","messageRefreshed","newMessagesArrived","jumpToMessages","messageEdited","clearEditPreview","appendCallMessage","toggleOriginalImageView","audioCall","videoCall","toggleDetailView","toggleReaction","liveReactionReceived","outgoingDirectCallRef","viewThreadedMessage","threadMessageComposed","closeThreadedMessage","appendMemberAddedMessage","appendMemberUnbannedMessage","appendMemberScopeChangedMessage","appendMemberKickedMessage","appendMemberBannedMessage","errorHandler","infoMessageHandler","infoCode","eachMember","viewOriginalImage","viewdetail","parentMessage","threaditem","threadmessageparent","threadmessageitem","threadmessagetype","Call","initiateCall","outgoingCall","outgoingCallRef","liveReaction","markMessagesAsRead","unreadMessage","messageListRef","messagelist","receivedMessage","composerRef","messageComposer","newMessageIndicator","liveReactionView","incomingCallView","incomingDirectCallView","outgoingDirectCallView","outgoingCallView","detailScreen","threadMessageView","activeTab","threadItem","threadType","originalImageView","messageComponent","messageWrapper","parentMessageStyle","messageSeparatorStyle","hr","CometChatMessageThread","parentMessageEdited","newReplyCount","getParentMessageComponent","seperator","replyText","fontWight","scrollbarWidth","msgTimestampStyle","colorValue","CometChatReadReceipt","toggleReadReceipts","receipts","ticks","receiptText","errorTick","sendingTick","greyTick","blueDoubleTick","greyDoubleTick","receipt","getMessageSentTime","CometChatReceiverAudioMessageBubble","controls","CometChatReceiverDirectCallBubble","messageTitle","joinCallMessage","messageFileWrapperStyle","textDecoration","label","CometChatReceiverFileMessageBubble","CometChatReceiverImageMessageBubble","chooseImage","thumbnailGenerationObject","smallUrl","imageToDownload","thumbnailGenerationData","imageName","imageUrl","downloadImage","setMessageImageUrl","imgUrl","xhr","XMLHttpRequest","responseType","readyState","statusText","onerror","Error","ontimeout","send","parsedMessage","emojiMessage","showVariation","emojiProp","zoom","CometChatReceiverTextMessageBubble","getMessageText","formattedText","emojiParsedMessage","twemoji","folder","ext","ReactHtmlParser","decodeEntities","enableLargerSizeEmojis","translatedMessage","translateToLanguage","browserLanguageArray","linkPreviewData","CometChatReceiverVideoMessageBubble","CometChatSenderAudioMessageBubble","getFileData","Blob","fileName","fileUrl","fileData","CometChatSenderDirectCallBubble","CometChatSenderFileMessageBubble","CometChatSenderImageMessageBubble","readAsDataURL","CometChatSenderTextMessageBubble","messageTextRef","CometChatSenderVideoMessageBubble","replyCountStyle","CometChatThreadedMessageReplyCount","reply","setReply","replies","chatScreenSidebarStyle","chatScreenMainStyle","CometChatConversationListWithMessages","tab","userInfoScreenStyle","userStatusStyle","optionTitleStyle","optionStyle","CometChatUserProfile","userProfile","notificationIcon","privacyIcon","chatIcon","helpIcon","reportIcon","isActive","activeStateBg","itemLinkTextStyle","colorProp","CometChatNavBar","tabListKeys","getFilteredTabs","filteredTabs","promises","enableChats","enableUsers","enableGroups","enableSettings","allSettled","eachTabKey","tabKey","tabEnabled","tabChanged","getActiveTab","getTabList","chatsTabActive","userTabActive","groupsTabActive","moreTabActive","chatGreyIcon","contactGreyIcon","groupGreyIcon","moreGreyIcon","tabName","t","unifiedSidebarStyle","unifiedMainStyle","CometChatUI","navBarAction","navBarRef","alert","showLoading","loading","getElementById","remove","hideLoading","showDarkHeader","header","headerLeft","headerRight","headerMiddle","headerMiddleItems","getElementsByClassName","headerActions","searchContainer","body","showLightHeader","Chat","uiService","save","payload","get","AUTH","KEYWORD","HOST","HOUSE","PROFILE","ChatWithHost","host","setHost","storageService","STORAGE_KEYS","withModal","ModalComponent","WrapperComponent","isModalShown","setIsModalShown","toggleModal","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","firebase","apps","initializeApp","realTimeDb","database","auth","firestore","storage","insert","set","createAccount","email","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","getData","query","criteria","child","orderByChild","equalTo","snapshot","upload","entity","putString","getDownloadURL","getRef","getDataRealtimeQuery","HOUSES","Create","imageToHouse","setImageToHouse","addressRef","useRef","descriptionRef","filePickerRef","nameRef","priceRef","getInputs","price","address","description","isValid","validator","isEmpty","isNumeric","onImageUploaded","firebaseService","FIREBASE_KEYS","hidden","readerEvent","uuidv4","createdBy","ownerName","fullname","ownerImage","navigate","route","HOMES","EXPERIENCES","ONLINE_EXPERIENCES","SEARCH","DETAIL","MENUS","menu","setMenu","history","useHistory","changeMenu","logout","confirm","logoutCometChat","removeAuthedInfo","routeService","d","Home","bg","HouseDetailDescription","house","viewBox","xmlns","role","focusable","HouseDetailForm","fillRule","HouseDetailImages","HouseDetailName","HouseDetailSub","HouseDetail","setHouse","loadHouse","useCallback","Loading","authKey","User","setName","setAvatar","createUser","SignUp","aboutRef","confirmPasswordRef","emailRef","fullnameRef","passwordRef","roleRef","workRef","signup","work","about","confirmPassword","isSignupValid","createdAccount","cometChatService","isEmail","isLength","avatars","defaultChecked","isUserCredentialsValid","saveAuthedInfo","PrivateRoute","rest","render","to","ProfileLeft","profile","ProfileIntro","ProfileHouse","onItemClicked","ProfileHouses","houses","setHouses","housesRef","tempRef","loadHouses","onDataLoaded","keywords","off","ROUTES","Profile","setProfile","loadProfile","Search","startDate","setStartDate","endDate","setEndDate","searchRef","searchOrReload","location","ROUTE","reload","clearForm","selected","date","stroke","strokeWidth","House","keyword","Houses","setKeyword","SearchResults","App","exact","path","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.9c32980a.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport const Context = React.createContext(null);\n\nexport const AppContext = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [cometChat, setCometChat] = useState(null);\n\n  const context = {\n    user,\n    setUser,\n    cometChat,\n    setCometChat\n  };\n\n  const initAuthUser = () => {\n    const authenticatedUser = localStorage.getItem('auth');\n    if (authenticatedUser) {\n      setUser(JSON.parse(authenticatedUser));\n    }\n  };\n\n  const initCometChat = async () => {\n    const { CometChat } = await import('@cometchat-pro/chat');\n    const appID = `${process.env.REACT_APP_COMETCHAT_APP_ID}`;\n    const region = `${process.env.REACT_APP_COMETCHAT_REGION}`;\n    const appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build();\n    CometChat.init(appID, appSetting).then(\n      () => {\n        setCometChat(() => CometChat);\n      },\n      error => {\n      }\n    );\n  };\n\n  useEffect(() => {\n    initAuthUser();\n    initCometChat();\n  }, []);\n\n  return (\n    <Context.Provider value={context}>\n      {children}\n    </Context.Provider>\n  );\n};\n\nexport default AppContext;","export const TEXT_MESSAGE_RECEIVED = 'onTextMessageReceived';\nexport const MEDIA_MESSAGE_RECEIVED = 'onMediaMessageReceived';\nexport const CUSTOM_MESSAGE_RECEIVED = 'onCustomMessageReceived';\nexport const MESSAGE_DELIVERED = 'onMessagesDelivered';\nexport const MESSAGE_READ = 'onMessagesRead';\nexport const MESSAGE_DELETED = 'onMessageDeleted';\nexport const MESSAGE_EDITED = 'onMessageEdited';\nexport const TRANSIENT_MESSAGE_RECEIVED = \"onTransientMessageReceived\";\n\nexport const INCOMING_CALL_RECEIVED = 'onIncomingCallReceived';\nexport const OUTGOING_CALL_ACCEPTED = 'onOutgoingCallAccepted';\nexport const OUTGOING_CALL_REJECTED = 'onOutgoingCallRejected';\nexport const INCOMING_CALL_CANCELLED = 'onIncomingCallCancelled';\n\nexport const GROUP_MEMBER_SCOPE_CHANGED = \"onGroupMemberScopeChanged\";\nexport const GROUP_MEMBER_KICKED = \"onGroupMemberKicked\";\nexport const GROUP_MEMBER_BANNED = \"onGroupMemberBanned\";\nexport const GROUP_MEMBER_UNBANNED = \"onGroupMemberUnbanned\";\nexport const GROUP_MEMBER_ADDED = \"onMemberAddedToGroup\";\nexport const GROUP_MEMBER_LEFT = \"onGroupMemberLeft\";\nexport const GROUP_MEMBER_JOINED = \"onGroupMemberJoined\";\n\nexport const USER_ONLINE = \"onUserOnline\";\nexport const USER_OFFLINE = \"onUserOffline\";\n\nexport const TYPING_STARTED = \"onTypingStarted\";\nexport const TYPING_ENDED = \"onTypingEnded\";\n\nexport const CUSTOM_TYPE_POLL = \"extension_poll\";\nexport const CUSTOM_TYPE_STICKER = \"extension_sticker\";\nexport const CUSTOM_TYPE_DOCUMENT = \"extension_document\";\nexport const CUSTOM_TYPE_WHITEBOARD = \"extension_whiteboard\";\nexport const CUSTOM_TYPE_MEETING = \"meeting\";\n\nexport const CONSTANTS = {\n\tLOCALE: \"cometchat:locale\",\n\tACTIVECALL: \"cometchat:activecall\",\n\tMAX_MESSAGE_COUNT: 1000,\n\tMETADATA_TYPE_LIVEREACTION: \"live_reaction\",\n\tLIVE_REACTIONS: { heart: \"./resources/heart.png\", thumbsup: \"\", clap: \"\", wink: \"\" },\n\tMESSAGES_COMPONENT: \"messages\",\n\tEMBEDDED_COMPONENT: \"embedded\",\n\tOUTGOING_DEFAULT_CALLING: \"outgoing_default\",\n\tINCOMING_DEFAULT_CALLING: \"incoming_default\",\n\tINCOMING_DIRECT_CALLING: \"incoming_direct\",\n\tOUTGOING_DIRECT_CALLING: \"outgoing_direct\",\n\tAUDIO: {\n\t\tINCOMING_MESSAGE: \"incomingMessage\",\n\t\tINCOMING_OTHER_MESSAGE: \"incomingOtherMessage\",\n\t\tOUTGOING_MESSAGE: \"outgoingMessage\",\n\t\tINCOMING_CALL: \"incomingCall\",\n\t\tOUTGOING_CALL: \"outgoingCall\",\n\t},\n\tERROR_CODES: {\n\t\tERR_CHAT_API_FAILURE: \"ERR_CHAT_API_FAILURE\",\n\t},\n\tCALLS: {\n\t\tONGOING_CALL: \"noOngoingCall\",\n\t\tONGOING_CALL_SAME_GROUP: \"ongoingDirectCallInSameGroup\",\n\t\tONGOING_CALL_DIFF_GROUP: \"ongoingDirectCallInDifferentGroup\",\n\t},\n\tGROUPS: {\n\t\tOWNER: \"owner\",\n\t},\n\tLIVE_REACTION_INTERVAL: 1500,\n\tFILE_METADATA: \"file\",\n};\n\nexport const ACTIONS = {\n\tMESSAGE_SENT: \"messageSent\",\n\tMESSAGE_COMPOSED: \"messageComposed\",\n\tERROR_IN_SENDING_MESSAGE: \"errorInSendingMessage\",\n\tACCEPT_DIRECT_CALL: \"acceptDirectCall\",\n\tJOIN_DIRECT_CALL: \"joinDirectCall\",\n\tSTART_DIRECT_CALL: \"startDirectCall\",\n\tDIRECT_CALL_ENDED: \"directCallEnded\",\n\tPOLL_CREATED: \"pollCreated\",\n\tGROUP_DELETED: \"groupDeleted\",\n\tGROUP_LEFT: \"leftGroup\",\n\tGROUP_CREATED: \"groupCreated\",\n\tVIEW_DETAIL: \"viewDetail\",\n\tVIEW_THREADED_MESSAGE: \"viewThreadedMessage\",\n\tCLOSE_THREADED_MESSAGE: \"closeThreadedMessage\",\n\tTOGGLE_SIDEBAR: \"toggleSidebar\",\n\tON_MESSAGE_EDITED: \"onMessageEdited\",\n\tON_MESSAGE_DELETED: \"onMessageDeleted\",\n\tON_MESSAGE_READ_DELIVERED: \"onMessageReadAndDelivered\",\n\tDELETE_MESSAGE: \"deleteMessage\",\n\tMESSAGE_DELETED: \"messageDeleted\",\n\tEDIT_MESSAGE: \"editMessage\",\n\tMESSAGE_EDITED: \"messageEdited\",\n\tCLOSE_GROUP_DETAIL: \"closeGroupDetail\",\n\tCLOSE_USER_DETAIL: \"closeUserDetail\",\n\tVIEW_ORIGINAL_IMAGE: \"viewOriginalImage\",\n\tFETCH_GROUP_MEMBERS: \"fetchGroupMembers\",\n\tSCOPECHANGE_GROUPMEMBER_SUCCESS: \"updateGroupMember\",\n\tBAN_GROUP_MEMBER: \"ban\",\n\tKICK_GROUP_MEMBER: \"kick\",\n\tBAN_GROUPMEMBER_SUCCESS: \"banGroupMember\",\n\tKICK_GROUPMEMBER_SUCCESS: \"kickGroupMember\",\n\tCHANGE_SCOPE_GROUP_MEMBER: \"changescope\",\n\tUNBAN_GROUP_MEMBER: \"unban\",\n\tADD_GROUP_MEMBER_SUCCESS: \"addGroupMembers\",\n\tFETCH_BANNED_GROUP_MEMBERS: \"fetchBannedGroupMembers\",\n\tUNBAN_GROUP_MEMBER_SUCCESS: \"unbanGroupMembers\",\n\tREACT_TO_MESSAGE: \"reactToMessage\",\n\tINITIATE_VIDEO_CALL: \"initiateVideoCall\",\n\tINITIATE_AUDIO_CALL: \"initiateAudioCall\",\n\tCHANGE_TAB: \"changeTab\",\n\tITEM_CLICKED: \"itemClicked\",\n\tTHREAD_MESSAGE_COMPOSED: \"threadMessageComposed\",\n\tSEND_LIVE_REACTION: \"sendReaction\",\n\tSTOP_LIVE_REACTION: \"stopReaction\",\n\tSHOW_LIVE_REACTION: \"showReaction\",\n\tCLEAR_EDIT_PREVIEW: \"clearEditPreview\",\n\tMESSAGE_RECEIVED: \"messageReceived\",\n\tCUSTOM_MESSAGE_RECEIVED: \"customMessageReceived\",\n\tMESSAGE_READ: \"messageRead\",\n\tMESSAGES_INITIAL_FETCH: \"messageInitialFetch\",\n\tMESSAGES_FETCHED: \"messageFetched\",\n\tREFRESHING_MESSAGES: \"refreshingMessages\",\n\tMESSAGES_REFRESHED: \"messageRefreshed\",\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n\tSTART_AUDIO_CALL: \"startAudioCall\",\n\tSTART_VIDEO_CALL: \"startVideoCall\",\n\tOUTGOING_CALL_ACCEPTED: \"outgoingCallAccepted\",\n\tOUTGOING_CALL_REJECTED: \"outgoingCallRejected\",\n\tOUTGOING_CALL_CANCELLED: \"outgoingCallCancelled\",\n\tINCOMING_CALL_ACCEPTED: \"incomingCallAccepted\",\n\tINCOMING_CALL_REJECTED: \"incomingCallRejected\",\n\tCALL_ENDED: \"callEnded\",\n\tUSER_JOINED_CALL: \"userJoinedCall\",\n\tUSER_LEFT_CALL: \"userLeftCall\",\n\tDELETE_CONVERSATION: \"deleteConversation\",\n\tCONVERSATION_DELETED: \"conversationDeleted\",\n\tSEND_STICKER: \"sendSticker\",\n\tCLOSE_STICKER_KEYBOARD: \"closeStickerKeyboard\",\n\tERROR: \"errorOccurred\",\n\tINFO: \"infoMessage\",\n\tTRANSLATE_MESSAGE: \"translateMessage\"\n};\n\nexport const EVENTS = {\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n};\n\n\nexport const KEYS = {\n\tMETADATA: \"metadata\",\n\tINCREMENT_UNREAD_COUNT: \"incrementUnreadCount\",\n};","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallAlertManager {\n\n    callListenerId = \"incoming_call_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                    callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const theme = {\n    fontFamily: \"Inter, sans-serif\",\n    fontSize: \"14px\",\n    primaryColor: \"#39f\",\n    secondaryTextColor: \"#808080\",\n    color: {\n        primary: \"#141414\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        grey: \"rgba(20,20,20,0.04)\",\n        helpText: \"rgba(20, 20, 20, 0.6)\",\n        blue: \"#39f\",\n        white: \"#fff\",\n        red: \"#ff3b30\"\n    },\n    borderColor: {\n        primary: \"#eaeaea\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        white: \"#fff\",\n        blue: \"#39f\",\n    },\n    backgroundColor: {\n        white: \"#fff\",\n        primary: \"#E6E6E6\",\n        secondary: \"#f6f6f6\",\n        blue: \"#39f\",\n        red: \"#ff3b30\",\n        grey: \"rgba(20,20,20,0.04)\",\n        lightGrey: \"rgba(20, 20, 20, 0.08)\",\n        darkGrey: \"rgba(20,20,20,0.9)\",\n        callScreenGrey: \"#444444\",\n        silver: \"#c4c4c4\"\n    },\n    breakPoints: [\n        \"(min-width: 320px) and (max-width: 767px)\",\n        \"(min-width: 320px) and (max-width: 480px)\",\n        \"(min-width: 481px) and (max-width: 768px)\",\n        \"(min-width: 769px) and (max-width: 1024px)\",\n        \"(min-width: 1025px) and (max-width: 1200px)\",\n    ]\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { imgStyle } from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatAvatar extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imgRef = React.createRef();\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tavatarImage: srcIcon\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setAvatarImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif(prevProps !== this.props) {\n\n\t\t\tthis.setAvatarImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tsetAvatarImage = () => {\n\n\t\tif ((this.props.image).trim().length) {\n\n\t\t\tthis.getImage(this.props.image);\n\n\t\t} else if (Object.keys(this.props.user).length) {\n\n\t\t\tif (this.props.user.hasOwnProperty(\"avatar\")) {\n\n\t\t\t\tconst avatarImage = this.props.user.avatar;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst uid = this.props.user.uid;\n\t\t\t\tconst char = this.props.user.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(uid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\t\t\t}\n\n\t\t} else if (Object.keys(this.props.group).length) {\n\n\t\t\tif (this.props.group.hasOwnProperty(\"icon\")) {\n\n\t\t\t\tconst avatarImage = this.props.group.icon;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst guid = this.props.group.guid;\n\t\t\t\tconst char = this.props.group.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(guid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tgetImage = (image) => {\n\n\t\tlet img = new Image();\n\t\timg.src = image;\n\t\timg.onload = () => {\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ avatarImage: image });\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tgenerateAvatar = (generator, data) => {\n\n\t\tconst stringToColour = function (str) {\n\n\t\t\tlet hash = 0;\n\t\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\t\thash = str.charCodeAt(i) + ((hash << 5) - hash);\n\t\t\t}\n\n\t\t\tlet colour = '#';\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tlet value = (hash >> (i * 8)) & 0xFF;\n\t\t\t\tcolour += ('00' + value.toString(16)).substr(-2);\n\t\t\t}\n\t\t\treturn colour;\n\t\t}\n\n\t\tconst canvas = document.createElement(\"canvas\");\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tcanvas.width = 200;\n\t\tcanvas.height = 200;\n\n\t\t// Draw background\n\t\tcontext.fillStyle = stringToColour(generator);\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t// Draw text\n\t\tcontext.font = \"bold 100px 'Inter', sans-serif\";\n\t\tcontext.fillStyle = \"white\";//foregroundColor;\n\t\tcontext.textAlign = \"center\";\n\t\tcontext.textBaseline = \"middle\";\n\t\tcontext.fillText(data, canvas.width / 2, canvas.height / 2);\n\n\t\treturn canvas.toDataURL(\"image/png\");\n\t}\n\n\trender() {\n\n\t\tconst borderWidth = this.props.borderWidth;\n\t\tconst borderStyle = this.props.borderStyle;\n\t\tconst borderColor = this.props.borderColor;\n\t\tconst cornerRadius = this.props.cornerRadius;\n\n\t\tconst getStyle = () => ({ borderWidth: borderWidth, borderStyle: borderStyle, borderColor: borderColor, borderRadius: cornerRadius });\n\n\t\treturn (\n\t\t\t<img src={this.state.avatarImage} css={imgStyle()} alt={this.state.avatarImage} style={getStyle()} ref={el => { this.imgRef = el;}} />\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatAvatar.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderStyle: \"solid\",\n\tborderColor: theme.borderColor.primary,\n\tcornerRadius: \"50%\",\n\ttheme: theme,\n\timage: \"\",\n\tuser: {},\n\tgroup: {},\n};\n\nCometChatAvatar.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderStyle: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n\timage: PropTypes.string,\n\ttheme: PropTypes.object,\n\tuser: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.User)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)])\n}\n\nexport { CometChatAvatar };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const imgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        display: \"inherit\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}","export const backdropStyle = (props) => {\n\n    return {\n        zIndex: \"3\",\n        backgroundColor: \"#000\",\n        opacity: \".3\",\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0\",\n        left: \"0\",\n        cursor: \"pointer\",\n        transition: \"background .3s ease-out 0\",\n        ...props.style,\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {\n    backdropStyle\n} from \"./style\";\n\nconst CometChatBackdrop = props => (props.show ? <div css={backdropStyle(props)} className=\"modal__backdrop\" onClick={props.clicked}></div> : null);\n\n// Specifies the default values for props:\nCometChatBackdrop.defaultProps = {\n\tshow: false,\n\tstyle: {},\n\tclicked: () => {},\n};\n\nCometChatBackdrop.propTypes = {\n    show: PropTypes.bool,\n    style: PropTypes.object,\n    clicked: PropTypes.func,\n}\n\nexport { CometChatBackdrop };","export const badgeStyle = (props) => {\n\n    return {\n        display: \"block\",\n        fontSize: \"12px\",\n        width: \"auto\",\n        height: \"18px\",\n        borderRadius: \"16px\",\n        backgroundColor: `${props.theme.primaryColor}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        fontWeight: \"700\",\n        lineHeight: \"18px\",\n        marginLeft: \"4px\",\n        padding: \"0 9px\",\n        marginRight: \"2px\",\n        opacity: \"1\",\n        transition: \"opacity .1s\",\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { theme } from \"../../../resources/theme\";\nimport { badgeStyle } from \"./style\";\n\nconst CometChatBadgeCount = (props) => {\n\n\tlet count = \"\";\n\n\tif(props.count) {\n\t\tcount = (\n\t\t\t<span css={badgeStyle(props)} className=\"unread-count\">{props.count}</span>\n\t\t);\n\t}\n\t\n\treturn count;\n}\n\n// Specifies the default values for props:\nCometChatBadgeCount.defaultProps = {\n\tcount: 0,\n\ttheme: theme\n};\n\nCometChatBadgeCount.propTypes = {\n\tcount: PropTypes.number,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatBadgeCount };","export const presenceStyle = (props) => {\n\n    let presenceStatus = {\n        backgroundColor: \"#C4C4C4\"\n    }\n\n    if (props.status === \"online\" || props.status === \"available\") {\n        presenceStatus = {\n            backgroundColor: \"#3BDF2F\"\n        }\n    }\n\n    return {\n        width: \"9px\",\n        height: \"9px\",\n        top: \"-12px\",\n        float: \"right\",\n        position: \"relative\",\n        ...presenceStatus\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\"\nimport PropTypes from \"prop-types\"\n\nimport {CometChatContext} from \"../../../util/CometChatContext\"\n\nimport {presenceStyle} from \"./style\"\n\nconst CometChatUserPresence = props => {\n\n\tconst context = React.useContext(CometChatContext);\n    const [presence, setPresence] = React.useState(false);\n\n    const togglePresence = () => {\n\n        context.FeatureRestriction.isUserPresenceEnabled().then(response => {\n\n            if (response !== presence) {\n                setPresence(response);\n            }\n\n        }).catch(error => {\n\n            if (presence !== false) {\n                setPresence(false);\n            }\n        })\n\n    }\n\n    React.useEffect(togglePresence);\n\n\t//if user presence feature is disabled\n\tif (presence === false) {\n\t\treturn null\n\t}\n\n\tconst borderWidth = props.borderWidth\n\tconst borderColor = props.borderColor\n\tconst cornerRadius = props.cornerRadius\n\n\tconst getStyle = () => ({borderWidth: borderWidth, borderStyle: \"solid\", borderColor: borderColor, borderRadius: cornerRadius})\n\n\treturn <span css={presenceStyle(props)} className=\"presence\" style={getStyle()}></span>\n}\n\n// Specifies the default values for props:\nCometChatUserPresence.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderColor: \"#eaeaea\",\n\tcornerRadius: \"50%\",\n};\n\nCometChatUserPresence.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n}\n\nexport {CometChatUserPresence}","import * as enums from \"../../util/enums.js\";\n\nimport translationAR from \"./locales/ar/translation.json\";\nimport translationDE from \"./locales/de/translation.json\";\nimport translationEN from \"./locales/en/translation.json\";\nimport translationES from \"./locales/es/translation.json\";\nimport translationFR from \"./locales/fr/translation.json\";\nimport translationHI from \"./locales/hi/translation.json\";\nimport translationMS from \"./locales/ms/translation.json\";\nimport translationPT from \"./locales/pt/translation.json\";\nimport translationRU from \"./locales/ru/translation.json\";\nimport translationZH from \"./locales/zh/translation.json\";\nimport translationZHTW from \"./locales/zh-tw/translation.json\";\nimport translationSV from \"./locales/sv/translation.json\";\nimport translationLT from \"./locales/lt/translation.json\";\n\n// the translations\nconst translations = {\n    \"ar\": translationAR,\n    \"de\": translationDE,\n    \"en\": translationEN,\n    \"es\": translationES,\n    \"fr\": translationFR,\n    \"hi\": translationHI,\n    \"ms\": translationMS,\n    \"pt\": translationPT,\n    \"ru\": translationRU,\n    \"zh\": translationZH,\n    \"zh-tw\": translationZHTW,\n    \"sv\": translationSV,\n    \"lt\": translationLT,\n};\n\nwindow.addEventListener('languagechange', () => {\n    let language = Translator.getBrowserLanguage().toLowerCase();\n    Translator.setLanguage(language);\n});\n\nclass Translator {\n\n    static key = enums.CONSTANTS[\"LOCALE\"];\n    static rtlLanguages = [\"ar\"];\n    static defaultLanguage = \"en\";\n\n    static getLanguage = () => {\n\n        return localStorage.getItem(this.key);\n    }\n\n    static setLanguage = (language) => {\n\n        const item = this.key;\n        localStorage.setItem(item, language);\n    }\n\n    static getBrowserLanguage = () => ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage);\n\n    static getDefaultLanguage = () => {\n\n        //get the language from localstorage\n        const savedLanguage = this.getLanguage();\n\n        //get the language set in the browser\n        const browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n        let browserLanguage = browserLanguageCode;\n\n        //check if the language set in the browser has hyphen(-), if yes split and take the first element of the array\n        if (browserLanguageCode !== \"zh-tw\" && browserLanguageCode.indexOf(\"-\") !== -1) {\n\n            const browserLanguageArray = browserLanguageCode.split(\"-\");\n            browserLanguage = browserLanguageArray[0];\n        }\n\n        //if there is language set in localstorage and it is different from browser language, update local storage and return the language code\n        if (savedLanguage) {\n\n            if (savedLanguage !== browserLanguage) {\n\n                this.setLanguage(browserLanguage);\n                \n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n                \n            } else {\n\n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n            }\n\n        } else {\n\n            this.setLanguage(browserLanguage);\n\n            //if the translations are not available, default to en\n            return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n        }\n    }\n\n    static getDirection(language) {\n        return this.rtlLanguages.includes(language) ? \"rtl\" : \"ltr\";\n    }\n\n    static translate(str, language) {\n\n        if (translations.hasOwnProperty(language)) {\n\n            const languageDb = translations[language];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n\n        } else {\n\n            const languageDb = translations[this.defaultLanguage];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n        }\n    }\n}\n\nexport default Translator;","export const notificationContainerStyle = (props, keyframes) => {\n\n    // const toastInRight = keyframes`\n    // from {transform: translateX(100%);}\n    // to {transform: translateX(0);}`;\n\n    // const toastInLeft = keyframes`\n    //     from {transform: translateX(-100%); }\n    //     to {transform: translateX(0);}`;\n\n    // let positionProp = {}\n    // if (props.position === \"top-right\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-right\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"top-left\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-left\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n    // }\n\n    return {\n        fontSize: \"14px\",\n        boxSizing: \"border-box\",\n        position: \"absolute\",\n        zIndex: \"5\",\n        width: \"80%\",\n        maxWidth: \"320px\",\n        top: \"70px\",\n        left: \"50%\",\n        transform: \"translate(-50%, 0)\",\n    }\n}\n\nexport const notificationStyle = (props, state) => {\n\n    let backgroundColorProp = {\n        backgroundColor: \"#000\",\n    };\n    if (state.type === \"ERROR\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#d9534f\",\n        };\n\n    } else if (state.type === \"SUCCESS\") {\n       \n        backgroundColorProp = {\n            backgroundColor: \"#5cb85c\",\n        };\n\n    } else if (state.type === \"INFO\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#5bc0de\",\n        };\n\n    } else if (state.type === \"WARNING\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#f0ad4e\",\n        };\n    }\n\n    return {\n        transition: \".3s ease\",\n        position: \"relative\",\n        pointerEvents: \"auto\",\n        overflow: \"hidden\",\n        padding: \"8px\",\n        marginBottom: \"16px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        minHeight: \"50px\",\n        boxShadow: \"0 0 10px #999\",\n        color: \"#fff\",\n        ...backgroundColorProp,\n        backgroundPosition: \"15px\",\n        backgroundRepeat: \"no-repeat\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        boxSizing: \"border-box\"\n    }\n}\n\nexport const notificationIconStyle = () => {\n\n    return {\n        marginRight: \"16px\",\n        width: \"25px\",\n        height: \"25px\",\n        flexShrink: \"0\",\n        \"img\": {\n            maxWidth: \"100%\",\n        }\n    }\n}\n\nexport const notificationMessageContainerStyle = () => {\n\n    return {\n        width: \"calc(100% - 60px)\"\n    }\n}\n\nexport const notificationMessageStyle = () => {\n\n    return {\n        margin: \"0\",\n        textAlign: \"left\",\n        marginLeft: \"-1px\",\n    }\n}\n\nexport const notificationCloseButtonStyle = () => {\n\n    return {\n        width: \"25px\",\n        height: \"25px\",\n        padding: \"0\",\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"transparent\",\n        cursor:\" pointer\",\n        \"img\": {\n            flexShrink: \"0\",\n            maxWidth: \"100%\"\n        }\n    }\n}\n\nexport const iconStyle = (img, theme) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${theme.color.white}`,\n    };\n}\n","export default __webpack_public_path__ + \"static/media/close-circle-filled.2b9a0857.svg\";","export default __webpack_public_path__ + \"static/media/checkmark-filled.73f2a848.svg\";","export default __webpack_public_path__ + \"static/media/warning-filled.178b4e9a.svg\";","export default __webpack_public_path__ + \"static/media/info-filled.2fc272ce.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    notificationContainerStyle,\n    notificationStyle,\n    notificationIconStyle,\n    notificationMessageContainerStyle,\n    notificationMessageStyle,\n    notificationCloseButtonStyle,\n    iconStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close-circle-filled.svg\";\nimport successIcon from \"./resources/checkmark-filled.svg\";\nimport errorIcon from \"./resources/warning-filled.svg\";\nimport infoIcon from \"./resources/info-filled.svg\";\nimport warningIcon from \"./resources/warning-filled.svg\";\n\nexport class CometChatToastNotification extends React.Component {\n\n    interval;\n    static types = {\n        \"INFO\": \"info\",\n        \"WARNING\": \"warning\",\n        \"SUCCESS\": \"success\",\n        \"ERROR\": \"error\",\n    }\n\n    constructor(props) {\n\n        super(props);\n\n        this._isMounted = false;\n        this.state = { \n            type: \"\",\n            message: \"\"\n        };\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n\n        this._isMounted = false;\n        this.clearAutoDismiss();\n    }\n\n    setInfo = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"INFO\", message: message, icon: infoIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setError = (message) => {\n        \n        if (this._isMounted) {\n\n            this.setState({ type: \"ERROR\", message: message, icon: errorIcon });\n            //this.setAutoDismiss();\n        }\n    }\n\n    setSuccess = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"SUCCESS\", message: message, icon: successIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setWarning = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"WARNING\", message: message, icon: warningIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setAutoDismiss = () => {\n\n        this.clearAutoDismiss();\n        \n        if (this.props.autoDelete) {\n            this.interval = setTimeout(() => this.deleteToast(), this.props.dismissTime);\n        }\n    }\n\n    clearAutoDismiss = () => {\n        clearTimeout(this.interval);\n    }\n\n    deleteToast = () => {\n        this.setState({ type: \"\", message: \"\", icon: \"\" });\n    }\n\n    render() {\n\n        if (!this.state.type.trim().length || !this.state.message.trim().length) {\n            return null;\n        }\n\n        const messageClassName = `toast__message message-${CometChatToastNotification.types[this.state.type]}`;\n        const iconClassName = `toast__icon icon-${CometChatToastNotification.types[this.state.type]}`;\n        let toastIcon = (this.state.icon.trim().length) ? (\n\n            <div css={notificationIconStyle()} className={iconClassName}>\n                <i css={iconStyle(this.state.icon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n            </div>\n        ) : null;\n\n        return (\n            <div css={notificationContainerStyle(this.props, keyframes)} className=\"toast__notification\">\n                <div css={notificationStyle(this.props, this.state)} className=\"toast__container\">\n                    {toastIcon}\n                    <div css={notificationMessageContainerStyle()} className={messageClassName}>\n                        <p css={notificationMessageStyle()}>{Translator.translate(this.state.message, this.props.lang)}</p>\n                    </div>\n                    <button css={notificationCloseButtonStyle()} type=\"button\" onClick={this.deleteToast} className=\"toast__close\">\n                        <i css={iconStyle(closeIcon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nCometChatToastNotification.defaultProps = {\n\ttype: \"\",\n\tmessage: \"\",\n\ticon: \"\",\n\tposition: \"center\",\n\tautoDelete: true,\n\tdismissTime: 3000,\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatToastNotification.propTypes = {\n\ttype: PropTypes.oneOf(Object.values(CometChatToastNotification.types).concat(\"\")),\n\tmessage: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tposition: PropTypes.oneOf([\"top-right\", \"bottom-right\", \"top-left\", \"bottom-left\", \"center\"]),\n\tautoDelete: PropTypes.bool,\n\tdismissTime: PropTypes.number,\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n};\n","export const alertWrapperStyle = props => {\n\treturn {\n\t\twidth: \"calc(100% - 32px)\",\n\t\theight: \"auto\",\n\t\tbackgroundColor: `${props.theme.backgroundColor.white}`,\n\t\tposition: \"absolute\",\n\t\tmargin: \"0 auto\",\n\t\tpadding: \"16px\",\n\t\tfontSize: \"13px\",\n\t\tborderRadius: \"8px\",\n\t\tborder: \"1px solid #eee\",\n\t\tzIndex: \"4\",\n\t\ttop: \"50%\",\n\t\tleft: \"0\",\n\t\tright: \"0\",\n\t\ttransform: \"translateY(-50%)\",\n\t};\n};\n\nexport const alertMessageStyle = () => {\n\treturn {\n\t\ttextAlign: \"center\"\n\t}\n}\n\nexport const alertButtonStyle = (props) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tmargin: \"24px 0 0 0\",\n\t\t\"> button\": {\n\t\t\tpadding: \"5px 24px\",\n\t\t\tmargin: \"0 8px\",\n\t\t\tborderRadius: \"4px\",\n\t\t\tfontSize: \"12px\",\n\t\t\tfontWeight: \"600\",\n\t\t\tborder: `1px solid ${props.theme.primaryColor}`,\n\t\t},\n\t\t\"> button[value=yes]\": {\n\t\t\tbackgroundColor: `${props.theme.primaryColor}`,\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t},\n\t\t\"> button[value=no]\": {\n\t\t\tbackgroundColor: `${props.theme.backgroundColor.secondary}`,\n\t\t},\n\t};\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport { CometChatBackdrop } from \"../\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {alertWrapperStyle, alertMessageStyle, alertButtonStyle} from \"./style\";\n\nclass CometChatConfirmDialog extends React.Component {\n\n    render() {\n\n        const confirmButtonText = this.props?.confirmButtonText ? this.props.confirmButtonText : Translator.translate(\"YES\", this.context.language);\n        const cancelButtonText = this.props?.cancelButtonText ? this.props.cancelButtonText : Translator.translate(\"NO\", this.getContext().language);\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} style={{position:\"absolute\"}} clicked={this.props.close} />\n                <div className=\"confirm__dialog\" css={alertWrapperStyle(this.props)}>\n                    <div className=\"confirm__message\" css={alertMessageStyle(this.props)}>{this.props?.message}</div>\n                    <div className=\"confirm__buttons\" css={alertButtonStyle(this.props)}>\n                        <button type=\"button\" value=\"no\" onClick={this.props.onClick}>{cancelButtonText}</button>\n                        <button type=\"button\" value=\"yes\" onClick={this.props.onClick}>{confirmButtonText}</button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport {CometChatConfirmDialog};","import tabList from \"../resources/tabs.json\";\n\nexport class UIKitSettings {\n\twidgetSettings;\n\n\tstatic userListFilterOptions = {\n\t\tALL: \"all_users\",\n\t\tNONE: \"none\",\n\t\tFRIENDS: \"friends\",\n\t};\n\n\tstatic groupListFilterOptions = {\n\t\tPUBLIC: \"public_groups\",\n\t\tPASSWORD: \"password_protected_groups\",\n\t\tPUBLIC_AND_PASSWORD: \"public_and_password_protected_groups\",\n\t};\n\n\tstatic chatListFilterOptions = {\n\t\tUSERS: \"users\",\n\t\tGROUPS: \"groups\",\n\t\tUSERS_AND_GROUPS: \"all_chats\",\n\t};\n\n\tconstructor() {\n\t\tthis.customJS = \"\";\n\t\tthis.customCSS = \"\";\n\t\tthis.backgroundColor = \"\";\n\t\tthis.primaryColor = \"\";\n\t\tthis.foregroundColor = \"\";\n\t\tthis.overrideSystemBackgroundColor = \"\";\n\n\t\tthis.chatWindow = window;\n\n\t\tthis.userListMode = UIKitSettings.userListFilterOptions[\"ALL\"];\n\t\tthis.groupInMode = UIKitSettings.groupListFilterOptions[\"PUBLIC_AND_PASSWORD\"];\n\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[\"USERS_AND_GROUPS\"];\n\n\t\tthis.chats = true;\n\t\tthis.calls = false;\n\t\tthis.users = true;\n\t\tthis.groups = true;\n\t\tthis.userSettings = true;\n\t\tthis.tabs = Object.values(tabList);\n\n\t\tthis.searchUsers = true;\n\t\tthis.searchGroups = true;\n\t\tthis.searchMessages = true;\n\t\tthis.searchChats = true;\n\n\t\tthis.unreadCount = true;\n\n\t\tthis.publicGroup = true;\n\t\tthis.privateGroup = true;\n\t\tthis.passwordGroup = true;\n\n\t\tthis.blockUser = true;\n\t\tthis.viewShareMedia = true;\n\n\t\tthis.groupCreation = true;\n\t\tthis.allowDeleteGroup = true;\n\t\tthis.joinOrLeaveGroup = true;\n\t\tthis.viewGroupMembers = true;\n\t\tthis.kickMember = true;\n\t\tthis.banMember = true;\n\t\tthis.allowPromoteDemoteMembers = true;\n\t\tthis.allowAddMembers = true;\n\n\t\tthis.callNotifications = true;\n\t\tthis.joinLeaveNotifications = true;\n\n\t\tthis.enableSoundForMessages = true;\n\t\tthis.enableSoundForCalls = true;\n\n\t\tthis.userVideoCall = true;\n\t\tthis.groupVideoCall = true;\n\t\tthis.userAudioCall = true;\n\t\tthis.groupAudioCall = true;\n\n\t\tthis.sendTypingIndicator = true;\n\t\tthis.showUserPresence = true;\n\t\tthis.showReadDeliveryReceipts = true;\n\n\t\tthis.threadedChats = true;\n\t\tthis.hideDeletedMessages = false;\n\n\t\tthis.sendMessageInOneOnOne = true;\n\t\tthis.sendMessageInGroup = true;\n\t\tthis.editMessage = true;\n\t\tthis.deleteMessage = true;\n\t\tthis.replyingToMessage = true;\n\n\t\tthis.sendEmojis = true;\n\t\tthis.sendEmojisInLargerSize = true;\n\t\tthis.sendGifs = false;\n\t\tthis.shareCopyForwardMessage = false;\n\t\tthis.sendFiles = true;\n\t\tthis.sendPhotoVideos = true;\n\t\tthis.sendVoiceNotes = true;\n\t\tthis.sendLiveReaction = true;\n\n\t\tthis.sendMessageReaction = true;\n\t\tthis.collaborativeWhiteboard = true;\n\t\tthis.collaborativeDocument = true;\n\t\tthis.sendStickers = true;\n\t\tthis.shareLocation = false;\n\t\tthis.polls = true;\n\t\tthis.messageTranslation = true;\n\n\t\tthis.allowModeratorToDeleteMemberMessages = true;\n\t\tthis.setGroupInQnaModeByModerators = false;\n\t\tthis.highlightMessageFromModerators = false;\n\t\tthis.emailReplies = true;\n\t\tthis.smartReplies = true;\n\t\tthis.callRecording = true;\n\t\tthis.callLiveStreaming = true;\n\t\tthis.callTranscription = true;\n\t\tthis.thumbnailGeneration = true;\n\t\tthis.linkPreview = true;\n\t\tthis.saveMessages = true;\n\t\tthis.pinMessages = true;\n\t\tthis.richMediaPreview = true;\n\t\tthis.voiceTranscription = true;\n\t\tthis.mentions = true;\n\t\tthis.xssFilter = true;\n\t\tthis.profanityFilter = true;\n\t\tthis.imageModeration = true;\n\t\tthis.dataMasking = true;\n\t\tthis.malwareScanner = true;\n\t\tthis.sentimentAnalysis = true;\n\t\tthis.inflightMessageModeration = true;\n\t\tthis.messageHistory = true;\n\n\t\tthis.viewProfile = true;\n\t\tthis.messageInPrivate = true;\n\t}\n\n\tsetCustomJS = customJS => {\n\t\tthis.customJS = customJS;\n\t};\n\n\tsetCustomCSS = customCSS => {\n\t\tthis.customCSS = customCSS;\n\t};\n\n\tsetTabs = tabList => {\n\t\tthis.tabs = tabList;\n\t};\n\n\tsetUserSettings = userSettings => {\n\t\tthis.userSettings = userSettings;\n\t};\n\n\tsetCalls = calls => {\n\t\tthis.calls = calls;\n\t};\n\n\tsetUsers = users => {\n\t\tthis.users = users;\n\t};\n\n\tsetChats = chats => {\n\t\tthis.chats = chats;\n\t};\n\n\tsetGroups = groups => {\n\t\tthis.groups = groups;\n\t};\n\n\tsetChatListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst chatListFilterKey = this.returnMatchedKey(UIKitSettings.chatListFilterOptions, option);\n\t\tif (chatListFilterKey) {\n\t\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[chatListFilterKey];\n\t\t}\n\t};\n\n\tsetUserListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst userListFilterKey = this.returnMatchedKey(UIKitSettings.userListFilterOptions, option);\n\t\tif (userListFilterKey) {\n\t\t\tthis.userListMode = UIKitSettings.userListFilterOptions[userListFilterKey];\n\t\t}\n\t};\n\n\tsetGroupListMode = () => {};\n\n\tsetUserVideoCall = userVideoCall => {\n\t\tthis.userVideoCall = userVideoCall;\n\t};\n\n\tsetGroupVideoCall = groupVideoCall => {\n\t\tthis.groupVideoCall = groupVideoCall;\n\t};\n\n\tsetUserAudioCall = userAudioCall => {\n\t\tthis.userAudioCall = userAudioCall;\n\t};\n\n\tsetGroupAudioCall = groupAudioCall => {\n\t\tthis.groupAudioCall = groupAudioCall;\n\t};\n\n\tsetEditMessage = editMessage => {\n\t\tthis.editMessage = editMessage;\n\t};\n\n\tsetSendMessageInOneOnOne = sendMessageInOneOnOne => {\n\t\tthis.sendMessageInOneOnOne = sendMessageInOneOnOne;\n\t};\n\n\tsetSendMessageInGroup = sendMessageInGroup => {\n\t\tthis.sendMessageInGroup = sendMessageInGroup;\n\t};\n\n\tsetJoinOrLeaveGroup = joinOrLeaveGroup => {\n\t\tthis.joinOrLeaveGroup = joinOrLeaveGroup;\n\t};\n\n\tsetBlockUser = blockUser => {\n\t\tthis.blockUser = blockUser;\n\t};\n\n\tsetSendEmojis = sendEmojis => {\n\t\tthis.sendEmojis = sendEmojis;\n\t};\n\n\tsetSendEmojisInLargerSize = sendEmojisInLargerSize => {\n\t\tthis.sendEmojisInLargerSize = sendEmojisInLargerSize;\n\t};\n\n\tsetSendGifs = sendGifs => {\n\t\tthis.sendGifs = sendGifs;\n\t};\n\n\tsetShareCopyForwardMessage = shareCopyForwardMessage => {\n\t\tthis.shareCopyForwardMessage = shareCopyForwardMessage;\n\t};\n\n\tsetSendFiles = sendFiles => {\n\t\tthis.sendFiles = sendFiles;\n\t};\n\n\tsetSendPhotoVideos = sendPhotoVideos => {\n\t\tthis.sendPhotoVideos = sendPhotoVideos;\n\t};\n\n\tsetViewShareMedia = viewShareMedia => {\n\t\tthis.viewShareMedia = viewShareMedia;\n\t};\n\n\tsetEnableSoundForMessages = enableSoundForMessages => {\n\t\tthis.enableSoundForMessages = enableSoundForMessages;\n\t};\n\n\tsetEnableSoundForCalls = enableSoundForCalls => {\n\t\tthis.enableSoundForCalls = enableSoundForCalls;\n\t};\n\n\tsetSendStickers = sendStickers => {\n\t\tthis.sendStickers = sendStickers;\n\t};\n\n\tsetViewGroupMembers = viewGroupMembers => {\n\t\tthis.viewGroupMembers = viewGroupMembers;\n\t};\n\n\tsetCallNotifications = callNotifications => {\n\t\tthis.callNotifications = callNotifications;\n\t};\n\n\tsetAllowDeleteGroup = allowDeleteGroup => {\n\t\tthis.allowDeleteGroup = allowDeleteGroup;\n\t};\n\n\tsetKickMember = kickMember => {\n\t\tthis.kickMember = kickMember;\n\t};\n\n\tsetBanMember = banMember => {\n\t\tthis.banMember = banMember;\n\t};\n\n\tsetAllowPromoteDemoteMembers = allowPromoteDemoteMembers => {\n\t\tthis.allowPromoteDemoteMembers = allowPromoteDemoteMembers;\n\t};\n\n\tsetAllowAddMembers = allowAddMembers => {\n\t\tthis.allowAddMembers = allowAddMembers;\n\t};\n\n\tsetShareLocation = shareLocation => {\n\t\tthis.shareLocation = shareLocation;\n\t};\n\n\tsetJoinLeaveNotifications = joinLeaveNotifications => {\n\t\tthis.joinLeaveNotifications = joinLeaveNotifications;\n\t};\n\n\tsetSendVoiceNotes = sendVoiceNotes => {\n\t\tthis.sendVoiceNotes = sendVoiceNotes;\n\t};\n\n\tsetMessageTranslation = messageTranslation => {\n\t\tthis.messageTranslation = messageTranslation;\n\t};\n\n\tsetGroupCreation = groupCreation => {\n\t\tthis.groupCreation = groupCreation;\n\t};\n\n\tsetSendTypingIndicator = sendTypingIndicator => {\n\t\tthis.sendTypingIndicator = sendTypingIndicator;\n\t};\n\n\tsetShowUserPresence = showUserPresence => {\n\t\tthis.showUserPresence = showUserPresence;\n\t};\n\n\tsetDeleteMessage = deleteMessage => {\n\t\tthis.deleteMessage = deleteMessage;\n\t};\n\n\tsetThreadedChats = threadedChats => {\n\t\tthis.threadedChats = threadedChats;\n\t};\n\n\tsetReplyingToMessage = replyingToMessage => {\n\t\tthis.replyingToMessage = replyingToMessage;\n\t};\n\n\tsetShowReadDeliveryReceipts = showReadDeliveryReceipts => {\n\t\tthis.showReadDeliveryReceipts = showReadDeliveryReceipts;\n\t};\n\n\tsetHideDeletedMessages = hideDeletedMessages => {\n\t\tthis.hideDeletedMessages = hideDeletedMessages;\n\t};\n\n\tsetEmailReplies = emailReplies => {\n\t\tthis.emailReplies = emailReplies;\n\t};\n\n\tsetSendMessageReaction = sendMessageReaction => {\n\t\tthis.sendMessageReaction = sendMessageReaction;\n\t};\n\n\tsetCollaborativeWhiteboard = collaborativeWhiteboard => {\n\t\tthis.collaborativeWhiteboard = collaborativeWhiteboard;\n\t};\n\n\tsetCollaborativeDocument = collaborativeDocument => {\n\t\tthis.collaborativeDocument = collaborativeDocument;\n\t};\n\n\tsetPolls = polls => {\n\t\tthis.polls = polls;\n\t};\n\n\tsetSendLiveReaction = sendLiveReaction => {\n\t\tthis.sendLiveReaction = sendLiveReaction;\n\t};\n\n\tsetPublicGroup = publicGroup => {\n\t\tthis.publicGroup = publicGroup;\n\t};\n\n\tsetPrivateGroup = privateGroup => {\n\t\tthis.privateGroup = privateGroup;\n\t};\n\n\tsetPasswordGroup = passwordGroup => {\n\t\tthis.passwordGroup = passwordGroup;\n\t};\n\n\tsetAllowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages => {\n\t\tthis.allowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages;\n\t}\n\n\tsetUnreadCount = unreadCount => {\n\t\tthis.unreadCount = unreadCount;\n\t};\n\n\tsetSmartReplies = smartReplies => {\n\t\tthis.smartReplies = smartReplies;\n\t};\n\n\tsetSearchUsers = searchUsers => {\n\t\tthis.searchUsers = searchUsers;\n\t};\n\n\tsetSearchGroups = searchGroups => {\n\t\tthis.searchGroups = searchGroups;\n\t};\n\n\tsetSearchMessages = searchMessages => {\n\t\tthis.searchMessages = searchMessages;\n\t};\n\n\tsetCallRecording = callRecording => {\n\t\tthis.callRecording = callRecording;\n\t};\n\n\tsetCallLiveStreaming = callLiveStreaming => {\n\t\tthis.callLiveStreaming = callLiveStreaming;\n\t};\n\n\tsetCallTranscription = callTranscription => {\n\t\tthis.callTranscription = callTranscription;\n\t};\n\n\tsetThumbnailGeneration = thumbnailGeneration => {\n\t\tthis.thumbnailGeneration = thumbnailGeneration;\n\t};\n\n\tsetLinkPreview = linkPreview => {\n\t\tthis.linkPreview = linkPreview;\n\t};\n\n\tsetSaveMessages = saveMessages => {\n\t\tthis.saveMessages = saveMessages;\n\t};\n\n\tsetPinMessages = pinMessages => {\n\t\tthis.pinMessages = pinMessages;\n\t};\n\n\tsetRichMediaPreview = richMediaPreview => {\n\t\tthis.richMediaPreview = richMediaPreview;\n\t};\n\n\tsetVoiceTranscription = voiceTranscription => {\n\t\tthis.voiceTranscription = voiceTranscription;\n\t};\n\n\tsetMentions = mentions => {\n\t\tthis.mentions = mentions;\n\t};\n\n\tsetXssFilter = xssFilter => {\n\t\tthis.xssFilter = xssFilter;\n\t};\n\n\tsetProfanityFilter = profanityFilter => {\n\t\tthis.profanityFilter = profanityFilter;\n\t};\n\n\tsetImageModeration = imageModeration => {\n\t\tthis.imageModeration = imageModeration;\n\t};\n\n\tsetDataMasking = dataMasking => {\n\t\tthis.dataMasking = dataMasking;\n\t};\n\n\tsetMalwareScanner = malwareScanner => {\n\t\tthis.malwareScanner = malwareScanner;\n\t};\n\n\tsetSentimentAnalysis = sentimentAnalysis => {\n\t\tthis.sentimentAnalysis = sentimentAnalysis;\n\t};\n\n\tsetInflightMessageModeration = inflightMessageModeration => {\n\t\tthis.inflightMessageModeration = inflightMessageModeration;\n\t};\n\n\tsetMessageHistory = messageHistory => {\n\t\tthis.messageHistory = messageHistory;\n\t};\n\n\tsetViewProfile = viewProfile => {\n\t\tthis.viewProfile = viewProfile;\n\t};\n\n\tsetMessageInPrivate = messageInPrivate => {\n\t\tthis.messageInPrivate = messageInPrivate;\n\t};\n\n\tsetChatWindow = chatWindow => {\n\t\tthis.chatWindow = chatWindow;\n\t};\n\n\treturnMatchedKey = (matchWith, optionToMatch) => {\n\t\tfor (const [key, value] of Object.entries(matchWith)) {\n\t\t\tif (value === optionToMatch) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport class FeatureRestriction {\n\t/**\n\t * Core Chat\n\t */\n\tstatic chat_users_list_enabled = \"core.chat.users.list.enabled\";\n\tstatic chat_users_presence_enabled = \"core.chat.users.presence.enabled\";\n\tstatic chat_users_search_enabled = \"core.chat.users.search.enabled\";\n\n\tstatic chat_groups_enabled = \"core.chat.groups.enabled\";\n\tstatic chat_groups_public_enabled = \"core.chat.groups.public.enabled\";\n\tstatic chat_groups_private_enabled = \"core.chat.groups.private.enabled\";\n\tstatic chat_groups_password_enabled = \"core.chat.groups.password.enabled\";\n\tstatic chat_groups_search_enabled = \"core.chat.groups.search.enabled\";\n\n\tstatic chat_messages_media_enabled = \"core.chat.messages.media.enabled\";\n\tstatic chat_messages_threads_enabled = \"core.chat.messages.threads.enabled\";\n\tstatic chat_messages_replies_enabled = \"core.chat.messages.replies.enabled\";\n\tstatic chat_messages_receipts_enabled = \"core.chat.messages.receipts.enabled\";\n\tstatic chat_messages_unread_count_enabled = \"core.chat.messages.unread-count.enabled\";\n\tstatic chat_messages_search_enabled = \"core.chat.messages.search.enabled\";\n\tstatic chat_messages_history_enabled = \"core.chat.messages.history.enabled\";\n\tstatic chat_messages_custom_enabled = \"core.chat.messages.custom.enabled\";\n\n\tstatic chat_one_on_one_enabled = \"core.chat.one-on-one.enabled\";\n\tstatic chat_voice_notes_enabled = \"core.chat.voice-notes.enabled\";\n\tstatic chat_typing_indicator_enabled = \"core.chat.typing-indicator.enabled\";\n\n\t/**\n\t * Voice & Video Calling/Conferencing\n\t */\n\tstatic calls_enabled = \"core.call.enabled\";\n\tstatic call_one_on_one_video_enabled = \"core.call.one-on-one.video.enabled\";\n\tstatic call_groups_video_enabled = \"core.call.groups.video.enabled\";\n\tstatic call_one_on_one_audio_enabled = \"core.call.one-on-one.audio.enabled\";\n\tstatic call_groups_audio_enabled = \"core.call.groups.audio.enabled\";\n\tstatic call_recording_enabled = \"core.call.recording.enabled\";\n\tstatic call_live_streaming_enabled = \"core.call.live-streaming.enabled\";\n\tstatic call_transcript_enabled = \"core.call.transcript.enabled\";\n\n\t/**\n\t * Collaboration\n\t */\n\tstatic collaboration_whiteboard_enabled = \"features.collaboration.whiteboard.enabled\";\n\tstatic collaboration_document_enabled = \"features.collaboration.document.enabled\";\n\n\t/**\n\t * Moderation\n\t */\n\tstatic moderation_groups_moderators_enabled = \"features.moderation.groups.moderators.enabled\";\n\tstatic moderation_users_block_enabled = \"features.moderation.users.block.enabled\";\n\tstatic moderation_groups_kick_enabled = \"features.moderation.groups.kick.enabled\";\n\tstatic moderation_groups_ban_enabled = \"features.moderation.groups.ban.enabled\";\n\tstatic moderation_xss_filter_enabled = \"features.moderation.xss-filter.enabled\";\n\tstatic moderation_profanity_filter_enabled = \"features.moderation.profanity-filter.enabled\";\n\tstatic moderation_image_moderation_enabled = \"features.moderation.image-moderation.enabled\";\n\tstatic moderation_data_masking_enabled = \"features.moderation.data-masking.enabled\";\n\tstatic moderation_malware_scanner_enabled = \"features.moderation.malware-scanner.enabled\";\n\tstatic moderation_sentiment_analysis_enabled = \"features.moderation.sentiment-analysis.enabled\";\n\tstatic moderation_inflight_message_moderation_enabled = \"features.moderation.inflight-message-moderation.enabled\";\n\n\t/**\n\t * User Engagement\n\t */\n\tstatic reactions_enabled = \"features.ue.reactions.enabled\";\n\tstatic emojis_enabled = \"features.ue.emojis.enabled\";\n\tstatic stickers_enabled = \"features.ue.stickers.enabled\";\n\tstatic message_translation_enabled = \"features.ue.message-translation.enabled\";\n\tstatic email_replies_enabled = \"features.ue.email-replies.enabled\";\n\tstatic polls_enabled = \"features.ue.polls.enabled\";\n\tstatic live_reactions_enabled = \"features.ue.live-reactions.enabled\";\n\tstatic smart_replies_enabled = \"features.ue.smart-replies.enabled\";\n\tstatic mentions_enabled = \"features.ue.mentions.enabled\";\n\n\t/**\n\t * User Experience\n\t */\n\tstatic thumbnail_generation_enabled = \"features.ux.thumbnail-generation.enabled\";\n\tstatic link_preview_enabled = \"features.ux.link-preview.enabled\";\n\tstatic messages_saved_enabled = \"features.ux.messages.saved.enabled\";\n\tstatic messages_pinned_enabled = \"features.ux.messages.pinned.enabled\";\n\tstatic rich_media_preview_enabled = \"features.ux.rich-media-preview.enabled\";\n\tstatic voice_transcription_enabled = \"features.ux.voice-transcription.enabled\";\n\n\t/**\n\t * Extensions slug\n\t */\n\tstatic dataMasking = \"data-masking\";\n\tstatic profanityFilter = \"profanity-filter\";\n\tstatic thumbnailGeneration = \"thumbnail-generator\";\n\tstatic linkPreview = \"link-preview\";\n\tstatic richMediaPreview = \"rich-media\";\n\tstatic sticker = \"stickers\";\n\tstatic reactions = \"reactions\";\n\tstatic messageTranslation = \"message-translation\";\n\tstatic smartReplies = \"smart-reply\";\n\tstatic collaborationWhiteboard = \"whiteboard\";\n\tstatic collaborationDocument = \"document\";\n\tstatic pinMessages = \"pin-message\";\n\tstatic saveMessages = \"save-message\";\n\tstatic voiceTranscription = \"voice-transcription\";\n\tstatic polls = \"polls\";\n\tstatic xssFilter = \"xss-filter\";\n\tstatic imageModeration = \"image-moderation\";\n\tstatic malwareScanner = \"virus-malware-scanner\";\n\tstatic sentimentAnalysis = \"sentiment-analysis\";\n\tstatic emailReplies = \"email-replies\";\n\tstatic emojis = \"emojis\";\n\tstatic mentions = \"mentions\";\n\n\tstatic isExtensionEnabled = extensionKey => {\n\t\treturn new Promise(resolve =>\n\t\t\tCometChat.isExtensionEnabled(extensionKey)\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false)),\n\t\t);\n\t};\n\n\tUIKitSettings;\n\n\tconstructor(UIKitSettings) {\n\t\tthis.UIKitSettings = UIKitSettings;\n\t}\n\n\tisRecentChatListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.chats));\n\tisGroupListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groups));\n\tisUserSettingsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.userSettings));\n\tisEditMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.editMessage));\n\tisQNAModeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.setGroupInQnaModeByModerators));\n\tisHighlightMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.highlightMessageFromModerators));\n\tisJoinLeaveGroupsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinOrLeaveGroup));\n\tisLargerSizeEmojisEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendEmojisInLargerSize));\n\tisGifsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendGifs));\n\tisShareCopyForwardMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareCopyForwardMessage));\n\tisSharedMediaEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewShareMedia));\n\tisMessagesSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForMessages));\n\tisCallsSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForCalls));\n\tisViewingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewGroupMembers));\n\tisCallActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.callNotifications));\n\tisGroupDeletionEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowDeleteGroup));\n\tisChangingGroupMemberScopeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowPromoteDemoteMembers));\n\tisAddingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowAddMembers));\n\tisLocationSharingEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareLocation));\n\tisGroupActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinLeaveNotifications));\n\tisGroupCreationEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groupCreation));\n\tisDeleteMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.deleteMessage));\n\tisHideDeletedMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.hideDeletedMessages));\n\tisViewProfileEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewProfile));\n\tisMessageInPrivateEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.messageInPrivate));\n\n\tisCallListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.calls_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.calls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_list_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.users))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_one_on_one_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInOneOnOne))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeleteMemberMessageEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_moderators_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.allowModeratorToDeleteMemberMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBlockUserEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_users_block_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.blockUser))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmojisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.emojis_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendEmojis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisFilesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendFiles))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPhotosVideosEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendPhotoVideos))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisKickingGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_kick_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.kickMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBanningGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_ban_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.banMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceNotesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_voice_notes_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendVoiceNotes))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisTypingIndicatorsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_typing_indicator_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendTypingIndicator))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserPresenceEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_presence_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showUserPresence))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThreadedMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_threads_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.threadedChats))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_replies_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.replyingToMessage))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeliveryReceiptsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_receipts_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showReadDeliveryReceipts))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLiveReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.live_reactions_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendLiveReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPublicGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_public_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.publicGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPrivateGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_private_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.privateGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPasswordGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_password_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.passwordGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUnreadCountEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_unread_count_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.unreadCount))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchUsers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchGroups))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallRecordingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_recording_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callRecording))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallLiveStreamingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_live_streaming_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callLiveStreaming))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallTranscriptEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_transcript_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageHistoryEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_history_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageHistory))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageTranslationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.message_translation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.messageTranslation))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageTranslation))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.reactions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.reactions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeWhiteBoardEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_whiteboard_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationWhiteboard))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeWhiteboard))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeDocumentEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_document_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationDocument))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeDocument))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisStickersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.stickers_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sticker))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendStickers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmailRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.email_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.emailReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.emailReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPollsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.polls_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.polls))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.polls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSmartRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.smart_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.smartReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.smartReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThumbnailGenerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.thumbnail_generation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.thumbnailGeneration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.thumbnailGeneration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLinkPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.link_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.linkPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.linkPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSaveMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_saved_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.saveMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.saveMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPinMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_pinned_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.pinMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.pinMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisRichMediaPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.rich_media_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.richMediaPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.richMediaPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceTranscriptionEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.voice_transcription_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.voiceTranscription))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.voiceTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMentionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.mentions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.mentions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.mentions))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisXssFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_xss_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.xssFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.xssFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisProfanityFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_profanity_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.profanityFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.profanityFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisImageModerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_image_moderation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.imageModeration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.imageModeration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDataMaskingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_data_masking_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.dataMasking))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.dataMasking))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMalwareScannerEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_malware_scanner_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.malwareScanner))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.malwareScanner))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSentimentAnalysisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_sentiment_analysis_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sentimentAnalysis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\t// isInFlightMessageModerationEnabled = () => {\n\n\t//     return new Promise(resolve => {\n\n\t//         CometChat.isFeatureEnabled(FeatureRestriction.moderation_inflight_message_moderation_enabled)\n\t//             .then(response => {\n\n\t//                 return response\n\t//                     && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis)\n\t//                     && this.UIKitSettings.inflightMessageModeration;\n\t//             })\n\t//             .catch(error => resolve(false));\n\t//     });\n\t// }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatToastNotification } from \"../components/Shared\";\nimport { UIKitSettings } from \"./UIKitSettings\";\nimport * as enums from \"./enums.js\";\n\nimport Translator from \"../resources/localization/translator\";\nimport { FeatureRestriction } from \"./FeatureRestriction\";\nimport { theme } from \"../resources/theme\";\n\nexport const CometChatContext = React.createContext({});\n\nexport class CometChatContextProvider extends React.Component {\n\t\n\tloggedInUser;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst settings = new UIKitSettings();\n\t\tconst featureRestriction = new FeatureRestriction(settings);\n\n\t\tthis.state = {\n\t\t\titem: {},\n\t\t\ttype: \"\",\n\t\t\ttoastMessage: props.toastMessage,\n\t\t\tgroupMembers: props.groupMembers,\n\t\t\tbannedGroupMembers: props.bannedGroupMembers,\n\t\t\tgroupAdmins: props.groupAdmins,\n\t\t\tgroupModerators: props.groupModerators,\n\t\t\tcallInProgress: props.callInProgress,\n\t\t\tcallType: \"\",\n\t\t\tdeletedGroupId: \"\",\n\t\t\tleftGroupId: \"\",\n\t\t\tlastMessage: {},\n\t\t\tunreadMessages: [],\n\t\t\tclearedUnreadMessages: false,\n\t\t\tdirectCallCustomMessage: {},\n\t\t\tdirectCallCustomMessageAction: \"\",\n\t\t\tUIKitSettings: settings,\n\t\t\tFeatureRestriction: featureRestriction,\n\t\t\ttheme: theme,\n\t\t\tlanguage: props.language,\n\t\t\troles: {\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", props.language),\n\t\t\t},\n\t\t\tgetLoggedinUser: this.getLoggedinUser,\n\t\t\tsetGroupMembers: this.setGroupMembers,\n\t\t\tupdateGroupMembers: this.updateGroupMembers,\n\t\t\tsetAllGroupMembers: this.setAllGroupMembers,\n\t\t\tsetGroupAdmins: this.setGroupAdmins,\n\t\t\tsetGroupModerators: this.setGroupModerators,\n\t\t\tsetBannedGroupMembers: this.setBannedGroupMembers,\n\t\t\tupdateBannedGroupMembers: this.updateBannedGroupMembers,\n\t\t\tclearGroupMembers: this.clearGroupMembers,\n\t\t\tsetToastMessage: this.setToastMessage,\n\t\t\tsetCallInProgress: this.setCallInProgress,\n\t\t\tsetItem: this.setItem,\n\t\t\tsetType: this.setType,\n\t\t\tsetTypeAndItem: this.setTypeAndItem,\n\t\t\tsetDeletedGroupId: this.setDeletedGroupId,\n\t\t\tsetLeftGroupId: this.setLeftGroupId,\n\t\t\tsetLastMessage: this.setLastMessage,\n\t\t\tsetClearedUnreadMessages: this.setClearedUnreadMessages,\n\t\t\tsetDirectCallCustomMessage: this.setDirectCallCustomMessage,\n\t\t\tcheckIfDirectCallIsOngoing: this.checkIfDirectCallIsOngoing,\n\t\t\tcheckIfCallIsOngoing: this.checkIfCallIsOngoing,\n\t\t\tgetActiveCallSessionID: this.getActiveCallSessionID,\n\t\t\thasKeyValue: this.hasKeyValue,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.getLoggedinUser();\n\t\t\n\t\tif (this.props.user.trim().length) {\n\t\t\tthis.getUser(this.props.user.trim())\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length) {\n\t\t\tthis.getGroup(this.props.group.trim())\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.user.trim().length === 0 && this.props.group.trim().length === 0 && this.props._component === enums.CONSTANTS[\"MESSAGES_COMPONENT\"]) {\n\t\t\tconst errorCode = \"UID_OR_GUID_NOT_AVAILABLE\";\n\t\t\tthis.toastRef.setError(errorCode);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.user.trim().length && prevProps.user !== this.props.user) {\n\t\t\tthis.getUser(this.props.user)\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t\tthis.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length && prevProps.group !== this.props.group) {\n\t\t\tthis.getGroup(this.props.group)\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t\tthis.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t}\n\n\t\t//when the active group is deleted, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.deletedGroupId) {\n\t\t\tthis.setItem({});\n\t\t\tthis.setType(\"\");\n\t\t\tthis.setDeletedGroupId(\"\");\n\t\t}\n\n\t\t//when the active group is left, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.leftGroupId) {\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setLeftGroupId(\"\");\n\t\t}\n\t\t\n\t\tif (prevProps.language !== this.props.language) {\n\t\t\tthis.setState({ language: this.props.language });\n\t\t}\n\t}\n\n\tgetUser = uid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!uid) {\n\t\t\t\tconst error = { code: \"uid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getUser(uid)\n\t\t\t\t.then(user => resolve(user))\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tgetGroup = guid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!guid) {\n\t\t\t\tconst error = { code: \"guid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getGroup(guid)\n\t\t\t\t.then(group => {\n\t\t\t\t\tif (group.hasJoined === false) {\n\t\t\t\t\t\tconst guid = group.guid;\n\t\t\t\t\t\tconst groupType = group.type;\n\t\t\t\t\t\tlet password = \"\";\n\t\t\t\t\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\t\t\t\tconst promptMessage = Translator.translate(\"Enter password\", this.props.lang);\n\t\t\t\t\t\t\tpassword = prompt(promptMessage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t\t\t\t.then(group => resolve(group))\n\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(group);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tsetToastMessage = (type, message) => {\n\t\t// switch(type) {\n\n\t\t//     case \"error\":\n\t\t//         this.toastRef.setError(message);\n\t\t//     break;\n\t\t//     case \"success\":\n\t\t//         this.toastRef.setSuccess(message);\n\t\t//         break;\n\t\t//     case \"info\":\n\t\t//         this.toastRef.setInfo(message);\n\t\t//         break;\n\t\t//     case \"warning\":\n\t\t//         this.toastRef.setWarning(message);\n\t\t//         break;\n\t\t//     default:\n\t\t//     break;\n\t\t// }\n\n\t\treturn null;\n\t};\n\n\tgetLoggedinUser = () => {\n\t\tlet timerCounter = 10000;\n\t\tlet timer = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (timerCounter === timer) {\n\t\t\t\treturn reject(`timer reached ${timerCounter}`);\n\t\t\t};\n\n\t\t\tif (this.loggedInUser) {\n\t\t\t\treturn resolve(this.loggedInUser);\n\t\t\t};\n\n\t\t\tif (!CometChat.isInitialized()) {\n\t\t\t\treturn reject(\"CometChat not initialized\");\n\t\t\t};\n\n\t\t\tthis.isUserLoggedIn = setInterval(() => {\n\t\t\t\tCometChat.getLoggedinUser()\n\t\t\t\t\t.then(user => {\n\n\t\t\t\t\t\tthis.loggedInUser = user;\n\t\t\t\t\t\tclearInterval(this.isUserLoggedIn);\n\t\t\t\t\t\treturn resolve(user);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => reject(error));\n\n\t\t\t\ttimer += 100;\n\t\t\t}, 100);\n\t\t});\n\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \tCometChat.getLoggedinUser()\n\t\t// \t\t.then(user => resolve(user))\n\t\t// \t\t.catch(error => reject(error));\n\t\t// });\n\t};\n\n\tclearGroupMembers = () => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [],\n\t\t\tgroupAdmins: [],\n\t\t\tgroupModerators: [],\n\t\t\tbannedGroupMembers: [],\n\t\t});\n\t};\n\n\tsetAllGroupMembers = (groupMembers, groupAdmins, groupModerators) => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tupdateGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupAdmins = groupAdmins => {\n\t\tthis.setState({\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t});\n\t};\n\n\tsetGroupModerators = groupModerators => {\n\t\tthis.setState({\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tsetBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...this.state.bannedGroupMembers, ...bannedMembers],\n\t\t});\n\t};\n\n\tupdateBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...bannedMembers],\n\t\t});\n\t};\n\n\tsetCallInProgress = (call, callType) => {\n\t\tthis.setState({ callInProgress: { ...call }, callType });\n\t};\n\n\tsetItem = item => {\n\t\tthis.setState({ item: { ...item } });\n\t};\n\n\tsetType = type => {\n\t\tthis.setState({ type });\n\t};\n\n\tsetTypeAndItem = (type, item) => {\n\t\tthis.setState({ item: { ...item }, type });\n\t};\n\n\tsetDeletedGroupId = guid => {\n\t\tthis.setState({ deletedGroupId: guid });\n\t};\n\n\tsetLeftGroupId = guid => {\n\t\tthis.setState({ leftGroupId: guid });\n\t};\n\n\tsetLastMessage = message => {\n\t\tthis.setState({ lastMessage: message });\n\t};\n\t\n\tsetClearedUnreadMessages = flag => {\n\t\tthis.setState({ clearedUnreadMessages: flag });\n\t};\n\n\tsetDirectCallCustomMessage = (message, event) => {\n\t\tthis.setState({ directCallCustomMessage: message, directCallCustomMessageAction: event });\n\t};\n\n\tcheckIfDirectCallIsOngoing = () => {\n\t\tlet output = null;\n\n\t\tif (Object.keys(this.state.callInProgress).length && (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"])) {\n\t\t\tif (this.state.callInProgress.customData.sessionID === this.state.item.guid) {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"];\n\t\t\t} else {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"];\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tcheckIfCallIsOngoing = () => {\n\t\tif (Object.keys(this.state.callInProgress).length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\tlet sessionID;\n\t\tif (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]) {\n\t\t\tsessionID = this.state.callInProgress?.data?.customData?.sessionID;\n\t\t} else {\n\t\t\tsessionID = this.state.callInProgress?.sessionId;\n\t\t}\n\n\t\treturn sessionID;\n\t};\n\n\thasKeyValue = (data, key) => {\n\t\tif (data.hasOwnProperty(key) === false || data[key] === null || data[key] === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<CometChatContext.Provider value={this.state}>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.language} position={this.props.toastNotificationPos} />\n\t\t\t\t{this.props.children}\n\t\t\t</CometChatContext.Provider>\n\t\t);\n\t}\n}\n\nCometChatContextProvider.defaultProps = {\n\ttoastMessage: {},\n\tgroupMembers: [],\n\tbannedGroupMembers: [],\n\tgroupAdmins: [],\n\tgroupModerators: [],\n\tcallInProgress: {},\n\tuser: \"\",\n\tgroup: \"\",\n\t_component: \"\",\n\tlanguage: Translator.getDefaultLanguage(),\n};\n\nCometChatContextProvider.propTypes = {\n\ttoastMessage: PropTypes.object,\n\tgroupMembers: PropTypes.array,\n\tbannedGroupMembers: PropTypes.array,\n\tgroupAdmins: PropTypes.array,\n\tgroupModerators: PropTypes.array,\n\tcallInProgress: PropTypes.object,\n\tgroup: PropTypes.string,\n\tuser: PropTypes.string,\n\t_component: PropTypes.string,\n\tlanguage: PropTypes.string,\n};\n","export class Storage {\n\n    static attachChangeDetection = (callback) => {\n        window.addEventListener('storage', callback);\n    }\n\n    static detachChangeDetection = (callback) => {\n        window.removeEventListener('storage', callback);\n    }\n\n    static setItem = (storageKey, storageValue) => {\n        localStorage.setItem(storageKey, JSON.stringify(storageValue));\n    }\n\n    static getItem = (storageKey) => {\n        return JSON.parse(localStorage.getItem(storageKey));\n    }\n\n    static removeItem = (storageKey) => {\n        localStorage.removeItem(storageKey);\n    }\n\n    static clear = () => {\n\n    }\n}","\n\nexport const callScreenWrapperStyle = (props, keyframes) => {\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 50px)\",\n        position: \"absolute\",\n        top: \"50px\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        zIndex: \"999\",\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n        \"iframe\": {\n            border: \"none\"\n        },\n    }\n}\n\nexport const callScreenBackgroundStyle = (state) => {\n\n    return {\n        display: \"none\",\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483001\",\n    }\n}\n\nexport const callScreenContainerStyle = (props) => {\n\n    return {\n        width: props.maxWidth,\n        height: props.maxHeight,\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        overflow: \"hidden\",\n        zIndex: \"2147483002\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const callScreenInnerBackgroundStyle = () => {\n\n    return {\n        display: \"none\",\n        position: \"absolute\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483003\",\n    }\n}\n\nexport const callScreenHeaderStyle = (state) => {\n\n    const cursorStyle = (state.maximized) ? {} : {\n        cursor: \"grabbing\",\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        backgroundColor: \"#282c34\",\n        width: \"100%\",\n        height: \"50px\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"2147483004\",\n        ...cursorStyle\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 55px)\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"55px\",\n        padding: \"16px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"button\": {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100%\",\n            padding: \"0px\",\n            userSelect: \"none\",\n            \"img\": {\n                maxWidth: \"100%\",\n                flexShrink: \"0\"\n            }\n        }\n    }\n}\n\nexport const callScreenResizerStyle = (state) => {\n\n    const backgroundStyle = (state.maximized) ? {}: {\n        cursor: \"nwse-resize\",\n        clipPath: \"polygon(100% 0,100% 100%,0 100%)\",\n        background: \"repeating-linear-gradient(135deg,hsla(0,0%,100%,.5),hsla(0,0%,100%,.5) 2px,#000 0,#000 4px)\",\n    };\n\n    return {\n        width: \"35px\",\n        height: \"35px\",\n        position: \"absolute\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"2147483004\", \n        ...backgroundStyle\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `white`,\n    }\n}","export default __webpack_public_path__ + \"static/media/reduce-size.e5af2bb8.svg\";","export default __webpack_public_path__ + \"static/media/increase-size.97e9cd75.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { Storage } from \"../../../util/Storage\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    callScreenBackgroundStyle,\n    callScreenContainerStyle,\n    callScreenInnerBackgroundStyle,\n    callScreenHeaderStyle,\n    callScreenWrapperStyle,\n    headerTitleStyle,\n    headerButtonStyle,\n    callScreenResizerStyle,\n    iconStyle\n} from \"./style\";\n\nimport minimizeIcon from \"./resources/reduce-size.svg\";\nimport maximizeIcon from \"./resources/increase-size.svg\";\n\nclass CometChatCallScreen extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0,\n            rel: null, // position relative to the cursor\n            dragging: false,\n            maximized: true\n        };\n\n        this.loggedInUser = props.loggedInUser;\n        \n        this.callScreenBackgroundEl = React.createRef();\n        this.callScreenInnerBackgroundEl = React.createRef();\n        this.callScreenEl = React.createRef();\n        this.callScreenFrame = React.createRef();\n    }\n\n    componentDidMount() {\n\n        this.document = window.document;\n\n        if (this.props.call.type === enums.CUSTOM_TYPE_MEETING) {\n            this.startDirectCall(this.props.call);\n        } else {\n            this.startDefaultCall(this.props.call);\n        }\n    }\n\n    enableDragging = (e) => {\n\n        e.preventDefault();\n        \n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        this.setState({\n            dragging: true,\n            rel: {\n                x: e.pageX - this.state.x,\n                y: e.pageY - this.state.y\n            }\n        });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n\n        this.document.onmousemove = (e) => this.startDragging(e);\n        this.document.onmouseup = (e) => this.disableDragging(e);\n    }\n\n    checkIfCallScreenIsMaximized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        if (dialogWidth === windowWidth && dialogHeight === windowHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    checkIfCallScreenIsMinimized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const minimumWidth = this.props.minWidth;\n        const minimumHeight = this.props.minHeight;\n\n        if (dialogWidth === minimumWidth && dialogHeight === minimumHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    startDragging = (e) => {\n        \n        if (!this.state.dragging) return;\n        \n        e = e || window.event;\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth; \n        const dialogHeight = elem.clientHeight; \n        const x = Math.min(\n            Math.max(0, e.pageX - this.state.rel.x),\n            window.innerWidth - dialogWidth - 20\n        );\n        const y = Math.min(\n            Math.max(0, e.pageY - this.state.rel.y),\n            window.innerHeight - dialogHeight - 20\n        ); \n\n        this.setState({\n            x: x,\n            y: y\n        });\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    disableDragging = (e) => {\n\n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.setState({ dragging: false });\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n    }\n\n    initResize = (e) => {\n\n        e.preventDefault();\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        const element = this.callScreenEl.current;\n\n        this.startX = e.pageX;\n        this.startY = e.pageY;\n\n        this.startWidth = parseFloat(getComputedStyle(element, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n        this.startHeight = parseInt(getComputedStyle(element, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\n        this.document.onmousemove = (e) => this.startResize(e);\n        this.document.onmouseup = (e) => this.stopResize(e);\n    }\n\n    startResize = (e) => {\n        \n        let width = this.startWidth + (e.pageX - this.startX);\n        let height = this.startHeight + (e.pageY - this.startY);\n\n        if (width < this.props.minWidth) {\n            width = this.props.minHWidth;\n        }\n\n        if (width > window.innerWidth) {\n            width = this.props.maxWidth;\n        }\n\n        if (height < this.props.minHeight) {\n            height = this.props.minHeight;\n        }\n\n        if (height > window.innerHeight) {\n            height = this.props.maxHeight;\n        }\n\n        this.callScreenEl.current.style.width = width + \"px\";\n        this.callScreenEl.current.style.height = height + \"px\";\n\n        this.setDimensionOfCallScreenInnerBackground({ width: width + \"px\", height: height + \"px\" });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n    }\n\n    stopResize = () => {\n        \n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            this.setState({ maximized: true });\n        } \n        if (this.checkIfCallScreenIsMinimized() === true) {\n            this.setState({ maximized: false });\n        }\n    }\n\n    toggleCallScreenBackground = (flag) => {\n\n        if (this.callScreenBackgroundEl && this.callScreenBackgroundEl.current) {\n            this.callScreenBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    toggleCallScreenInnerBackground = (flag) => {\n\n        if (this.callScreenInnerBackgroundEl && this.callScreenInnerBackgroundEl.current) {\n            this.callScreenInnerBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    setDimensionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.width = props.width;\n        this.callScreenInnerBackgroundEl.current.style.height = props.height;\n    }\n\n    setPositionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.top = props.y;\n        this.callScreenInnerBackgroundEl.current.style.left = props.x;\n    }\n\n    minimize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.minWidth + \"px\";\n        const height = this.props.minHeight + \"px\";\n\n        this.setState({ maximized: false });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    maximize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.maxWidth;\n        const height = this.props.maxHeight;\n\n        this.setState({ maximized: true });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    setSizingAndPostionOfCallScreen = (props) => {\n\n        this.callScreenEl.current.style.width = props.width;\n        this.callScreenEl.current.style.height = props.height;\n        this.callScreenEl.current.style.top = \"0px\";\n        this.callScreenEl.current.style.left = \"0px\";\n    }\n\n    toggle = (e) => {\n\n        this.setState({ x: 0, y: 0 });\n\n        if (this.state.maximized) {\n            this.minimize();\n        } else {\n            this.maximize();\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    startDirectCall = (call) => {\n\n        const sessionId = call.data.customData.sessionID;\n        const customCSS = this.context.UIKitSettings.customCSS;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .enableDefaultLayout(true)\n            .setSessionID(sessionId)\n            .setIsAudioOnlyCall(false)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject({\n                \"SELECT_VIDEO_SOURCE\": Translator.translate(\"SELECT_VIDEO_SOURCE\", this.props.lang),\n                \"SELECT_INPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", this.props.lang),\n                \"SELECT_OUTPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", this.props.lang),\n                \"SELECT_MODE\": Translator.translate(\"SELECT_MODE\", this.props.lang)\n            }).build();\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onCallEnded: call => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress({}, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ENDED\"]);\n                },\n                onError: error => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    \n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ERROR\"]);\n                    const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n                    this.context.setToastMessage(\"error\", errorCode);\n                }\n            })\n        );\n    }\n\n    startDefaultCall = (call) => {\n\n        const sessionId = call.getSessionId();\n        const callType = (call.type === CometChat.CALL_TYPE.AUDIO ? true : false);\n        const customCSS = this.context.UIKitSettings.customCSS;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .setSessionID(sessionId)\n            .enableDefaultLayout(true)\n            .setMode(CometChat.CALL_MODE.DEFAULT)\n            .setIsAudioOnlyCall(callType)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject({\n                \"SELECT_VIDEO_SOURCE\": Translator.translate(\"SELECT_VIDEO_SOURCE\", this.props.lang),\n                \"SELECT_INPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", this.props.lang),\n                \"SELECT_OUTPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", this.props.lang)\n            }).build();\n\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onUserJoined: user => {\n\n                    /* Notification received here if another user joins the call. */\n                    /* this method can be use to display message or perform any actions if someone joining the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": call.action,\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_JOINED_CALL\"], callMessage);\n                    }\n                },\n                onUserLeft: user => {\n                    /* Notification received here if another user left the call. */\n                    /* this method can be use to display message or perform any actions if someone leaving the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": \"left\",\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_LEFT_CALL\"], callMessage);\n                    }\n                },\n                onCallEnded: endedCall => {\n\n                    /* Notification received here if current ongoing call is ended. */\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ENDED\"], endedCall);\n                    /* hiding/closing the call screen can be done here. */\n                }\n            })\n        );\n    }\n\n    render() {\n\n        const resizeText = Translator.translate(\"RESIZE\", this.props.lang);\n        let iconView = (<i css={iconStyle(minimizeIcon)} title={resizeText}></i>);\n        if (this.state.maximized === false) {\n            iconView = (<i css={iconStyle(maximizeIcon)} title={resizeText}></i>);\n        }\n\n        return (\n            <React.Fragment>\n                <div css={callScreenBackgroundStyle(this.state)} ref={this.callScreenBackgroundEl}></div>\n                <div ref={this.callScreenEl} className=\"callscreen__container\" css={callScreenContainerStyle(this.props)} \n                    style={{ top: this.state.y + \"px\", left: this.state.x + \"px\" }}>\n                    <div css={callScreenInnerBackgroundStyle()} ref={this.callScreenInnerBackgroundEl}></div>\n                    <div css={callScreenHeaderStyle(this.state)} className=\"callscreen__header\" onMouseDown={this.enableDragging}>\n                        <div css={headerTitleStyle()}>&nbsp;</div>\n                        <div className=\"callscreen__resize\" css={headerButtonStyle()} onClick={this.toggle} onMouseDown={e => e.stopPropagation()}><button type=\"button\" title={resizeText}>{iconView}</button></div>\n                    </div>\n                    <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}></div>\n                    <div css={callScreenResizerStyle(this.state)} className=\"callscreen__resizer-both\" onMouseDown={this.initResize}></div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n// Specifies the default values for props:\nCometChatCallScreen.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n    minWidth: 400,\n    minHeight: 300,\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n    style: {},\n};\n\nCometChatCallScreen.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    maxWidth: PropTypes.string,\n    maxHeight: PropTypes.string,\n    style: PropTypes.object,\n}\n\nexport { CometChatCallScreen }\n","import * as enums from \"./enums\";\n\nexport class SoundManager {\n\tstatic widgetSettings;\n\tstatic incomingCallAudio = null;\n\tstatic outgoingCallAudio = null;\n\tstatic incomingMessageAudio = null;\n\tstatic outgoingMessageAudio = null;\n\tstatic incomingOtherMessageAudio = null;\n\n\tstatic play = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.onIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.onOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\t\tthis.onIncomingMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\t\tthis.onIncomingOtherMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\t\tthis.onOutgoingMessage(context);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic pause = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.pauseIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.pauseOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic onIncomingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onIncomingOtherMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingOtherMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingothermessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingOtherMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playMessageAlert = messageAudio => {\n\t\tmessageAudio.currentTime = 0;\n\t\tmessageAudio.play();\n\t};\n\n\tstatic onIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playCallAlert = callAudio => {\n\t\ttry {\n\t\t\tcallAudio.currentTime = 0;\n\t\t\tif (typeof callAudio.loop == \"boolean\") {\n\t\t\t\tcallAudio.loop = true;\n\t\t\t} else {\n\t\t\t\tcallAudio.addEventListener(\n\t\t\t\t\t\"ended\",\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tthis.currentTime = 0;\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcallAudio.play();\n\t\t} catch (error) {}\n\t};\n\n\tstatic pauseIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio) {\n\t\t\t\t\tthis.incomingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic pauseOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio) {\n\t\t\t\t\tthis.outgoingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic enableSoundForCalls = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isCallsSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tstatic enableSoundForMessages = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isMessagesSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n}","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n    \n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n                \n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                    \n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n                    \n                    if(props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\"); \n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n                \n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n        cursor: \"pointer\",\n        padding: \"8px 16px\",\n        backgroundColor: backgroundColor,\n        borderRadius: \"5px\",\n        color: `${props.theme.color.white}`,\n        fontSize: \"100%\",\n        outline: \"0\",\n        border: \"0\",\n        width: \"49%\",\n        overflow: \"hidden\"\n    }\n}\n\nexport const callIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/incoming-call.aaaf0cb6.svg\";","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallAlertManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport audioCallIcon from \"./resources/incoming-call.svg\";\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.CallAlertManager = new CallAlertManager();\n\t\tthis.CallAlertManager.attachListeners(this.callScreenUpdated);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tcallScreenUpdated = (key, call) => {\n\t\tswitch (key) {\n\t\t\tcase enums.INCOMING_CALL_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_CANCELLED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.incomingCallCancelled(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = incomingCall => {\n\t\tif (this._isMounted) {\n\t\t\tif (this.state.incomingCall === null) {\n\t\t\t\tif (incomingCall?.callInitiator.uid !== this.loggedInUser?.uid) {\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\t\tthis.setState({ incomingCall: incomingCall });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tincomingCallCancelled = call => {\n\t\tif (this._isMounted) {\n\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\tthis.setState({ incomingCall: null });\n\t\t}\n\t};\n\n\toutgoingCallAccepted = call => {\n\n\t\tif(call.sender?.uid === this.loggedInUser?.uid) {\n\t\t\tif (this._isMounted) {\n\t\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trejectCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tlet callStatus = this.isCallActive() ? CometChat.CALL_STATUS.BUSY : CometChat.CALL_STATUS.REJECTED;\n\n\t\tCometChat.rejectCall(this.state.incomingCall.sessionId, callStatus)\n\t\t\t.then(rejectedCall => {\n\t\t\t\tif (this.isCallActive() === false) {\n\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t}\n\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], rejectedCall);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_REJECTED\"], rejectedCall);\n\t\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tacceptCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tCometChat.acceptCall(this.state.incomingCall.sessionId)\n\t\t\t\t\t.then(call => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"INCOMING_DEFAULT_CALLING\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], call);\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"], call);\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: call });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\n\t\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({ success: true });\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tactionHandler = (action, call) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.getSessionId() === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(audioCallIcon, this.context)} title={Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t\tif (this.state.incomingCall.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\tcallType = (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t\t\t\t<CometChatAvatar user={this.state.incomingCall.sender} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__decline\" onClick={() => this.rejectCall(this.state.incomingCall, CometChat.CALL_STATUS.REJECTED)}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"DECLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__accept\" onClick={this.acceptCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"ACCEPT\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatIncomingCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatIncomingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallScreenManager {\n\n\tcallListenerId = \"callscreen_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\n\t\tCometChat.addCallListener(\n\t\t\tthis.callListenerId,\n\t\t\tnew CometChat.CallListener({\n\t\t\t\tonOutgoingCallAccepted: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_ACCEPTED, call);\n\t\t\t\t},\n\t\t\t\tonOutgoingCallRejected: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_REJECTED, call);\n\t\t\t\t},\n\t\t\t\tonIncomingCallCancelled: call => {\n\t\t\t\t\tcallback(enums.INCOMING_CALL_CANCELLED, call);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeCallListener(this.callListenerId);\n\t}\n}","export const callScreenWrapperStyle = (props, keyframes) => {\n\n    let styles = {\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"999\",\n    }\n\n    if (props.widgetsettings) {\n\n        styles = {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"fixed\",\n            top: \"0\",\n            right: \"0\",\n            bottom: \"0\",\n            left: \"0\",\n            zIndex: \"2147483000\",\n        }\n    }\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        ...styles,\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callScreenContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const headerStyle = () => {\n\n    return {\n        padding: \"20px 10px\",\n        width: \"100%\",\n        height: \"20%\",\n    }\n}\n\nexport const headerDurationStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        display: \"inline-block\",\n        padding: \"5px\"\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        textTransform: \"capitalize\",\n        fontSize: \"16px\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"50%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"200px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const headerIconStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"15%\",\n        padding: \"10px\",\n        display: \"flex\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        display: \"flex\"\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"27px\",\n        backgroundColor: \"red\",\n        display: \"flex\",\n        margin: \"auto 10px\",\n        cursor: \"pointer\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"i\": {\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `white`,\n            display: \"inline-block\",\n            width: \"24px\",\n            height: \"24px\",\n        },\n    };\n}\n\nexport const errorContainerStyle = () => {\n\n    return {\n        color: \"#fff\",\n        textAlign: \"center\",\n        borderRadius: \"2px\",\n        padding: \"13px 10px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        height: \"10%\",\n        backgroundColor: \"#333\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/end-call.0d5e5b21.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallScreenManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tcallScreenWrapperStyle,\n\tcallScreenContainerStyle,\n\theaderStyle,\n\theaderDurationStyle,\n\theaderNameStyle,\n\tthumbnailWrapperStyle,\n\tthumbnailStyle,\n\theaderIconStyle,\n\ticonWrapperStyle,\n\ticonStyle,\n\terrorContainerStyle\n} from \"./style\"; \n\nimport callIcon from \"./resources/end-call.svg\";\n\nclass CometChatOutgoingCall extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.callScreenFrame = React.createRef();\n\n\t\tthis.state = {\n\t\t\terrorScreen: false,\n\t\t\terrorMessage: null,\n\t\t\toutgoingCallScreen: false,\n\t\t\tcallInProgress: null,\n\t\t}\n\n\t\tCometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.CallScreenManager = new CallScreenManager();\n\t\tthis.CallScreenManager.attachListeners(this.callScreenUpdated);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.CallScreenManager.removeListeners();\n\t\tthis.CallScreenManager = null;\n\t}\n\n\tcallScreenUpdated = (key, call) => {\n\n\t\tswitch (key) {\n\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED://occurs at the caller end\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_REJECTED://occurs at the caller end, callee rejects the call\n\t\t\t\tthis.outgoingCallRejected(call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\toutgoingCallAccepted = (call) => {\n\n\t\tif (this.state.outgoingCallScreen === true) {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"], call);\n\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: call, errorScreen: false, errorMessage: null });\n\n\t\t\tif(this.context) {\n\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"OUTGOING_DEFAULT_CALLING\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\toutgoingCallRejected = (call) => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tif (call.hasOwnProperty(\"status\") && call.status === CometChat.CALL_STATUS.BUSY) {\n\n\t\t\t//show busy message.\n\t\t\tconst errorMessage = `${call.sender.name} ${Translator.translate(\"ON_ANOTHER_CALL\", this.props.lang)}`;\n\t\t\tthis.setState({ errorScreen: true, errorMessage: errorMessage });\n\t\t\tthis.clearCallInProgress();\n\n\t\t} else {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"], call);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null, errorScreen: false, errorMessage: null });\n\t\t\tthis.clearCallInProgress();\n\n\t\t}\n\t}\n\n\tstartCall = (call) => {\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tthis.setState({ outgoingCallScreen: true, callInProgress: call, errorScreen: false, errorMessage: null });\n\t}\n\n\tactionHandler = (action, call) => {\n\n\t\tswitch (action) {\n\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//cancelling an outgoing call\n\tcancelCall = () => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t//if user busy error, just close the callscreen, no need to reject the call\n\t\tif (this.state.errorScreen) {\n\n\t\t\tthis.setState({ errorScreen: false, errorMessage: null, outgoingCallScreen: false, callInProgress: null });\n\t\t\tthis.clearCallInProgress();\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t} else {\n\n\t\t\tCometChat.rejectCall(this.state.callInProgress.sessionId, CometChat.CALL_STATUS.CANCELLED).then(call => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t\t}).catch(error => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\n\t\t\t});\n\t\t}\n\t}\n\n\tclearCallInProgress = () => {\n\t\tif (this.context) {\n\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet callScreen = null, errorScreen = null;\n\t\tif (this.state.callInProgress) {\n\n\t\t\tlet avatar = (<CometChatAvatar user={this.state.callInProgress.receiver} />);\n\t\t\tif (this.state.errorScreen) {\n\t\t\t\terrorScreen = (\n\t\t\t\t\t<div css={errorContainerStyle()} className=\"callscreen__error__wrapper\"><div>{this.state.errorMessage}</div></div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.state.outgoingCallScreen) {\n\t\t\t\tcallScreen = (\n\t\t\t\t\t<div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}>\n\t\t\t\t\t\t<div css={callScreenContainerStyle()} className=\"callscreen__container\">\n\t\t\t\t\t\t\t<div css={headerStyle()} className=\"callscreen__header\">\n\t\t\t\t\t\t\t\t<span css={headerDurationStyle()} className=\"header__calling\">{Translator.translate(\"CALLING\", this.props.lang)}</span>\n\t\t\t\t\t\t\t\t<h6 css={headerNameStyle()} className=\"header__name\">{this.state.callInProgress.receiver.name}</h6>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle()} className=\"callscreen__thumbnail__wrapper\">\n\t\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"callscreen__thumbnail\">{avatar}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{errorScreen}\n\t\t\t\t\t\t\t<div css={headerIconStyle()} className=\"callscreen__icons\">\n\t\t\t\t\t\t\t\t<div css={iconWrapperStyle()} className=\"icon__block\" onClick={this.cancelCall}>\n\t\t\t\t\t\t\t\t\t<div css={iconStyle(callIcon)} className=\"icon icon__end\"><i></i></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\t}\n\t\t}\n\t\treturn callScreen;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatOutgoingCall.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatOutgoingCall.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n}\n\nexport { CometChatOutgoingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class messageAlertManager {\n\n    msgListenerId = \"incoming_message_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.msgListenerId);\n    }\n}\n","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n\n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n\n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n\n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: backgroundColor,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t\tfontSize: \"100%\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\twidth: \"49%\",\n\t\t\toverflow: \"hidden\",\n\t\t};\n}\n\nexport const callIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { messageAlertManager } from \"./controller\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingDirectCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t\tmaximize: true,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.MessageAlertManager = new messageAlertManager();\n\t\tthis.MessageAlertManager.attachListeners(this.messageListenerCallback);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageListenerCallback = (key, message) => {\n\t\tswitch (key) {\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = message => {\n\t\tif (this._isMounted) {\n\t\t\tif (message.type !== enums.CUSTOM_TYPE_MEETING) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (Object.keys(this.context.callInProgress).length) {\n\t\t\t\tif (this.context.checkIfDirectCallIsOngoing() && this.context.getActiveCallSessionID() === message.data.customData.sessionID) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message?.sender.uid !== this.loggedInUser?.uid) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: message});\n\t\t\t}\n\t\t}\n\t};\n\n\tjoinCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"], true);\n\n\t\t\t\tif (this.context) {\n\t\t\t\t\tthis.context.setCallInProgress(this.state.incomingCall, enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"]);\n\t\t\t\t}\n\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\t\t\tthis.setState({incomingCall: null, callInProgress: this.state.incomingCall});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tignoreCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\tthis.setState({incomingCall: null});\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({success: true});\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tactionHandler = action => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tthis.setState({callInProgress: null});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.sessionId === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: null});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet avatar = (\n\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t<CometChatAvatar cornerRadius=\"50%\" image={this.state.incomingCall.sender.avatar} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tconst callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__ignore\" onClick={this.ignoreCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"IGNORE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__join\" onClick={this.joinCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"JOIN\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatIncomingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatIncomingDirectCall };\n","/* eslint-disable no-useless-concat */\n/* eslint-disable no-extend-native */\nimport dateFormat from \"dateformat\";\nimport Translator from \"../resources/localization/translator\";\nconst milliseconds = 1000;\nconst seconds = 1 * milliseconds;\nconst minute = 60 * seconds;\nconst hour = 60 * minute;\nconst day = 24 * hour;\n\nconst wordBoundary = {\n    start: `(?:^|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n    end: `(?=$|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n};\n\nconst emailPattern = new RegExp(\n    wordBoundary.start +\n    `[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}` +\n    wordBoundary.end,\n    'gi'\n); \nconst urlPattern = new RegExp(\n    wordBoundary.start +\n    `((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,]+[\\\\w/#](\\\\(\\\\))?)` +\n    wordBoundary.end,\n    'gi'\n);\nconst phoneNumPattern = new RegExp(\n    wordBoundary.start +\n    `(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)` +\n    wordBoundary.end,\n    'gi'\n);\n\nexport const linkify = (message) => {\n\n    let outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n    outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n\n    const results = outputStr.match(urlPattern);\n\n    results &&\n        results.forEach((url) => {\n\n            url = url.trim();\n            let normalizedURL = url;\n            if (!url.startsWith('http')) {\n                normalizedURL = `//${url}`;\n            }\n            outputStr = outputStr.replace(\n                url,\n                `<a target='blank' rel='noopener noreferrer' href=\"${normalizedURL}\">${url}</a>`\n            );\n        });\n\n    return outputStr;\n}\n\nexport const checkMessageForExtensionsData = (message, extensionKey) => {\n\n    let output = null;\n    \n    if (message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message.metadata;\n        const injectedObject = metadata[\"@injected\"];\n        if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n\n            const extensionsObject = injectedObject[\"extensions\"];\n            if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n\n                output = extensionsObject[extensionKey];\n            }\n        }\n    }\n\n    return output;\n}\n\nexport const getMessageFileMetadata = (message, metadataKey) => {\n\n    let fileMetadata = null;\n    if(message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message[\"metadata\"];\n        if (metadata.hasOwnProperty(metadataKey)) {\n            fileMetadata = metadata[metadataKey];\n        }\n    }\n\n    return fileMetadata;\n}\n\nexport const ID = () => {\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n    return '_' + Math.random().toString(36).substr(2, 9);\n};\n\nexport const getUnixTimestamp = () => {\n\n    return Math.round(+new Date() / 1000);\n}\n\nconst dateDiffInDays = (a, b) => {\n\n    const milliSecondsPerDay = day;\n\n    // Discard the time and time-zone information.\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n\n    return Math.floor((utc2 - utc1) / milliSecondsPerDay);\n}\n\n\nexport const getTimeStampForLastMessage = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(messageTimestamp, \"dS mmm\");\n    }\n\n    return timestamp;\n}\n\nexport const getMessageSentTime = (timestamp, lang) => {\n\n    let oTimestamp = null;\n\n    const messageTimestamp = new Date(timestamp) * 1000;\n    oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    return oTimestamp;\n}\n\nexport const getMessageDate = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = Translator.translate(\"TODAY\", lang);\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(timeStampInMilliSeconds, \"dS mmm, yyyy\");\n    }\n\n    return timestamp;\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nclass CometChatOutgoingDirectCall extends React.Component {\n\n    sessionID;\n    static contextType = CometChatContext;\n    \n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            callInProgress: null,\n        }\n\n        this.callScreenRef = React.createRef();\n        \n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    actionHandler = (action) => {\n\n        switch(action) {\n\n            case enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n            case enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n                this.setState({ callInProgress: null });\n            break;\n            default:\n            break;\n        }\n    }\n\n    startCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (!this.sessionID) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if(this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n\n        setTimeout(() => {\n            this.sendCustomMessage();\n        }, 5);\n    }\n\n    joinCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (this.sessionID === null) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if (this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n    }\n\n    prepareCustomMessageData = () => {\n\n        const receiverType = CometChat.RECEIVER_TYPE.GROUP;\n        const customData = { \"sessionID\": this.sessionID, \"sessionId\": this.sessionID, \"callType\": CometChat.CALL_TYPE.VIDEO };\n        const customType = enums.CUSTOM_TYPE_MEETING;\n        const conversationId = `group_${this.sessionID}`;\n\n        const customMessage = new CometChat.CustomMessage(this.sessionID, receiverType, customType, customData);\n        customMessage.setSender(this.loggedInUser);\n        customMessage.setReceiver(receiverType);\n        customMessage.setConversationId(conversationId);\n        customMessage._composedAt = getUnixTimestamp();\n        customMessage._id = ID();\n\n        return customMessage;\n    }\n\n    sendCustomMessage = () => {\n\n        const customMessage = this.prepareCustomMessageData();\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\n        CometChat.sendCustomMessage(customMessage).then(message => {\n\n            const newMessageObj = { ...message, \"_id\": customMessage._id };\n            this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\n        }).catch(error => {\n\n            const newMessageObj = { ...customMessage, \"error\": error };\n            this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    render() {\n\n        let callScreen = null;\n        if(this.state.callInProgress) {\n\n            callScreen = (\n                <CometChatCallScreen ref={el => this.callScreenRef = el} loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />\n            );\n        }\n        return callScreen;\n    }\n}\n\n// Specifies the default values for props:\nCometChatOutgoingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatOutgoingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatOutgoingDirectCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\n\nexport class ConversationListManager {\n\n    conversationRequest = null;\n\n    conversationListenerId = \"chatlist_\" + new Date().getTime();\n    userListenerId = \"chatlist_user_\" + new Date().getTime();\n    groupListenerId = \"chatlist_group_\" + new Date().getTime();\n    callListenerId = \"chatlist_call_\" + new Date().getTime();\n\n    constructor(context) {\n\n        const chatListMode = context.UIKitSettings.chatListMode;\n        const chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n        switch (chatListMode) {\n            case chatListFilterOptions[\"USERS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_USER).setLimit(30).build();\n            break;\n            case chatListFilterOptions[\"GROUPS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_GROUP).setLimit(30).build();\n                break;\n            default:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setLimit(30).build();\n            break;\n        }\n    }\n\n    fetchNextConversation() {\n        return this.conversationRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, changedGroup, message, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, message, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, message, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, unbannedFrom, message, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn, message, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, message, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup, message, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.conversationListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, null, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, null, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, null, customMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, null, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, null, editedMessage);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, null, messageReceipt);\n                }\n            })\n        );\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, null, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, null, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.conversationListenerId);\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n\n}\n","class CometChatEvent {\n\tstatic _triggers = {};\n\n\tstatic on(event, callback) {\n\t\tif (!CometChatEvent._triggers[event]) CometChatEvent._triggers[event] = [];\n\t\tCometChatEvent._triggers[event].push(callback);\n\t}\n\n\tstatic triggerHandler(event, params) {\n\t\tif (CometChatEvent._triggers[event]) {\n\t\t\tfor (const i in CometChatEvent._triggers[event]) CometChatEvent._triggers[event][i](params);\n\t\t}\n\t}\n}\n\nexport { CometChatEvent };","export const chatsWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatsHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"69px\",\n\t};\n};\n\nexport const chatsHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) no-repeat left center`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const chatsHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n    \n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"20px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const chatsMsgStyle = () =>{\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const chatsMsgTxtStyle = theme => {\n    \n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const chatsListStyle = () => {\n\n    return {\n        height: \"calc(100% - 75px)\",\n        width: \"100%\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\",\n    }\n}","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { ConversationListManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { CometChatConversationListItem } from \"../\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n  chatsWrapperStyle,\n  chatsHeaderStyle,\n  chatsHeaderCloseStyle,\n  chatsHeaderTitleStyle,\n  chatsMsgStyle,\n  chatsMsgTxtStyle,\n  chatsListStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatConversationList extends React.Component {\n\n\tloggedInUser = null;\n\tselectedConversation = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tconversationlist: [],\n\t\t\tonItemClick: null,\n\t\t\thideGroupActionMessages: false,\n\t\t\tshowConfirmDialog: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t\tconversationToBeDeleted: null,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\n\t\tthis.setState({ conversationlist: [] }, () => {\n\t\t\tthis.ConversationListManager = new ConversationListManager(this.getContext());\n\t\t\tthis.getConversations();\n\t\t\tthis.ConversationListManager.attachListeners(this.conversationCallback);\n\t\t});\n\n\t\t//updating last message whenever a message is composed and sent\n\t\tCometChatEvent.on(\"updateLastMessage\", args => this.updateLastMessage(args));\n\n\t\t//updating unreadcount whenever a new message is received and not read.\n\t\tCometChatEvent.on(enums.EVENTS[\"NEW_MESSAGES\"], args => this.updateUnreadCount(args));\n\n\t\t//clearing unreadcount whenever scrolled to the bottom.\n\t\tCometChatEvent.on(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], args => this.clearUnreadCount(args));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//when a particular chat is selected from the chats list\n\t\tif ((Object.keys(this.getContext().item).length && this.getContext().type.length) || this.getContext().item !== this.item) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\t\t\tconst conversationObj = conversationlist.find(c => {\n\t\t\t\tif (\n\t\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && c.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === this.getContext().item.guid)\n\t\t\t\t) {\n\t\t\t\t\treturn c;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (conversationObj && conversationObj.unreadMessageCount > 0) {\n\t\t\t\tlet conversationKey = conversationlist.indexOf(conversationObj);\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\n\t\t\tif (Object.keys(this.getContext().item).length === 0) {\n\t\t\t\tthis.selectedConversation = null;\n\t\t\t}\n\t\t}\n\n\t\t//if user is blocked/unblocked, update conversationlist in state\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"uid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid && this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\t\t\tlet conversationlist = [...this.state.conversationlist];\n\n\t\t\t//search for user\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_USER && c.conversationWith.uid === this.getContext().item.uid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { blockedByMe: this.getContext().item.blockedByMe });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"guid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === this.getContext().item.guid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { membersCount: this.getContext().item.membersCount });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from conversation list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user leaving a group, remove group from conversation list\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis._isMounted = false;\n\t\tthis.ConversationListManager.removeListeners();\n\t\tthis.ConversationListManager = null;\n\n\t}\n\n\tupdateLastMessage = lastMessage => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tconst conversationObj = conversationList[conversationKey];\n\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: { ...lastMessage } };\n\n\t\t\tif (conversationKey === 0) {\n\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t} else {\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t}\n\n\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t} else {\n\t\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\t\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet newConversation = new CometChat.Conversation();\n\t\t\tnewConversation.setConversationId(lastMessage.conversationId);\n\t\t\tnewConversation.setConversationType(this.getContext().type);\n\t\t\tnewConversation.setConversationWith(this.getContext().item);\n\t\t\tnewConversation.setLastMessage(lastMessage);\n\t\t\tnewConversation.setUnreadMessageCount(0);\n\n\t\t\tconversationList.unshift(newConversation);\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateUnreadCount = params => {\n\t\t\n\t\tif (this.selectedConversation) {\n\t\t\tthis.selectedConversation[\"unreadMessages\"] = params.unreadMessages;\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tclearUnreadCount = params => {\n\n\t\tif (this.selectedConversation) {\n\t\t\t\n\t\t\tthis.selectedConversation[\"unreadMessages\"] = [];\n\t\t\tlet conversationList = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === this.selectedConversation.conversationId);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet conversationObj = { ...conversationList[conversationKey] };\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tconversationCallback = (key, item, message, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateUser(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.markMessageAsDelivered(message);\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmarkMessageAsDelivered = message => {\n\n\t\t//if chat window is not open, mark message as delivered\n\t\tif ((this.getContext().type === \"\" || Object.keys(this.getContext().item).length === 0) \n\t\t&& message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tconversationUpdated = (key, message, options) => {\n\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && message.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && message.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\t\tthis.updateConversation(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.conversationEditedDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateGroupMemberAdded(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateGroupMemberRemoved(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateGroupMemberScopeChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.updateGroupMemberChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessagesRead(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateUser = user => {\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationlist.findIndex(conversationObj => conversationObj.conversationType === \"user\" && conversationObj.conversationWith.uid === user.uid);\n\n\t\tif (conversationKey > -1) {\n\t\t\tlet conversationObj = { ...conversationlist[conversationKey] };\n\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith, status: user.getStatus() };\n\n\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: conversationWithObj };\n\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t}\n\t};\n\n\thideGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.hideGroupActionMessages) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.hideGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tplayAudio = message => {\n\t\tif (message.category === CometChat.CATEGORY_ACTION && message.type === CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER && this.state.hideGroupActionMessages === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Sound alert for incoming messages\n\t\t */\n\t\tconst receiverType = message.getReceiverType();\n\t\tconst receiverId = receiverType === CometChat.RECEIVER_TYPE.USER ? message.getSender().uid : message.getReceiverId();\n\n\t\tif (receiverType === this.getContext().type) {\n\t\t\tif ((receiverType === CometChat.RECEIVER_TYPE.USER && receiverId === this.getContext().item.uid) || (receiverType === CometChat.RECEIVER_TYPE.GROUP && receiverId === this.getContext().item.guid)) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t} else {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t\t}\n\t\t} else {\n\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t}\n\t};\n\n\tonMessagesRead = messageReceipt => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconversationList.forEach((conversation, conversationKey) => {\n\t\t\tif (conversation?.conversationType === messageReceipt.receiverType) {\n\t\t\t\tif ((conversation?.conversationType === CometChat.RECEIVER_TYPE.USER && messageReceipt.receiver === conversation?.conversationWith?.uid) || (conversation?.conversationType === CometChat.RECEIVER_TYPE.GROUP && messageReceipt.receiver === conversation?.conversationWith?.guid)) {\n\t\t\t\t\tlet unreadMessageCount = conversation.unreadMessageCount;\n\t\t\t\t\t/**\n\t\t\t\t\t * If the message id of the read reciept if greater than or equal to the lastmessage id, set unreadmessagecount to 0\n\t\t\t\t\t */\n\t\t\t\t\tif (messageReceipt?.messageId >= conversation?.lastMessage?.id) {\n\t\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationObj = { ...conversation, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tmakeConversation = message => {\n\t\tconst promise = new Promise(resolve => {\n\t\t\tCometChat.CometChatHelper.getConversationFromMessage(message).then(conversation => {\n\t\t\t\tlet conversationList = [...this.state.conversationlist];\n\t\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\t\t\tlet conversationObj = { ...conversation };\n\t\t\t\tif (conversationKey > -1) {\n\t\t\t\t\tconversationObj = { ...conversationList[conversationKey] };\n\t\t\t\t}\n\n\t\t\t\tresolve({ conversationKey: conversationKey, conversationObj: conversationObj, conversationList: conversationList });\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tmakeUnreadMessageCount = (message, conversation = {}) => {\n\t\t/**\n\t\t * If the received message is sent by the logged in user, don't increment the unread count\n\t\t */\n\t\tif (Object.keys(conversation).length === 0) {\n\t\t\tif (message.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\n\t\tlet unreadMessageCount = parseInt(conversation.unreadMessageCount);\n\t\tif (this.selectedConversation && this.selectedConversation.conversationId === conversation.conversationId) {\n\t\t\tif (this.selectedConversation.hasOwnProperty(\"unreadMessages\") && this.selectedConversation.unreadMessages.length) {\n\t\t\t\tconst firstUnreadMessage = this.selectedConversation.unreadMessages[0];\n\t\t\t\tconst selectedConversation = this.selectedConversation;\n\n\t\t\t\tif (firstUnreadMessage.hasOwnProperty(\"conversationId\") && firstUnreadMessage.conversationId === selectedConversation.conversationId) {\n\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\tthis.selectedConversation.unreadMessages.forEach(message => {\n\t\t\t\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tunreadMessageCount = 0;\n\t\t\t}\n\t\t} else if (\n\t\t\t(this.getContext().item.hasOwnProperty(\"guid\") && conversation.conversationWith.hasOwnProperty(\"guid\") && this.getContext().item.guid === conversation.conversationWith.guid) ||\n\t\t\t(this.getContext().item.hasOwnProperty(\"uid\") && conversation.conversationWith.hasOwnProperty(\"uid\") && this.getContext().item.uid === conversation.conversationWith.uid)\n\t\t) {\n\t\t\tunreadMessageCount = 0;\n\t\t} else {\n\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t}\n\n\t\treturn unreadMessageCount;\n\t};\n\n\tshouldIncrementCount = incomingMessage => {\n\t\tlet output = false;\n\t\tif (\n\t\t\t(incomingMessage.category === CometChat.CATEGORY_MESSAGE && incomingMessage.sender.uid !== this.loggedInUser?.uid) ||\n\t\t\t(this.getContext().hasKeyValue(incomingMessage, enums.KEYS[\"METADATA\"]) &&\n\t\t\t\tthis.getContext().hasKeyValue(incomingMessage[enums.KEYS[\"METADATA\"]], enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]) &&\n\t\t\t\tincomingMessage[enums.KEYS[\"METADATA\"]][enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]] === true &&\n\t\t\t\tincomingMessage.sender.uid !== this.loggedInUser?.uid)\n\t\t) {\n\t\t\toutput = true;\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tmakeLastMessage = (message, conversation = {}) => {\n\t\tconst newMessage = Object.assign({}, message);\n\t\treturn newMessage;\n\t};\n\n\tupdateConversation = (key, message) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, conversationObj);\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, {});\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconversationEditedDeleted = message => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = conversationObj.lastMessage;\n\n\t\t\t\tif (lastMessageObj.id === message.id) {\n\t\t\t\t\tconst newLastMessageObj = Object.assign({}, lastMessageObj, message);\n\t\t\t\t\tlet newConversationObj = Object.assign({}, conversationObj, { lastMessage: newLastMessageObj });\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberAdded = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t} else {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\t\t\t\t\tlet scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\t\tlet hasJoined = options.hasJoined;\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope, hasJoined: hasJoined };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberRemoved = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t} else {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberScopeChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\n\t\t\t\tlet scope = conversationWithObj.scope;\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tscope = options.scope;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope };\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid !== options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getConversations();\n\t};\n\n\t//click handler\n\thandleClick = conversation => {\n\t\tif (!this.props.onItemClick) return;\n\n\t\tthis.props.onItemClick(conversation.conversationWith, conversation.conversationType);\n\t\tthis.selectedConversation = conversation;\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tgetConversations = () => {\n\t\t\n\t\tthis.ConversationListManager.fetchNextConversation()\n\t\t\t.then(conversationList => {\n\n\t\t\t\tif (conversationList.length === 0) {\n\t\t\t\t\tif (this.state.conversationlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_CHATS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\tlet conversations = [...this.state.conversationlist];\n\t\t\t\t//if conversation exists already in the state, remove it from this list\n\t\t\t\tconversationList.forEach(eachConversation => {\n\n\t\t\t\t\tlet conversationKey = conversations.findIndex(c => c.conversationId === eachConversation.conversationId);\n\t\t\t\t\tif (conversationKey > -1) {\n\n\t\t\t\t\t\tconst newUnreadMessageCount = conversations[conversationKey][\"unreadMessageCount\"] + eachConversation[\"unreadMessageCount\"];\n\t\t\t\t\t\tconst updatedConversation = { ...conversations[conversationKey], unreadMessageCount: newUnreadMessageCount };\n\t\t\t\t\t\tconversations.splice(conversationKey, 1, updatedConversation);\n\n\t\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ conversationlist: [...conversations, ...conversationList] });\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, conversation) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CONVERSATION_DELETED\"]:\n\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_CONVERSATION\"]:\n\t\t\t\tthis.deleteConversation(conversation);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tdeleteConversation = conversation => {\n\n\t\tif (!this.state.showConfirmDialog) {\n\t\t\tthis.setState({ showConfirmDialog: true, conversationToBeDeleted: conversation });\n\t\t}\n\t};\n\n\tonDeleteConfirm = e => {\n\n\t\tconst optionSelected = e.target.value;\n\n\t\tthis.setState({ showConfirmDialog: false });\n\t\tif (optionSelected === \"yes\") {\n\n\t\t\tconst conversation = this.state.conversationToBeDeleted;\n\t\t\tconst conversationWith = conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP ? conversation?.conversationWith?.guid : conversation?.conversationWith?.uid;\n\t\t\tCometChat.deleteConversation(conversationWith, conversation.conversationType)\n\t\t\t\t.then(deletedConversation => {\n\t\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\t} else {\n\n\t\t\tthis.setState({ showConfirmDialog: false, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\tconversationDeleted = conversation => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tif (this.selectedConversation && this.selectedConversation.conversationId === conversation.conversationId) {\n\t\t\t\tthis.selectedConversation = null;\n\t\t\t\tthis.getContext().setTypeAndItem(\"\", {});\n\t\t\t}\n\n\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\tthis.setState({ conversationlist: conversationList, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst conversationList = this.state.conversationlist.map((conversation, key) => {\n\t\t\tif (this.getContext() && Object.keys(this.getContext().item).length && this.getContext().type.trim().length) {\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === conversation.conversationWith.uid) {\n\t\t\t\t\tthis.selectedConversation = conversation;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === conversation.conversationWith.guid) {\n\t\t\t\t\tthis.selectedConversation = conversation;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn <CometChatConversationListItem key={conversation.conversationId} conversation={conversation} selectedConversation={this.selectedConversation} loggedInUser={this.loggedInUser} handleClick={this.handleClick} actionGenerated={this.actionHandler} />;\n\t\t});\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={chatsMsgStyle()} className=\"chats__decorator-message\">\n\t\t\t\t\t<p css={chatsMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet closeBtn = <div css={chatsHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet showConfirmDialog = null;\n\t\tif (this.state.showConfirmDialog) {\n\t\t\tshowConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onDeleteConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"DELETE_CONFIRM\", this.getContext().language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"DELETE\", this.getContext().language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.getContext().language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst chatList = (\n\t\t\t<div css={chatsWrapperStyle(this.props, theme)} className=\"chats\">\n\t\t\t\t<div css={chatsHeaderStyle(theme)} className=\"chats__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={chatsHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={chatsListStyle()} className=\"chats__list\" onScroll={this.handleScroll} ref={el => (this.chatListRef = el)}>\n\t\t\t\t\t{conversationList}\n\t\t\t\t</div>\n\t\t\t\t{showConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\n\t\tlet chatListWrapper = chatList;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tchatListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{chatList}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn chatListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => { },\n\t_parent: \"\"\n};\n\nCometChatConversationList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatConversationList };\n","export const conversationActionStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"8px\",\n\t\tmargin: \"0\",\n\t\twidth: \"72px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.primary}`,\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-end\",\n\t\tposition: \"absolute\",\n\t\tright: \"16px\",\n\t\theight: \"100%\",\n\t};\n};\n\nexport const groupButtonStyle = (actionInProgress, progressIcon, actionIcon) => {\n\n\tconst backgroundImage = actionInProgress ? progressIcon : actionIcon;\n\n\treturn {\n\t\toutline: \"0\",\n\t\tborder: \"0\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tdisplay: \"inline-flex\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\tbackground: `url(${backgroundImage}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/progress.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {conversationActionStyle, groupButtonStyle} from \"./style.js\";\n\nimport loadingIcon from \"./resources/progress.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\n\nclass CometChatConversationListActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tdeleteInProgress: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tdeleteConversation = event => {\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_CONVERSATION\"], this.props.conversation);\n\t\tevent.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst deleteConversation = (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tcss={groupButtonStyle(this.state.deleteInProgress, loadingIcon, deleteIcon)}\n\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\tdata-title={Translator.translate(\"DELETE\", this.context.language)}\n\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\tonClick={this.deleteConversation} />\n\t\t\t</li>\n\t\t);\n\n\t\treturn (\n\t\t\t<ul css={conversationActionStyle(this.context)} className=\"list__item__actions\">\n\t\t\t\t{deleteConversation}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport {CometChatConversationListActions};","export const listItem = (props) => {\n\n    const selectedState = (props.selectedConversation && props.selectedConversation.conversationId === props.conversation.conversationId) ? {\n        backgroundColor: `${props.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        position: \"relative\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${props.theme.backgroundColor.primary}`\n        },\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemRowStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"baseline\",\n    }\n}\n\nexport const itemNameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"calc(100% - 70px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const itemLastMsgStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"13px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n\nexport const itemLastMsgTimeStyle = (props) => {\n\n    return {\n        fontSize: \"11px\",\n        width: \"70px\",\n        textAlign: \"right\",\n        color: `${props.theme.color.helpText}`,\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport {CometChatAvatar, CometChatBadgeCount, CometChatUserPresence } from \"../../Shared\";\nimport {CometChatConversationListActions} from \"../CometChatConversationListActions\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getTimeStampForLastMessage } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  listItem,\n  itemThumbnailStyle,\n  itemDetailStyle,\n  itemRowStyle,\n  itemNameStyle,\n  itemLastMsgStyle,\n  itemLastMsgTimeStyle\n} from \"./style\";\n\nclass CometChatConversationListItem extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlastMessage: \"\",\n\t\t\tlastMessageTimestamp: \"\",\n\t\t\tenableUnreadCount: false,\n\t\t\tisHovering: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst message = this.getLastMessage();\n\t\tconst timestamp = this.getLastMessageTimestamp();\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousItem = JSON.stringify(prevProps.conversation);\n\t\tconst currentItem = JSON.stringify(this.props.conversation);\n\n\t\tif (previousItem !== currentItem) {\n\t\t\tconst message = this.getLastMessage();\n\t\t\tconst timestamp = this.getLastMessageTimestamp();\n\n\t\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t\t}\n\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tgetLastMessage = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet message = null;\n\t\tconst lastMessage = this.props.conversation.lastMessage;\n\n\t\tif (lastMessage.hasOwnProperty(\"deletedAt\")) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessage = \"\";\n\t\t\t} else {\n\t\t\t\tmessage = this.props.loggedInUser.uid === lastMessage.sender.uid ? `${Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", this.context.language)}` : `${Translator.translate(\"THIS_MESSAGE_DELETED\", this.context.language)}`;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (lastMessage.category) {\n\t\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\t\tmessage = this.getMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\t\tmessage = this.getCallMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\t\t\tmessage = this.getActionMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\t\tmessage = this.getCustomMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetLastMessageTimestamp = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.lastMessage.hasOwnProperty(\"sentAt\") === false && this.props.conversation.lastMessage.hasOwnProperty(\"_composedAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet timestamp = this.props.conversation.lastMessage._composedAt || this.props.conversation.lastMessage.sentAt;\n\t\ttimestamp = getTimeStampForLastMessage(timestamp, this.context.language);\n\n\t\treturn timestamp;\n\t};\n\n\tgetCustomMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t{\n\t\t\t\t\tconst pollMessage = Translator.translate(\"CUSTOM_MESSAGE_POLL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${pollMessage}` : `${pollMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t{\n\t\t\t\t\tconst stickerMessage = Translator.translate(\"CUSTOM_MESSAGE_STICKER\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${stickerMessage}` : `${stickerMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t{\n\t\t\t\t\tconst docMessage = Translator.translate(\"CUSTOM_MESSAGE_DOCUMENT\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${docMessage}` : `${docMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t{\n\t\t\t\t\tconst whiteboardMessage = Translator.translate(\"CUSTOM_MESSAGE_WHITEBOARD\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${whiteboardMessage}` : `${whiteboardMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t{\n\t\t\t\t\tconst meetingMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = `${sender} ${meetingMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetTextMessage = message => {\n\t\tlet messageText = message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\")) {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\treturn messageText;\n\t};\n\n\tgetMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props?.loggedInUser?.uid !== lastMessage?.sender?.uid ? `${lastMessage?.sender?.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t{\n\t\t\t\t\tconst textMessage = this.getTextMessage(lastMessage);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${textMessage}` : `${textMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tconst mediaMessage = Translator.translate(\"MEDIA_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${mediaMessage}` : `${mediaMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t{\n\t\t\t\t\tconst imageMessage = Translator.translate(\"MESSAGE_IMAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${imageMessage}` : `${imageMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t{\n\t\t\t\t\tconst fileMessage = Translator.translate(\"MESSAGE_FILE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${fileMessage}` : `${fileMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"MESSAGE_VIDEO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"MESSAGE_AUDIO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.CUSTOM:\n\t\t\t\t{\n\t\t\t\t\tconst customMessage = Translator.translate(\"CUSTOM_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${customMessage}` : `${customMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetCallMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\n\t\t\tif (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\n\t\t\t\tif (message.data.extras.hasOwnProperty(\"scope\")) {\n\t\t\t\t\tif (message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\t\t\t\treturn actionMessage;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn actionMessage;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn actionMessage;\n\t\t\t}\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.hasOwnProperty(\"scope\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tconst byEntity = message.actionBy;\n\t\tconst onEntity = message.actionOn;\n\n\t\tconst byString = byEntity.name;\n\t\tconst forString = message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT ? onEntity.name : \"\";\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"ADDED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"KICKED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"BANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"MADE\", this.context.language)} ${forString} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableUnreadCount = () => {\n\t\tthis.context.FeatureRestriction.isUnreadCountEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableUnreadCount) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUnreadCount !== false) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = toggleFlag => {\n\t\tif (toggleFlag && !this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: true });\n\t\t} else if (!toggleFlag && this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: false });\n\t\t}\n\t};\n\n\trender() {\n\t\tlet lastMessageTimeStamp = null;\n\t\tif (this.state.lastMessage) {\n\t\t\tlastMessageTimeStamp = (\n\t\t\t\t<span css={itemLastMsgTimeStyle(this.props)} className=\"item__details__timestamp\">\n\t\t\t\t\t{this.state.lastMessageTimestamp}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet presence;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tconst status = this.props.conversation.conversationWith.status;\n\t\t\tpresence = <CometChatUserPresence status={status} borderColor={this.props.theme.borderColor.primary} />;\n\t\t}\n\n\t\tlet avatar = null;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tavatar = <CometChatAvatar user={this.props.conversation.conversationWith} />;\n\t\t} else if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = <CometChatAvatar group={this.props.conversation.conversationWith} />;\n\t\t}\n\n\t\tlet unreadCount = null;\n\t\tif (this.state.enableUnreadCount) {\n\t\t\tunreadCount = <CometChatBadgeCount count={this.props.conversation.unreadMessageCount} />;\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatConversationListActions {...this.props} conversation={this.props.conversation} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props)} className=\"list__item\" onMouseEnter={() => this.handleMouseHover(true)} onMouseLeave={() => this.handleMouseHover(false)} onClick={() => this.props.handleClick(this.props.conversation)}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t{presence}\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_one\">\n\t\t\t\t\t\t<div css={itemNameStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.props.conversation.conversationWith.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{lastMessageTimeStamp}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_two\">\n\t\t\t\t\t\t<div css={itemLastMsgStyle(this.props)} className=\"item__details__last-message\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.state.lastMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{unreadCount}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{toolTipView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListItem.defaultProps = {\n\ttheme: theme,\n\tloggedInUser: null,\n\tconversation: {\n\t\tconversationWith: {}\n\t}\n};\n\nCometChatConversationListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tloggedInUser: PropTypes.shape(CometChat.User),\n\tconversation: PropTypes.shape(CometChat.Conversation)\n}\n\nexport { CometChatConversationListItem };\n","export const previewWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"8px 8px 16px 8px\",\n        marginBottom: \"-8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tfontSize: \"13px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row-reverse\",\n\t\tjustifyContent: \"space-between\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const previewOptionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n    }\n}\n\nexport const previewOptionStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px\",\n\t\tmargin: \"0 8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRadius: \"10px\",\n\t\tcursor: \"pointer\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import { useContext } from 'react';\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { theme } from \"../../../../resources/theme\";\n\nimport {\n    previewWrapperStyle,\n    previewHeadingStyle,\n    previewCloseStyle,\n    previewOptionsWrapperStyle,\n    previewOptionStyle,\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatSmartReplyPreview = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    const options = props.options.map((option, key) => {\n\n        return (<div key={key} css={previewOptionStyle(context)} className=\"option\" onClick={() => props.clicked(option)}>{option}</div>)\n    })\n\n    return (\n        <div css={previewWrapperStyle(context, keyframes)} className=\"reply__preview__wrapper\">\n            <div css={previewHeadingStyle()} className=\"preview__heading\">\n                <div css={previewCloseStyle(closeIcon, context)} onClick={props.close} className=\"preview__close\"></div>\n            </div>\n            <div css={previewOptionsWrapperStyle()} className=\"preview__options\">{options}</div>\n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatSmartReplyPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatSmartReplyPreview.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatSmartReplyPreview };","export const stickerWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: \"none\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tborderRadius: \"10px 10px 0 0\",\n\t\theight: \"215px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t};\n};\n\nexport const stickerSectionListStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.silver}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\ttextTransform: \"uppercase\",\n\t\toverflowX: \"auto\",\n\t\toverflowY: \"hidden\",\n\t\tpadding: \"10px\",\n\t\t\"::-webkit-scrollbar\": {\n\t\t\tbackground: `${context.theme.backgroundColor.primary}`,\n\t\t},\n\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\tbackground: `${context.theme.backgroundColor.silver}`,\n\t\t},\n\t};\n};\n\nexport const sectionListItemStyle = () => {\n\n    return {\n\n        height: \"35px\",\n        width: \"35px\",\n        cursor: \"pointer\",\n        flexShrink: \"0\",\n        \":not(:first-of-type)\": {\n            marginLeft: \"16px\",\n        },\n    }\n}\n\nexport const stickerListStyle = () => {\n\n    return {\n        height: \"calc(100% - 50px)\",\n        display: \"flex\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    }\n}\n\nexport const stickerItemStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"50px\",\n\t\tminHeight: \"50px\",\n\t\tmaxWidth: \"70px\",\n\t\tmaxHeight: \"70px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\tmarginRight: \"20px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}`]: {\n\t\t\tmaxWidth: \"70px\",\n\t\t\tmaxHeight: \"70px\",\n\t\t},\n\t};\n};\n\nexport const stickerMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"35%\",\n    }\n}\n\nexport const stickerMsgTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"24px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};\n\nexport const stickerCloseStyle = (img, context) => {\n\t\n\treturn {\n\t\twidth: \"20px\",\n\t\theight: \"20px\",\n\t\tborderRadius: \"50%\",\n\t\talignSelf: \"flex-end\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t\tmargin: \"8px 8px 0 0\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { \n    stickerWrapperStyle, \n    stickerSectionListStyle, \n    stickerListStyle,\n    sectionListItemStyle,\n    stickerItemStyle,\n    stickerMsgStyle,\n    stickerMsgTxtStyle,\n    stickerCloseStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatStickerKeyboard extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.decoratorMessage = Translator.translate(\"LOADING\", context.language);\n\n        this.state = {\n            stickerlist: [],\n            stickerset: {},\n            activestickerlist: [],\n            activestickerset: null\n        }\n    }\n\n    componentDidMount() {\n        this.getStickers();\n    }\n\n    getStickers = () => {\n\n        CometChat.callExtension('stickers', 'GET', 'v1/fetch', null).then(stickers => {\n\n            // Stickers received\n            let activeStickerSet = null; \n            const customStickers = (stickers.hasOwnProperty(\"customStickers\")) ? stickers[\"customStickers\"] : [];\n            const defaultStickers = (stickers.hasOwnProperty(\"defaultStickers\")) ? stickers[\"defaultStickers\"] : [];\n\n            defaultStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            customStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            const stickerList = [...defaultStickers, ...customStickers];\n            \n            if (stickerList.length === 0) {\n                this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.context.language);\n            }\n\n            const stickerSet = stickerList.reduce((r, sticker, index) => {\n\n                const { stickerSetName } = sticker;\n                if (index === 0) {\n                    activeStickerSet = stickerSetName;\n                }\n\n                r[stickerSetName] = [...r[stickerSetName] || [], { ...sticker}];\n\n                return r;\n            }, {});\n\n            let activeStickerList = [];\n            if (Object.keys(stickerSet).length) {\n\n                Object.keys(stickerSet).forEach(key => {\n                    stickerSet[key].sort(function (a, b) {\n                        return a.stickerOrder - b.stickerOrder;\n                    });\n                });\n\n                activeStickerList = stickerSet[activeStickerSet];\n            }\n            \n            this.setState({ \n                \"stickerlist\": stickerList, \n                \"stickerset\": stickerSet, \n                \"activestickerlist\": activeStickerList, \n                \"activestickerset\": activeStickerSet \n            });\n\n        }).catch(error => {\n            \n            this.decoratorMessage = Translator.translate(\"SOMETHING_WRONG\", this.context.language);\n            this.setState({ \"activestickerlist\": [], \"stickerset\": {} });\n        });\n    }\n\n    sendStickerMessage = (stickerItem) => {\n        this.props.actionGenerated(enums.ACTIONS[\"SEND_STICKER\"], stickerItem);\n    }\n\n    onStickerSetClicked = (sectionItem) => {\n\n        this.setState({ activestickerlist: [] }, () => {\n\n            const stickerSet = { ...this.state.stickerset };\n            const activeStickerList = stickerSet[sectionItem];\n            this.setState({ \"activestickerset\": sectionItem, \"activestickerlist\": activeStickerList });\n        });\n    }\n\n    closeStickerKeyboard = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]);\n    }\n\n    render() {\n\n        let messageContainer = null;\n        if (this.state.activestickerlist.length === 0) {\n            messageContainer = (\n                <div css={stickerMsgStyle()} className=\"stickers__decorator-message\">\n                    <p css={stickerMsgTxtStyle(this.context)} className=\"decorator-message\">{this.decoratorMessage}</p>\n                </div>\n            );\n        }\n\n        let stickers = null;\n        if (Object.keys(this.state.stickerset).length) {\n\n            const sectionItems = Object.keys(this.state.stickerset).map((sectionItem, key) => {\n\n                const stickerSetThumbnail = this.state.stickerset[sectionItem][0][\"stickerUrl\"];\n                return( <div  key={key}  className=\"stickers__sectionitem\" css={sectionListItemStyle()}  onClick={() => this.onStickerSetClicked(sectionItem)}>\n                    <img src={stickerSetThumbnail} alt={sectionItem} />\n                </div>\n                );\n            });\n\n            let activeStickerList = [];\n            if (this.state.activestickerlist.length) {\n\n                const stickerList = [...this.state.activestickerlist];\n                activeStickerList = stickerList.map((stickerItem, key) => {\n\n                    return (\n                        <div key={key} css={stickerItemStyle(this.context)} onClick={() => this.sendStickerMessage(stickerItem)} className=\"stickers__listitem\">\n                            <img src={stickerItem.stickerUrl} alt={stickerItem.stickerName} />\n                        </div>\n                    );\n                });\n            }\n\n            stickers = (\n                <React.Fragment>\n                    <div css={stickerCloseStyle(closeIcon, this.context)} className=\"stickers__close\" onClick={this.closeStickerKeyboard}></div>\n                    <div css={stickerListStyle(this.props)} className=\"stickers__list\">\n                        {activeStickerList}\n                    </div>\n                    <div css={stickerSectionListStyle(this.context)} className=\"stickers__sections\">\n                        {sectionItems}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div css={stickerWrapperStyle(this.context, keyframes)} className=\"stickers\">\n                {messageContainer}\n                {stickers}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatStickerKeyboard.defaultProps = {\n    theme: theme\n};\n\nCometChatStickerKeyboard.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatStickerKeyboard };","export const messageReactionsStyle = (props, reactionData, context, loggedInUser) => {\n\n\tconst uid = loggedInUser?.uid;\n\tlet borderStyle = {};\n\tlet hoveredBorderStyle = {};\n\n\tif (reactionData.hasOwnProperty(uid)) {\n\t\tborderStyle = {\n\t\t\tborder: `1px solid ${context.theme.primaryColor}`,\n\t\t};\n\n\t\thoveredBorderStyle = { ...borderStyle };\n\t} else {\n\t\tborderStyle = {\n\t\t\tborder: \"1px solid transparent\",\n\t\t};\n\n\t\thoveredBorderStyle = {\n\t\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\t};\n\t}\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tpadding: \"2px 6px\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tverticalAlign: \"top\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tborderRadius: \"12px\",\n\t\tmargin: \"4px 4px 0 0\",\n\t\tcursor: \"pointer\",\n\t\t...borderStyle,\n\t\t\".emoji-mart-emoji\": {\n\t\t\tdisplay: \"inline-flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\t...hoveredBorderStyle,\n\t\t},\n\t};\n};\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        \"i\": {\n            height: \"24px\",\n            width: \"24px\",\n            mask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n        }        \n    }\n}\n\nexport const reactionCountStyle = context => {\n\n\treturn {\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tpadding: \"0 1px 0 3px\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Emoji } from \"emoji-mart\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageReactionsStyle,\n    reactionCountStyle,\n    emojiButtonStyle,\n} from \"./style\";\n\nimport reactIcon from \"./resources/reactions.svg\";\n\nclass CometChatMessageReactions extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tenableMessageReaction: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableMessageReaction();\n\t}\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableMessageReaction) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableMessageReaction !== false) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treactToMessages = emoji => {\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.props.message.id,\n\t\t\temoji: emoji.colons,\n\t\t}).then(response => {\n\t\t\t// Reaction failed\n\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttriggerEmojiClick = event => {\n\t\tevent.stopPropagation();\n\t\tevent.currentTarget.querySelector(\".emoji-mart-emoji\").click();\n\t};\n\n\tgetMessageReactions = reaction => {\n\t\t\n\t\tif (reaction === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst messageReactions = Object.keys(reaction).map((data, key) => {\n\t\t\tconst reactionData = reaction[data];\n\t\t\tconst reactionName = data.replaceAll(\":\", \"\");\n\t\t\tconst reactionCount = Object.keys(reactionData).length;\n\n\t\t\tif (!reactionCount) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst userList = [];\n\t\t\tlet reactionTitle = \"\";\n\n\t\t\tfor (const user in reactionData) {\n\t\t\t\tuserList.push(reactionData[user][\"name\"]);\n\t\t\t}\n\n\t\t\tif (userList.length) {\n\t\t\t\treactionTitle = userList.join(\", \");\n\t\t\t\tconst str = ` ${Translator.translate(\"REACTED\", this.context.language)}`;\n\t\t\t\treactionTitle = reactionTitle.concat(str);\n\t\t\t}\n\n\t\t\tconst reactionClassName = `reaction reaction__${reactionName}`;\n\t\t\treturn (\n\t\t\t\t<div key={key} css={messageReactionsStyle(this.props, reactionData, this.context, this.loggedInUser)} className={reactionClassName} title={reactionTitle} onClick={this.triggerEmojiClick}>\n\t\t\t\t\t<Emoji emoji={{ id: reactionName }} size={16} native onClick={this.reactToMessages} />\n\t\t\t\t\t<span css={reactionCountStyle(this.context)} className=\"reaction__count\">\n\t\t\t\t\t\t{reactionCount}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn messageReactions;\n\t};\n\n\taddMessageReaction = () => {\n\t\t//If reacting to messages feature is disabled\n\t\tif (this.state.enableMessageReaction === false) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst addReactionEmoji = (\n\t\t\t<div key=\"-1\" css={messageReactionsStyle(this.props, {}, this.context)} className=\"reaction reaction__add\" title={Translator.translate(\"ADD_REACTION\", this.context.language)}>\n\t\t\t\t<button type=\"button\" css={emojiButtonStyle(reactIcon, this.context)} className=\"button__reacttomessage\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message)}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\n\t\treturn addReactionEmoji;\n\t};\n\n\trender() {\n\t\tconst reaction = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tconst messageReactions = this.getMessageReactions(reaction);\n\n\t\tconst addReactionEmoji = this.addMessageReaction();\n\n\t\tif (messageReactions !== null && messageReactions.length && addReactionEmoji !== null) {\n\t\t\tif (this.props.message?.sender?.uid !== this.loggedInUser?.uid) {\n\t\t\t\tmessageReactions.push(addReactionEmoji);\n\t\t\t} else {\n\t\t\t\tmessageReactions.unshift(addReactionEmoji);\n\t\t\t}\n\t\t}\n\n\t\treturn messageReactions;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageReactions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageReactions.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageReactions };\n","export const modalWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"50%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n    }\n}\n\nexport const modalTableStyle = context => {\n\n\treturn {\n\t\tborderCollapse: \"collapse\",\n\t\tmargin: \"0\",\n\t\tpadding: \"0\",\n\t\twidth: \"100%\",\n\t\theight: \"90%\",\n\t\ttr: {\n\t\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\t\tdisplay: \"table\",\n\t\t\twidth: \"100%\",\n\t\t\ttableLayout: \"fixed\",\n\t\t},\n\t};\n};\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 16px\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    \"&:focus\": {\n                        outline: \"none\"\n                    }\n                },\n                \"label\": {\n                    padding: \"8px 16px\", \n                },\n                \":first-of-type\": {\n                    width: \"120px\"\n                }\n            }\n        }\n    }\n}\n\n\nexport const tableFootStyle = (context, state, img) => {\n\n\tlet loadingState = {};\n\tlet textMargin = {};\n\n\tif (state.creatingPoll) {\n\t\tloadingState = {\n\t\t\tdisabled: \"true\",\n\t\t\tpointerEvents: \"none\",\n\t\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n\t\t};\n\n\t\ttextMargin = {\n\t\t\tmarginRight: \"24px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\ttr: {\n\t\t\tborder: \"none\",\n\t\t\ttd: {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tbutton: {\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\tpadding: \"8px 16px\",\n\t\t\t\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\toutline: \"0\",\n\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t...loadingState,\n\t\t\t\t\tspan: {\n\t\t\t\t\t\t...textMargin,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        width: \"50px\"\n    }\n}\n\nexport const addOptionIconStyle = (img, context) => {\n\n    return {\n        backgroundSize: \"28px 28px\",\n        cursor: \"pointer\",\n        display: \"block\",\n        height: \"24px\",\n        width: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../../Shared\";\nimport { CometChatCreatePollOptions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\"; \n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalErrorStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    tableFootStyle,\n    iconWrapperStyle,\n    addOptionIconStyle\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport addIcon from \"./resources/add-circle-filled.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatCreatePoll extends React.Component {\n\n    loggedInUser = null;\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n        this.state = {\n            errorMessage: \"\",\n            options: [],\n            creatingPoll: false\n        }\n\n        this.questionRef = React.createRef();\n        this.optionOneRef = React.createRef();\n        this.optionTwoRef = React.createRef();\n        this.optionRef = React.createRef();\n    }\n\n    addPollOption = () => {\n\n        const options = [...this.state.options];\n        options.push({ value: \"\", id: new Date().getTime() });\n        this.setState({options: options});\n    }\n\n    removePollOption = (option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id);\n        if (optionKey > -1) {\n\n            options.splice(optionKey, 1);\n            this.setState({ options: options});\n        }\n    }\n\n    optionChangeHandler = (event, option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id); \n        if (optionKey > -1) {\n\n            const newOption = { ...option, value: event.target.value}\n            options.splice(optionKey, 1, newOption);\n            this.setState({ options: options });\n        }\n    }\n\n    createPoll = () => {\n\n        const question = this.questionRef.current.value.trim();\n        const firstOption = this.optionOneRef.current.value.trim();\n        const secondOption = this.optionTwoRef.current.value.trim();\n        const optionItems = [firstOption, secondOption];\n\n        if (question.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_QUESTION\", this.context.language) });\n            return false;\n        }\n\n        if (firstOption.length === 0 || secondOption.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_OPTION\", this.context.language) });\n            return false;\n        }\n\n        this.state.options.forEach(function (option) {\n            optionItems.push(option.value)\n        })\n\n        let receiverId;\n        let receiverType = this.context.type;\n        if (this.context.type === CometChat.RECEIVER_TYPE.USER) {\n            receiverId = this.context.item.uid;\n        } else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP) {\n            receiverId = this.context.item.guid;\n        }\n        \n        this.setState({ creatingPoll: true, errorMessage: \"\" });\n\n        CometChat.callExtension('polls', 'POST', 'v2/create', {\n            \"question\": question,\n            \"options\": optionItems,\n            \"receiver\": receiverId,\n            \"receiverType\": receiverType\n        }).then(response => {\n\n            if (response && response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\n                this.setState({ creatingPoll: false });\n                this.props.actionGenerated(enums.ACTIONS[\"POLL_CREATED\"]);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => {\n\n            this.setState({ creatingPoll: false });\n            this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n        });\n    }\n\n    render() {\n\n        const optionList = [...this.state.options];\n        const pollOptionView = optionList.map((option, index) => {\n            return (\n                <CometChatCreatePollOptions \n                key={index} \n                option={option} \n                tabIndex={index+4}\n                optionChangeHandler={this.optionChangeHandler}\n                removePollOption={this.removePollOption} />\n            );\n        });\n\n        const createText = (this.state.creatingPoll) ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__createpoll\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <table css={modalTableStyle(this.context)}>\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_POLL\", this.context.language)}</caption>\n                            <tbody css={tableBodyStyle()}>\n                                <tr className=\"error\">\n                                    <td colSpan=\"3\"><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n                                </tr>\n                                <tr className=\"poll__question\">\n                                    <td><label>{Translator.translate(\"QUESTION\", this.context.language)}</label></td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" autoFocus tabIndex=\"1\" placeholder={Translator.translate(\"ENTER_YOUR_QUESTION\", this.context.language)} ref={this.questionRef} />\n                                    </td>\n                                </tr>\n                                <tr className=\"poll__options\">\n                                    <td>\n                                        <label>{Translator.translate(\"OPTIONS\", this.context.language)}</label>\n                                    </td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"2\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionOneRef} />\n                                    </td>\n                                </tr>\n                                <tr ref={this.optionRef} className=\"poll__options\">\n                                    <td>&nbsp;</td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"3\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionTwoRef} />\n                                    </td>\n                                </tr>\n                                {pollOptionView}\n                                <tr>\n                                    <td>&nbsp;</td>\n                                    <td>\n                                        <label>{Translator.translate(\"ADD_NEW_OPTION\", this.context.language)}</label>\n                                    </td>\n                                    <td css={iconWrapperStyle()}>\n                                        <i tabIndex=\"100\" css={addOptionIconStyle(addIcon, this.context)} className=\"option__add\" onClick={this.addPollOption}></i>\n                                    </td>\n                                </tr>\n                            </tbody>\n                            <tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n                                <tr className=\"createpoll\">\n                                    <td colSpan=\"2\">\n                                        <button type=\"button\" onClick={this.createPoll}>\n                                            <span>{createText}</span>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatCreatePoll.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatCreatePoll.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatCreatePoll };\n","export const removeOptionIconStyle = (img, context) => {\n\n\treturn {\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.red}`,\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"block\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n    return {\n        width: \"50px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/remove.b83180e3.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { iconWrapperStyle } from \"../CometChatCreatePoll/style\";\n\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { removeOptionIconStyle } from \"./style\";\nimport removeIcon from \"./resources/remove.svg\";\n\nconst CometChatCreatePollOptions = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    return (\n        <tr className=\"poll__options\">\n            <td>&nbsp;</td>\n            <td>\n                <input \n                autoFocus\n                tabIndex={props.tabIndex}\n                type=\"text\" \n                autoComplete=\"off\" \n                placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", context.language)}\n                value={props.value}\n                onChange={(event) => props.optionChangeHandler(event, props.option)} />\n            </td>\n            <td css={iconWrapperStyle()} className=\"option__remove\">\n                <span css={removeOptionIconStyle(removeIcon, context)} onClick={() => props.removePollOption(props.option)}></span>\n            </td>\n        </tr>\n    );\n}\n\nexport { CometChatCreatePollOptions };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    messageTxtTitleStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatReceiverDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_DOCUMENT\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__document__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (state, optionData, context) => {\n\n\tlet countPadding = \"0px 16px 0px 0px\";\n    let widthProp = \"calc(100% - 40px)\";\n\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(state?.loggedInUser?.uid)) {\n\t\t//countPadding = \"0px 8px\";\n\t\twidthProp = \"calc(100% - 40px)\";\n\t}\n\n\treturn {\n\t\twidth: \"100%\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tminHeight: \"35px\",\n        padding: \"0 16px\",\n\t\theight: \"100%\",\n\t\tzIndex: \"2\",\n\t\tp: {\n\t\t\tmargin: \"0\",\n\t\t\twidth: widthProp,\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tspan: {\n\t\t\tmaxWidth: \"40px\",\n\t\t\tpadding: countPadding,\n\t\t\tfontWeight: \"bold\",\n\t\t\tdisplay: \"inline-block\",\n\t\t\tfontSize: \"13px\",\n\t\t},\n\t};\n};\n\nexport const checkIconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","export default __webpack_public_path__ + \"static/media/checkmark.2fca5711.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    checkIconStyle,\n    pollTotalStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\n\nimport checkImg from \"./resources/checkmark.svg\";\n\nclass CometChatReceiverPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tloggedInUser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: {...user} });\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n        \n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tanswerPollQuestion = (event, selectedOption) => {\n\t\tCometChat.callExtension(\"polls\", \"POST\", \"v2/vote\", {\n\t\t\tvote: selectedOption,\n\t\t\tid: this.pollId,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// if (!this.props.message.hasOwnProperty(\"metadata\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst pollOptions = [];\n\t\t//const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tlet checkIcon = null;\n\t\t\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(this.loggedInUser?.uid)) {\n\t\t\t\tcheckIcon = <i css={checkIconStyle(checkImg, this.context)}></i>;\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option} onClick={event => this.answerPollQuestion(event, option)}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.state, optionData, this.context)}>\n\t\t\t\t\t\t{checkIcon}\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__poll__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverPollMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageImgContainerStyle,\n    messageImgWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverStickerMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t{stickerImg}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverStickerMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverStickerMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverStickerMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatReceiverWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_WHITEBOARD\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__whiteboard__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(whiteboardIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"whiteboard__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"whiteboard__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverWhiteboardBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle,\n} from \"./style\";\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatSenderDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n            \n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_DOCUMENT\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (context, width) => {\n\n    return {\n        width: \"100%\",\n        color: `${context.theme.color.primary}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: \"35px\",\n        padding: \"0 16px\",\n        height: \"100%\",\n        zIndex: \"2\",\n        \"p\": {\n            margin: \"0\",\n            width: \"calc(100% - 40px)\",\n            whiteSpace: \"pre-wrap\",\n            wordWrap: \"break-word\",\n            fontSize: \"14px\",\n        },\n        \"span\": {\n            maxWidth: \"40px\",\n            padding: \"0px 16px 0px 0px\",\n            fontWeight: \"bold\",\n            display: \"inline-block\",\n            fontSize: \"13px\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollTotalStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pollOptions = [];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.results.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.context, width)}>\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderPollMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageImgWrapper,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderStickerBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} className=\"message__img__wrapper\">\n\t\t\t\t\t\t{stickerImg}{\" \"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderStickerBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderStickerBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderStickerBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"> img\": {\n            backgroundColor: \"white\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        paddingLeft: \"8px\"\n    }\n}\n\nexport const messageTxtIconStyle = (img, context) => {\n\n    return {\n        mask: `url(${img}) no-repeat left center`,\n        backgroundColor: `${context.theme.color.white}`,\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n                fontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageTxtIconStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatSenderWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_WHITEBOARD\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<i css={messageTxtIconStyle(whiteboardIcon, this.context)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderWhiteboardBubble };","export const actionMessageStyle = () => {\n\n    return {\n        padding: \"8px 16px\",\n        marginBottom: \"16px\",\n        textAlign: \"center\",\n    }\n}\n\nexport const actionMessageTxtStyle = () => {\n\n    return {\n        fontSize: \"13.5px\",\n        margin: \"0\",\n        lineHeight: \"20px\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { actionMessageStyle, actionMessageTxtStyle } from \"./style\"\n\nclass CometChatActionMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tgetCallActionMessage = message => {\n\t\tconst call = message;\n\t\tlet actionMessage = null;\n\n\t\tswitch (call.status) {\n\t\t\tcase CometChat.CALL_STATUS.INITIATED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_INITIATED\", this.context.language);\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.ONGOING: {\n\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\tactionMessage = Translator.translate(\"CALL_ACCEPTED\", this.context.language);\n\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.ONGOING) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_ACCEPTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === \"left\") {\n\t\t\t\t\t\tif (call.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\t\t\t\tactionMessage = `${Translator.translate(\"YOU\", this.context.language)} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionMessage = `${call.sender.name} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.UNANSWERED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_UNANSWERED\", this.context.language);\n\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_AUDIO_CALL\", this.context.language) : Translator.translate(\"MISSED_AUDIO_CALL\", this.context.language);\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_VIDEO_CALL\", this.context.language) : Translator.translate(\"MISSED_VIDEO_CALL\", this.context.language);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.REJECTED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_REJECTED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.ENDED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_ENDED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.CANCELLED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_CANCELLED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.BUSY:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_BUSY\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tconst byUser = message?.actionBy?.name;\n\t\tconst onUser = message?.actionOn?.name;\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"ADDED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"KICKED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"BANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"UNBANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message?.newScope;\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"MADE\", this.context.language)} ${onUser} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.category === CometChat.CATEGORY_CALL) {\n\t\t\tactionMessage = this.getCallActionMessage(message);\n\t\t} else if (message.category === CometChat.CATEGORY_ACTION) {\n\t\t\tactionMessage = this.getActionMessage(message);\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div css={actionMessageStyle()} className=\"action__message\">\n\t\t\t\t<p css={actionMessageTxtStyle()}>{this.getMessage(this.props.message)}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatActionMessageBubble.defaultProps = {\n    theme: theme,\n};\n\nCometChatActionMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatActionMessageBubble };","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageContainerStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\"\n    } : {\n        alignSelf: \"flex-start\"\n    };\n\n    return {\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        flexShrink: \"0\",\n        ...alignment\n    }\n}\n\nexport const messageWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        display: \"flex\",\n        flexDirection : \"column\",\n    } : {};\n\n    return {\n        flex: \"1 1\",\n        position: \"relative\",\n        width: \"100%\",\n        ...alignment\n    }\n}\n\nexport const messageTxtWrapperStyle = (props, context, loggedInUser) => {\n\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        padding: \"8px 12px\",\n        alignSelf: \"flex-end\",\n        Width: \"100%\",\n        backgroundColor: `${context.theme.backgroundColor.secondary}`,\n        fontStyle: \"italic\",\n        ...alignment\n    }\n}\n\nexport const messageTxtStyle = context => {\n\n\treturn {\n\t\tfontSize: \"14px!important\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"20px!important\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf : \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        ...alignment,\n    }\n}\n\nexport const messageTimeStampStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: 500,\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"uppercase\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"12px 0\",\n        float: \"left\",\n    }\n}\n\nexport const messageDetailStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpaddingLeft: \"5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tflex: \"1 1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameWrapperStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpadding: \"3px 5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\talignSelf: \"flex-start\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameStyle = context => {\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};","import React, { useContext, useState, useEffect } from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtStyle,\n    messageInfoWrapperStyle,\n    messageTimeStampStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle\n} from \"./style\";\n\nconst CometChatDeleteMessageBubble = (props) => {\n\n    const context = useContext(CometChatContext);\n\n\tconst [loggedInUser, setLoggedInUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tcontext.getLoggedinUser().then(user => {\n\t\t\tsetLoggedInUser({ ...user });\n\t\t});\n\t}, [context]);\n\n    let message = null;\n    const messageDate = (props.message.sentAt * 1000);\n    if (props.message?.sender?.uid === loggedInUser?.uid) {\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t{Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", context.language)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tlet avatar = null,\n\t\t\t\tname = null;\n\t\t\tif (props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tavatar = (\n\t\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t\t<CometChatAvatar user={props.message.sender} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tname = (\n\t\t\t\t\t<div css={nameWrapperStyle(props, loggedInUser)} className=\"message__name__wrapper\">\n\t\t\t\t\t\t<span css={nameStyle(context)} className=\"message__name\">\n\t\t\t\t\t\t\t{props.message.sender.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(props, loggedInUser)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"THIS_MESSAGE_DELETED\", context.language)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n    return (\n        <div css={messageContainerStyle(props, loggedInUser)} className=\"message__deleted\">\n            <div css={messageWrapperStyle(props, loggedInUser)} className=\"message__wrapper\">{message}</div>                            \n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatDeleteMessageBubble.defaultProps = {\n    theme: theme\n};\n\nCometChatDeleteMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatDeleteMessageBubble };","export const pickerStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \".emoji-mart\": {\n            borderRadius: \"5px 5px 0 0\",\n            borderBottom: \"0px\",\n            \".emoji-mart-category-list\": {\n                \" > li\": {\n                    width: \"50px\",\n                    height: \"30px\",\n                    margin: \"8px\",\n                    \".emoji-mart-emoji\": {\n                        width: \"50px\",\n                        height: \"30px\",\n                        padding: \"0px\",\n                        \" > span\": {\n                            width: \"50px!important\",\n                            height: \"30px!important\",\n                            cursor: \"pointer\",\n                        }\n                    }\n                }\n            },\n        },\n        \".emoji-mart-scroll\": {\n            height: \"200px\"\n        },\n        \".emoji-mart-preview, .emoji-mart-search\": {\n            display: \"none\"\n        },\n        \".emoji-mart-category\": {\n            \".emoji-mart-emoji:hover:before\": {\n                background: \"none\",\n                borderRadius: \"0px\",\n            }\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Picker } from \"emoji-mart\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    pickerStyle\n} from \"./style\";\n\nclass CometChatEmojiKeyboard extends React.Component {\n\n    categories = {};\n    title = \"\";\n\n    constructor(props) {\n\n        super(props);\n\n        const categories = {\n            people: Translator.translate(\"SMILEY_PEOPLE\", props.lang),\n            nature: Translator.translate(\"ANIMALES_NATURE\", props.lang),\n            foods: Translator.translate(\"FOOD_DRINK\", props.lang),\n            activity: Translator.translate(\"ACTIVITY\", props.lang),\n            places: Translator.translate(\"TRAVEL_PLACES\", props.lang),\n            objects: Translator.translate(\"OBJECTS\", props.lang),\n            symbols: Translator.translate(\"SYMBOLS\", props.lang),\n            flags: Translator.translate(\"FLAGS\", props.lang)\n        }\n\n        const title = Translator.translate(\"PICK_YOUR_EMOJI\", props.lang);\n\n        this.state = {\n            categories: categories, \n            title: title\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n\n        if(prevProps.lang !== this.props.lang) {\n\n            const categories = {\n                search: Translator.translate(\"SEARCH\", this.props.lang),\n                people: Translator.translate(\"SMILEY_PEOPLE\", this.props.lang),\n                nature: Translator.translate(\"ANIMALES_NATURE\", this.props.lang),\n                foods: Translator.translate(\"FOOD_DRINK\", this.props.lang),\n                activity: Translator.translate(\"ACTIVITY\", this.props.lang),\n                places: Translator.translate(\"TRAVEL_PLACES\", this.props.lang),\n                objects: Translator.translate(\"OBJECTS\", this.props.lang),\n                symbols: Translator.translate(\"SYMBOLS\", this.props.lang),\n                flags: Translator.translate(\"FLAGS\", this.props.lang)\n            }\n\n            const title = Translator.translate(\"PICK_YOUR_EMOJI\", this.props.lang);\n\n            this.setState({ categories: { ...categories}, title: title });\n        }\n    }\n\n    render() {\n\n        const exclude = [\"search\", \"recent\"];\n        return(\n            <div css={pickerStyle()}>\n            <Picker\n            title={this.state.title}\n            emoji=\"point_up\"\n            native\n            onClick={this.props.emojiClicked}\n            showPreview={false}\n            exclude={exclude}\n            i18n={{ categories: this.state.categories }} \n            style={{ bottom: \"100px\", \"zIndex\": \"2\", \"width\": \"100%\", height: \"230px\" }} />\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatEmojiKeyboard.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n};\n\nCometChatEmojiKeyboard.propTypes = {\n    lang: PropTypes.string,\n}\n\nexport { CometChatEmojiKeyboard };","export const imageWrapperStyle = (context, closeIcon, img) => {\n\n    const heightProps = (img) ? {\n        height: \"auto\",\n    } : {\n        height: \"100%\",\n    };\n\n\tconst mq = [...context.theme.breakPoints];\n\n    return {\n\t\tposition: \"absolute\",\n\t\ttop: \"0\",\n\t\tleft: \"0\",\n\t\tbottom: \"0\",\n\t\tright: \"0\",\n\t\twidth: \"100%\",\n\t\tpadding: \"1.8% 2.3%\",\n\t\tzIndex: \"9999\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tbackground: `url(${closeIcon}) no-repeat 99% 0.8% #fff`,\n\t\tcursor: \"pointer\",\n\t\t...heightProps,\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n}\n\nexport const imgStyle = image => {\n\n    const sizeProps = (!image) ? {\n        width: \"24px\",\n        height: \"24px\",\n    } : {\n\t\tmaxHeight: \"100%\",\n\t};\n\n\treturn {\n\t\tobjectFit: \"contain\",\n\t\t...sizeProps,\n\t};\n};","export default __webpack_public_path__ + \"static/media/ring.f2985674.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React, { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport {\n    imageWrapperStyle,\n    imgStyle,\n} from \"./style\";\n\nimport loadingIcon from \"./resources/ring.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatImageViewer = (props) => {\n\n    const context = useContext(CometChatContext);\n    const [image, setImage] = React.useState(null);\n\n    let img = new Image();\n    img.src = props.message.data.url;\n\n    img.onload = () => {\n        setImage(img.src);\n    };\n\n    let imageIcon = null;\n    if (image) {\n        imageIcon = image;\n    } else {\n        imageIcon = loadingIcon;\n    }\n\n    return (\n        <React.Fragment>\n            <CometChatBackdrop show={true} clicked={props.close} />\n            <div css={imageWrapperStyle(context, closeIcon, image)} onClick={props.close} className=\"image__wrapper\">\n                <img src={imageIcon} css={imgStyle(image)} alt={imageIcon} />\n            </div>\n        </React.Fragment>\n    );\n}\n\n\n// Specifies the default values for props:\nCometChatImageViewer.defaultProps = {\n\tcount: 0,\n\tclose: () => {},\n};\n\nCometChatImageViewer.propTypes = {\n\tshow: PropTypes.bool,\n\tclose: PropTypes.func,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatImageViewer };","export const messagePreviewContainerStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tboxShadow: \"0px 1px 2px 1px rgba(0,0,0,0.18)\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messagePreviewWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}\n\nexport const previewImageStyle = (img) => {\n\n    return {\n        background: `url(${img}) no-repeat center center`,\n        backgroundSize: \"contain\",\n        height: \"150px\",\n        margin: \"12px 0\",\n    }\n}\n\nexport const previewDataStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tpadding: \"16px\",\n\t};\n};\n\nexport const previewTitleStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontWeight: \"700\",\n\t\tmarginBottom: \"8px\",\n\t};\n};\n\nexport const previewDescStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontStyle: \"italic\",\n\t\tfontSize: \"13px\",\n\t};\n};\n\nexport const previewTextStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\t\".message__txt__wrapper\": {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.helpText}`,\n\t\t\tfontStyle: \"normal\",\n\t\t\tpadding: \"8px 0\",\n\t\t},\n\t};\n};\n\nexport const previewLinkStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: \"12px\",\n\t\t\"> a\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t\tfontWeight: \"700\",\n\t\t},\n\t};\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messagePreviewContainerStyle,\n    messagePreviewWrapperStyle,\n    previewImageStyle,\n    previewDataStyle,\n    previewTitleStyle,\n    previewDescStyle,\n    previewLinkStyle,\n    previewTextStyle,\n} from \"./style\";\n\nclass CometChatLinkPreview extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    render() {\n\n        const linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n        const linkObject = linkPreviewData[\"links\"][0];\n\n        const pattern = /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)(\\S+)?/;\n        const linkText = (linkObject[\"url\"].match(pattern)) ? Translator.translate(\"VIEW_ON_YOUTUBE\", this.context.language) : Translator.translate(\"VISIT\", this.context.language);\n\n        return (\n            <div css={messagePreviewContainerStyle(this.context)} className=\"message__preview\">\n                <div css={messagePreviewWrapperStyle()} className=\"preview__card\">\n                    <div css={previewImageStyle(linkObject[\"image\"])} className=\"card__image\"></div>\n                    <div css={previewDataStyle(this.context)} className=\"card__info\">\n                        <div css={previewTitleStyle(this.context)} className=\"card__title\"><span>{linkObject[\"title\"]}</span></div>\n                        <div css={previewDescStyle(this.context)} className=\"card__desc\"><span>{linkObject[\"description\"]}</span></div>\n                        <div css={previewTextStyle(this.context)} className=\"card__text\">{this.props.messageText}</div>\n                    </div>\n                    <div css={previewLinkStyle(this.context)} className=\"card__link\">\n                        <a href={linkObject[\"url\"]} target=\"_blank\" rel=\"noopener noreferrer\">{linkText}</a>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatLinkPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatLinkPreview.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatLinkPreview };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n    reactionContainerStyle,\n    reactionEmojiStyle\n} from \"./style\";\n\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatLiveReactions extends React.PureComponent {\n\n    static contextType = CometChatContext;\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.parentElement = React.createRef();\n\n\t\tthis.counter = 0;\n\t\tthis.verticalSpeed = 5;\n\t\tthis.horizontalSpeed = 2;\n\t\tthis.items = [];\n\n\t\tthis.before = Date.now();\n\n\t\tconst reaction = props.reaction ? enums.CONSTANTS[\"LIVE_REACTIONS\"][props.reaction] : enums.CONSTANTS[\"LIVE_REACTIONS\"][\"heart\"];\n\t\tconst reactionImg = <img src={heartIcon} alt={reaction} />;\n\t\tthis.emojis = Array(6).fill(reactionImg);\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.sendMessage();\n\t\tthis.setItems();\n\t\tthis.requestAnimation();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.timer = null;\n\t}\n\n\tsendMessage = () => {\n\n        //fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n        const receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n        const receiverId = (this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER) ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\tsetItems = () => {\n\t\tconst width = this.parentElement.offsetWidth;\n\t\tconst height = this.parentElement.offsetHeight;\n\n\t\tconst elements = this.parentElement.querySelectorAll(\".emoji\");\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i],\n\t\t\t\telementWidth = element.offsetWidth,\n\t\t\t\telementHeight = element.offsetHeight;\n\n\t\t\tconst item = {\n\t\t\t\telement: element,\n\t\t\t\telementHeight: elementHeight,\n\t\t\t\telementWidth: elementWidth,\n\t\t\t\tySpeed: -this.verticalSpeed,\n\t\t\t\tomega: (2 * Math.PI * this.horizontalSpeed) / (width * 60), //omega= 2Pi*frequency\n\t\t\t\trandom: (Math.random() / 2 + 0.5) * i * 10000, //random time offset\n\t\t\t\tx: function (time) {\n\t\t\t\t\treturn ((Math.sin(this.omega * (time + this.random)) + 1) / 2) * (width - elementWidth);\n\t\t\t\t},\n\t\t\t\ty: height + (Math.random() + 1) * i * elementHeight,\n\t\t\t};\n\n\t\t\tthis.items.push(item);\n\t\t}\n\t};\n\n\trequestAnimation = () => {\n\t\tthis.timer = setTimeout(this.animate, 1000 / 60);\n\t};\n\n\tanimate = () => {\n\t\tif (!this.parentElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst height = this.parentElement.offsetHeight;\n\t\tconst time = +new Date(); //little trick, gives unix time in ms\n\n\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\tconst item = this.items[i];\n\n\t\t\tconst transformString = \"translate3d(\" + item.x(time) + \"px, \" + item.y + \"px, 0px)\";\n\t\t\titem.element.style.transform = transformString;\n\n\t\t\titem.element.style.visibility = \"visible\";\n\n\t\t\tif (item.y <= height) {\n\t\t\t\titem.element.classList.add(\"fade\");\n\t\t\t}\n\n\t\t\titem.y += item.ySpeed;\n\t\t}\n\n\t\tthis.requestAnimation();\n\t};\n\n\trender() {\n\t\tconst emojis = this.emojis.map((emoji, index) => (\n\t\t\t<span className=\"emoji\" css={reactionEmojiStyle()} key={index}>\n\t\t\t\t{emoji}\n\t\t\t</span>\n\t\t));\n\t\treturn (\n\t\t\t<div ref={el => (this.parentElement = el)} css={reactionContainerStyle()}>\n\t\t\t\t{emojis}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatLiveReactions };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","export const reactionContainerStyle = () => {\n\n    return {\n        width: \"100px\",\n        height: \"calc(100% - 120px)\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: \"70px\",\n        right: \"0\",\n    }\n}\n\nexport const reactionEmojiStyle = () => {\n\n    return {\n        position: \"absolute\",\n        color: \"#DD4144\",\n        visibility: \"hidden\",\n        width: \"20px\",\n        height: \"20px\",\n        opacity: \"1\",\n        transition: \"opacity 3s\",\n        \"&.fade\": {\n            opacity: \"0\"\n        }\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageActionStyle = (props, context, loggedInUser) => {\n\n    const topPos = (props.message.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? { top: \"-4px\" } : { top: \"-30px\" };\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? { alignSelf: \"flex-end\" } : { alignSelf: \"flex-start\" };\n    const direction = (props.message?.sender?.uid === loggedInUser?.uid) ? { \n        \"li:not(:last-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    } : {\n        flexDirection: \"row-reverse\",\n        \"li:not(:first-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    };\n\n    return {\n        position: \"absolute\",\n        zIndex: \"1\",\n        display: \"flex\",\n        listStyleType: \"none\",\n        padding: \"8px\",\n        margin: \"0\",\n        height: \"35px\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        ...alignment,\n        ...topPos,\n        ...direction,\n    }\n}\n\nexport const actionGroupStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        position: \"relative\",\n    }\n}\n\nexport const groupButtonStyle = (img, context, deleteOption) => {\n\n    const backgroundProp = (deleteOption) ? {\n        backgroundColor: `${context.theme.color.red}!important`\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}!important`\n    };\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        height: \"24px\",\n        width: \"24px\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        mask: `url(${img}) center center no-repeat`,\n        ...backgroundProp\n    }\n}","export default __webpack_public_path__ + \"static/media/threaded-message.d845cc3f.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","export default __webpack_public_path__ + \"static/media/message-translate.80731563.svg\";","export default __webpack_public_path__ + \"static/media/send-message-in-private.293d36b5.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageActionStyle,\n\tactionGroupStyle,\n\tgroupButtonStyle\n} from \"./style\";\n\nimport startThreadIcon from \"./resources/threaded-message.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\nimport editIcon from \"./resources/edit.svg\";\nimport reactIcon from \"./resources/reactions.svg\";\nimport translateIcon from \"./resources/message-translate.svg\";\nimport sendMessageInPrivateIcon from \"./resources/send-message-in-private.svg\";\n\n\nclass CometChatMessageActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tenableMessageReaction: false,\n\t\t\tenableThreadedChats: false,\n\t\t\tenableDeleteMessage: false,\n\t\t\tenableEditMessage: false,\n\t\t\tenableTranslateMessage: false,\n\t\t\tenableMessageInPrivate: false,\n\t\t\tenableDeleteMessageForModerator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\n\t\t\tthis.setState({loggedInUser: { ...user }});\n\n\t\t}).then(() => {\n\n\t\t\tthis.enableMessageReaction();\n\t\t\tthis.enableThreadedChats();\n\t\t\tthis.enableDeleteMessage();\n\t\t\tthis.enableDeleteMessageForModerator();\n\t\t\tthis.enableEditMessage();\n\t\t\tthis.enableTranslateMessage();\n\t\t\tthis.enableMessageInPrivate();\n\t\t});\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t});\n\t};\n\n\tenableThreadedChats = () => {\n\t\t/**\n\t\t * If threaded chats are open, return false\n\t\t */\n\t\tif (this.props.message.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If threaded replies feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableThreadedChats: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessage = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessageForModerator = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMemberMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t});\n\t};\n\n\tenableEditMessage = () => {\n\t\t/**\n\t\t * If the message is not sent by the logged in user or the message type is not text\n\t\t */\n\t\tif (this.props.message.sender?.uid !== this.state.loggedInUser?.uid || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isEditMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableEditMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t});\n\t};\n\n\tenableTranslateMessage = () => {\n\t\t/**\n\t\t * message type is not text\n\t\t */\n\t\tif (this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isMessageTranslationEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t});\n\t};\n\n\t/**\n\t * If message in private feature is enabled\n\t */\n\tenableMessageInPrivate = () => {\n\t\tthis.context.FeatureRestriction.isMessageInPrivateEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t});\n\t};\n\n\tsendMessageInPrivate = () => {\n\t\t\n\t\tconst item = this.props.message?.sender;\n\t\tconst type = CometChat.ACTION_TYPE.TYPE_USER;\n\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\treactToMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message);\n\t};\n\n\tviewThread = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], this.props.message);\n\t};\n\n\tdeleteMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_MESSAGE\"], this.props.message);\n\t};\n\n\teditMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"EDIT_MESSAGE\"], this.props.message);\n\t};\n\n\ttranslateMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TRANSLATE_MESSAGE\"], this.props.message);\n\t};\n\n\trender() {\n\t\t//don't show the tooltip while the message is being sent\n\t\tif (this.props.message.hasOwnProperty(\"sentAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet reactToMessage = null;\n\t\tif (this.state.enableMessageReaction) {\n\t\t\treactToMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(reactIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__reacttomessage\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"ADD_REACTION\", this.context.language)}\n\t\t\t\t\t\tonClick={this.reactToMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet threadedChats = null;\n\t\tif (this.state.enableThreadedChats) {\n\t\t\tthreadedChats = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(startThreadIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__threadedchats\"\n\t\t\t\t\t\tdata-title={this.props.message.replyCount ? Translator.translate(\"REPLY_TO_THREAD\", this.context.language) : Translator.translate(\"REPLY_IN_THREAD\", this.context.language)}\n\t\t\t\t\t\tonClick={this.viewThread}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * in one-on-one chat, allow deleting self messages if delete feature is enabled\n\t\t * in group chat, allow deleting other's messages for moderators and admins if moderator delete feature && delete feature is enabled\n\t\t */\n\t\tlet deleteMessage = null;\n\t\tif (\n\t\t\t(this.props.message.sender?.uid === this.state.loggedInUser?.uid && this.state.enableDeleteMessage) ||\n\t\t\t(this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP &&\n\t\t\t\tthis.props.message.sender?.uid !== this.state.loggedInUser?.uid &&\n\t\t\t\tthis.context.item.hasOwnProperty(\"scope\") &&\n\t\t\t\tthis.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT &&\n\t\t\t\tthis.state.enableDeleteMessageForModerator &&\n\t\t\t\tthis.state.enableDeleteMessage)\n\t\t) {\n\t\t\tdeleteMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(deleteIcon, this.context, 1)}\n\t\t\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"DELETE_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.deleteMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet editMessage = null;\n\t\tif (this.state.enableEditMessage) {\n\t\t\teditMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(editIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__edit\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"EDIT_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.editMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet translateMessage = null;\n\t\tif (this.state.enableTranslateMessage) {\n\t\t\ttranslateMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\tcss={groupButtonStyle(translateIcon, this.context)}\n\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\tdata-title={Translator.translate(\"TRANSLATE_MESSAGE\", this.context.language)}\n\t\t\t\t\tonClick={this.translateMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * if send message in private feature is enabled, if group chat window is open, and messages are not sent by the loggedin user...\n\t\t */\n\t\tlet messageInPrivate = null;\n\t\tif (this.state.enableMessageInPrivate === true && this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.props.message?.sender?.uid !== this.state.loggedInUser?.uid) {\n\t\t\tmessageInPrivate = (\n\t\t\t\t<li>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(sendMessageInPrivateIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"SEND_MESSAGE_IN_PRIVATE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.sendMessageInPrivate}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet tooltip = (\n\t\t\t<ul css={messageActionStyle(this.props, this.context, this.state.loggedInUser)} className=\"message__actions\">\n\t\t\t\t{reactToMessage}\n\t\t\t\t{threadedChats}\n\t\t\t\t{editMessage}\n\t\t\t\t{deleteMessage}\n\t\t\t\t{messageInPrivate}\n\t\t\t\t{translateMessage}\n\t\t\t</ul>\n\t\t);\n\n\t\tif (threadedChats === null && deleteMessage === null && editMessage === null && reactToMessage === null && translateMessage === null && messageInPrivate === null) {\n\t\t\ttooltip = null;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageActions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatMessageActions.propTypes = {\n\ttheme: PropTypes.object.isRequired,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageActions };","export const chatComposerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\torder: \"3\",\n\t\tposition: \"relative\",\n\t\tflex: \"none\",\n\t\tminHeight: \"105px\",\n\t};\n};\n\nexport const editPreviewContainerStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -60px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"7px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborderColor: `${context.theme.borderColor.primary}`,\n\t\tborderWidth: \"1px 1px 1px 5px\",\n\t\tborderStyle: \"solid\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontSize: \"13px\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewTextStyle = () => {\n\n    return {\n        padding: \"5px 0\",\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const composerInputStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"row\",\n        alignItems: \"flex-end\",\n        position: \"relative\",\n        zIndex: \"2\",\n        padding: \"0\",\n        minHeight: \"85px\",\n    }\n}\n\nexport const inputInnerStyle = (props, state, context) => {\n\n    const borderRadiusVal = (state.emojiViewer || state.stickerViewer) ? {\n        borderRadius: \"0 0 8px 8px\",\n    } : {\n        borderRadius: \"8px\",\n    };\n\n    return {\n        flex: \"1 1 auto\",\n        position: \"relative\",\n        outline: \"none\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        minHeight: \"85px\",\n        ...borderRadiusVal\n    }\n}\n\nexport const messageInputStyle = (disabled) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents : \"none\",\n        opacity: \"0.4\"\n    } : {};\n\n    return {\n        width: \"100%\",\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        padding: \"16px\",\n        outline: \"none\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        position: \"relative\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        zIndex: \"1\",\n        minHeight: \"50px\",\n        maxHeight: \"100px\",\n        userSelect: \"text\",\n        ...disabledState,\n        '&:empty:before': {\n            content: \"attr(placeholder)\",\n            color: \"rgb(153, 153, 153)\",\n            pointerEvents: \"none\",\n            display: \"block\", /* For Firefox */\n        }\n    }\n}\n\nexport const inputStickyStyle = (disabled, attachments, context) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents: \"none\",\n    } : {};\n\n    const flexDirectionProp = (attachments === null) ? {\n        flexDirection: \"row-reverse\",\n    } : {};\n\n    return {\n        padding: \"8px 16px\",\n        // height: \"40px\",\n        borderTop: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        ...flexDirectionProp,\n        ...disabledState,\n        '&:empty:before': {\n            pointerEvents: \"none\",\n        }\n    }\n}\n\nexport const stickyAttachmentStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"auto\"\n    }\n}\n\nexport const attachmentIconStyle = () => {\n\n    return {\n        margin: \"auto 0\",\n        width: \"24px\",\n        height: \"20px\",\n        cursor: \"pointer\",\n    }\n}\n\nexport const filePickerStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        width: \"calc(100% - 20px)\",\n        opacity: \"1\",\n    } : {};\n\n    return {\n        width: \"0\",\n        borderRadius: \"8px\",\n        overflow: \"hidden\",\n        zIndex: \"1\",\n        opacity: \"0\",\n        transition: \"width 0.5s linear\",\n        ...active,\n    }\n}\n\nexport const fileListStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"0 0 0 16px\",\n    }\n}\n\nexport const fileItemStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"0 16px 0 0\",\n        \" > i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        },\n        ' > input': {\n            display: \"none\",\n        },\n    }\n}\n\nexport const stickyAttachButtonStyle = (img, context) => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"24px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const stickyButtonStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        display: \"none\",\n    } : {\n        display: \"flex\",\n    };\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"auto\",\n        ...active\n    }\n}\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const sendButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.primaryColor}`\n        }\n    }\n}\n\nexport const reactionBtnStyle = () => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n    }\n}\n\nexport const stickerBtnStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/video.2493964e.svg\";","export default __webpack_public_path__ + \"static/media/audio-file.5e5200f5.svg\";","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","export default __webpack_public_path__ + \"static/media/image.74b5a891.svg\";","export default __webpack_public_path__ + \"static/media/emoji.c7a39969.svg\";","export default __webpack_public_path__ + \"static/media/send-message.1fcc4bdc.svg\";","export default __webpack_public_path__ + \"static/media/polls.30ae277d.svg\";","export default __webpack_public_path__ + \"static/media/stickers.d5d3db8f.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport { CometChatSmartReplyPreview, CometChatCreatePoll, CometChatStickerKeyboard } from \"../Extensions\";\nimport { CometChatEmojiKeyboard } from \"../\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatComposerStyle,\n\teditPreviewContainerStyle,\n\tpreviewHeadingStyle,\n\tpreviewCloseStyle,\n\tpreviewTextStyle,\n\tcomposerInputStyle,\n\tinputInnerStyle,\n\tmessageInputStyle,\n\tinputStickyStyle,\n\tstickyAttachmentStyle,\n\tfilePickerStyle,\n\tfileListStyle,\n\tfileItemStyle,\n\tstickyAttachButtonStyle,\n\tstickyButtonStyle,\n\temojiButtonStyle,\n\tsendButtonStyle,\n\treactionBtnStyle,\n\tstickerBtnStyle\n} from \"./style\";\n\nimport roundedPlus from \"./resources/add-circle-filled.svg\";\nimport videoIcon from \"./resources/video.svg\";\nimport audioIcon from \"./resources/audio-file.svg\";\nimport docIcon from \"./resources/file-upload.svg\";\nimport imageIcon from \"./resources/image.svg\";\nimport insertEmoticon from \"./resources/emoji.svg\";\nimport sendBlue from \"./resources/send-message.svg\";\nimport pollIcon from \"./resources/polls.svg\";\nimport stickerIcon from \"./resources/stickers.svg\";\nimport closeIcon from \"./resources/close.svg\";\nimport documentIcon from \"./resources/collaborative-document.svg\";\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatMessageComposer extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imageUploaderRef = React.createRef();\n\t\tthis.fileUploaderRef = React.createRef();\n\t\tthis.audioUploaderRef = React.createRef();\n\t\tthis.videoUploaderRef = React.createRef();\n\t\tthis.messageInputRef = React.createRef();\n\t\tthis.liveReactionInProgress = false;\n\t\tthis.isTyping = false;\n\n\t\tthis.state = {\n\t\t\tshowFilePicker: false,\n\t\t\tmessageInput: \"\",\n\t\t\tmessageType: \"\",\n\t\t\temojiViewer: false,\n\t\t\tcreatePoll: false,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tstickerViewer: false,\n\t\t\tmessageToReact: \"\",\n\t\t\tshareDocument: false,\n\t\t\tshareWhiteboard: false,\n\t\t\tenableLiveReaction: false,\n\t\t\tenablePolls: false,\n\t\t\tenableTypingIndicator: false,\n\t\t\tenableStickers: false,\n\t\t\tenablePhotosVideos: false,\n\t\t\tenableFiles: false,\n\t\t\tenableEmojis: false,\n\t\t\tenableCollaborativeDocument: false,\n\t\t\tenableCollaborativeWhiteboard: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevProps.messageToBeEdited !== this.props.messageToBeEdited) {\n\t\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\t\tthis.setState({ messageInput: messageToBeEdited, messageToBeEdited: messageToBeEdited });\n\n\t\t\tconst element = this.messageInputRef.current;\n\t\t\tif (messageToBeEdited) {\n\t\t\t\tlet messageText = messageToBeEdited.text;\n\n\t\t\t\t//xss extensions data\n\t\t\t\tconst xssData = checkMessageForExtensionsData(messageToBeEdited, \"xss-filter\");\n\t\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t\t}\n\n\t\t\t\telement.focus();\n\t\t\t\telement.textContent = \"\";\n\t\t\t\tthis.pasteHtmlAtCaret(messageText, false);\n\t\t\t} else {\n\t\t\t\telement.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\tif (prevProps.replyPreview !== this.props.replyPreview) {\n\t\t\tthis.setState({ replyPreview: this.props.replyPreview });\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messageToReact);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messageToReact);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ messageToReact: this.props.messageToReact });\n\t\t}\n\n\t\tif (this.context.item !== this.item) {\n\t\t\tthis.messageInputRef.current.textContent = \"\";\n\t\t\tthis.setState({ stickerViewer: false, emojiViewer: false, replyPreview: null, messageToBeEdited: \"\", messageInput: \"\" });\n\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tif (prevState.messageInput !== this.state.messageInput) {\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\t/**\n\t * if live reactions feature is disabled\n\t */\n\tenableLiveReaction = () => {\n\t\tthis.context.FeatureRestriction.isLiveReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLiveReaction) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLiveReaction !== false) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if polls feature is disabled\n\t */\n\tenablePolls = () => {\n\t\tthis.context.FeatureRestriction.isPollsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePolls) {\n\t\t\t\t\tthis.setState({ enablePolls: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePolls !== false) {\n\t\t\t\t\tthis.setState({ enablePolls: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if stickers feature is disabled\n\t */\n\tenableStickers = () => {\n\t\tthis.context.FeatureRestriction.isStickersEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableStickers) {\n\t\t\t\t\tthis.setState({ enableStickers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableStickers !== false) {\n\t\t\t\t\tthis.setState({ enableStickers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding photos, videos feature is disabled\n\t */\n\tenablePhotosVideos = () => {\n\t\tthis.context.FeatureRestriction.isPhotosVideosEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePhotosVideos) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePhotosVideos !== false) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding files feature is disabled\n\t */\n\tenableFiles = () => {\n\t\tthis.context.FeatureRestriction.isFilesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableFiles) {\n\t\t\t\t\tthis.setState({ enableFiles: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableFiles !== false) {\n\t\t\t\t\tthis.setState({ enableFiles: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sending emojis feature is disabled\n\t */\n\tenableEmojis = () => {\n\t\tthis.context.FeatureRestriction.isEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableEmojis) {\n\t\t\t\t\tthis.setState({ enableEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative document feature is disabled\n\t */\n\tenableCollaborativeDocument = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeDocumentEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeDocument) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeDocument !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative whiteboard feature is disabled\n\t */\n\tenableCollaborativeWhiteboard = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeWhiteBoardEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeWhiteboard) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeWhiteboard !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfocusOnMessageComposer = () => {\n\t\tif (this.messageInputRef && this.messageInputRef.current) {\n\t\t\tthis.messageInputRef.current.focus();\n\t\t}\n\t};\n\n\tpasteHtmlAtCaret(html, selectPastedContent) {\n\t\tvar sel, range;\n\t\tconst chatWindow = this.context.UIKitSettings.chatWindow;\n\t\tif (chatWindow.getSelection) {\n\t\t\t// IE9 and non-IE\n\t\t\tsel = chatWindow.getSelection();\n\t\t\tif (sel.getRangeAt && sel.rangeCount) {\n\t\t\t\trange = sel.getRangeAt(0);\n\t\t\t\trange.deleteContents();\n\n\t\t\t\t// Range.createContextualFragment() would be useful here but is\n\t\t\t\t// only relatively recently standardized and is not supported in\n\t\t\t\t// some browsers (IE9, for one)\n\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\tel.innerText = html;\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t\tnode,\n\t\t\t\t\tlastNode;\n\t\t\t\twhile ((node = el.firstChild)) {\n\t\t\t\t\tlastNode = frag.appendChild(node);\n\t\t\t\t}\n\t\t\t\tvar firstNode = frag.firstChild;\n\t\t\t\trange.insertNode(frag);\n\n\t\t\t\t// Preserve the selection\n\t\t\t\tif (lastNode) {\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.setStartAfter(lastNode);\n\t\t\t\t\tif (selectPastedContent) {\n\t\t\t\t\t\trange.setStartBefore(firstNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange.collapse(true);\n\t\t\t\t\t}\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type !== \"Control\") {\n\t\t\t// IE < 9\n\t\t\tvar originalRange = sel.createRange();\n\t\t\toriginalRange.collapse(true);\n\t\t\tsel.createRange().pasteHTML(html);\n\t\t\tif (selectPastedContent) {\n\t\t\t\trange = sel.createRange();\n\t\t\t\trange.setEndPoint(\"StartToStart\", originalRange);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t}\n\t}\n\n\temojiClicked = (emoji, event) => {\n\t\tif (this.state.messageToReact) {\n\t\t\tthis.reactToMessages(emoji);\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = this.messageInputRef.current;\n\t\telement.focus();\n\t\tthis.pasteHtmlAtCaret(emoji.native, false);\n\t\tthis.setState({ messageInput: element.innerText, messageType: \"text\" });\n\t};\n\n\tchangeHandler = event => {\n\t\tthis.startTyping();\n\n\t\tconst elem = event.currentTarget;\n\t\tlet messageInput = elem.textContent.trim();\n\n\t\tif (!messageInput.length) {\n\t\t\tevent.currentTarget.textContent = messageInput;\n\t\t\t//return false;\n\t\t}\n\n\t\tthis.setState({ messageInput: elem.innerText, messageType: \"text\" });\n\t};\n\n\ttoggleFilePicker = () => {\n\t\tconst currentState = !this.state.showFilePicker;\n\t\tthis.setState({ showFilePicker: currentState });\n\t};\n\n\topenFileDialogue = fileType => {\n\t\tswitch (fileType) {\n\t\t\tcase \"image\":\n\t\t\t\tthis.imageUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"file\":\n\t\t\t\tthis.fileUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"audio\":\n\t\t\t\tthis.audioUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"video\":\n\t\t\t\tthis.videoUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonImageChange = e => {\n\t\tif (!this.imageUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.imageUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.IMAGE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonFileChange = e => {\n\t\tif (!this.fileUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.fileUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.FILE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonAudioChange = e => {\n\t\tif (!this.audioUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.audioUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.AUDIO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonVideoChange = e => {\n\t\tif (!this.videoUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.videoUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.VIDEO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.context.item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.context.item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\tsendMediaMessage = (messageInput, messageType) => {\n\t\tthis.toggleFilePicker();\n\t\tthis.endTyping(null, null);\n\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet mediaMessage = new CometChat.MediaMessage(receiverId, messageInput, messageType, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\tmediaMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\n\t\tmediaMessage.setSender(this.loggedInUser);\n\t\tmediaMessage.setReceiver(this.context.type);\n\t\tmediaMessage.setType(messageType);\n\t\tmediaMessage.setMetadata({\n\t\t\t[enums.CONSTANTS[\"FILE_METADATA\"]]: messageInput,\n\t\t});\n\t\tmediaMessage._composedAt = getUnixTimestamp();\n\t\tmediaMessage._id = ID();\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [mediaMessage]);\n\n\t\tCometChat.sendMessage(mediaMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: mediaMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...mediaMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendMessageOnEnter = event => {\n\t\tif (event.keyCode === 13 && !event.shiftKey) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendTextMessage();\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tsendTextMessage = () => {\n\t\tif (this.state.emojiViewer) {\n\t\t\tthis.setState({ emojiViewer: false });\n\t\t}\n\n\t\tif (!this.state.messageInput.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tthis.editMessage();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.endTyping(null, null);\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageInput = this.state.messageInput.trim();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage.setText(messageInput);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\t\tthis.setState({ messageInput: \"\", replyPreview: false });\n\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\teditMessage = () => {\n\t\tthis.endTyping(null, null);\n\n\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageText = this.state.messageInput.trim();\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageText, receiverType);\n\t\ttextMessage.setId(messageToBeEdited.id);\n\n\t\tconst newMessage = Object.assign({}, textMessage, { messageFrom: messageToBeEdited.messageFrom });\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessage);\n\n\t\tthis.setState({ messageInput: \"\" });\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tthis.closeEditPreview();\n\n\t\tCometChat.editMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], { ...message });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseEditPreview = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]);\n\t};\n\n\tstartTyping = (timer, metadata) => {\n\t\tlet typingInterval = timer || 5000;\n\n\t\t//if typing indicator feature is disabled\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.isTyping) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.startTyping(typingNotification);\n\n\t\tthis.isTyping = setTimeout(() => {\n\t\t\tthis.endTyping(null, typingMetadata);\n\t\t}, typingInterval);\n\t};\n\n\tendTyping = (event, metadata) => {\n\t\t//fixing synthetic issue\n\t\tif (event) {\n\t\t\tevent.persist();\n\t\t}\n\n\t\t//if typing indicator is disabled for chat wigdet in dashboard\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.endTyping(typingNotification);\n\n\t\tclearTimeout(this.isTyping);\n\t\tthis.isTyping = null;\n\t};\n\n\ttoggleStickerPicker = () => {\n\t\tconst stickerViewer = this.state.stickerViewer;\n\t\tthis.setState({ stickerViewer: !stickerViewer, emojiViewer: false });\n\t};\n\n\ttoggleEmojiPicker = () => {\n\t\tconst emojiViewer = this.state.emojiViewer;\n\t\tthis.setState({ emojiViewer: !emojiViewer, stickerViewer: false });\n\t};\n\n\ttoggleCreatePoll = () => {\n\t\tconst createPoll = this.state.createPoll;\n\t\tthis.setState({ createPoll: !createPoll });\n\t};\n\n\ttoggleCollaborativeDocument = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"document\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with document url\n\t\t\t\tif (response && response.hasOwnProperty(\"document_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"DOCUMENT_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"DOCUMENT_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleCollaborativeBoard = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"whiteboard\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with board_url\n\t\t\t\tif (response && response.hasOwnProperty(\"board_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"WHITEBOARD_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"WHITEBOARD_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseCreatePoll = () => {\n\t\tthis.toggleCreatePoll();\n\t\tthis.toggleFilePicker();\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"POLL_CREATED\"]:\n\t\t\t\tthis.toggleCreatePoll();\n\t\t\t\tthis.toggleFilePicker();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_STICKER\"]:\n\t\t\t\tthis.sendSticker(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]:\n\t\t\t\tthis.toggleStickerPicker();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsendSticker = stickerMessage => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tconst customData = { sticker_url: stickerMessage.stickerUrl, sticker_name: stickerMessage.stickerName };\n\t\tconst customType = enums.CUSTOM_TYPE_STICKER;\n\n\t\tconst customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\n\t\tif (this.props.parentMessageId) {\n\t\t\tcustomMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\tcustomMessage.setSender(this.loggedInUser);\n\t\tcustomMessage.setReceiver(this.context.type);\n\t\tcustomMessage.setMetadata({ incrementUnreadCount: true });\n\t\tcustomMessage._composedAt = getUnixTimestamp();\n\t\tcustomMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendCustomMessage(customMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: customMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...customMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendReplyMessage = messageInput => {\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.setState({ replyPreview: null });\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tclearReplyPreview = () => {\n\t\tthis.setState({ replyPreview: null });\n\t};\n\n\tstartLiveReaction = event => {\n\t\t//if a live reaction is already in progress, return\n\t\tif (this.animationInProgress === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\t//fetch the interval from the constants\n\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\n\t\t//mount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"SEND_LIVE_REACTION\"]);\n\n\t\t//set the timer to stop the live reaction\n\t\tthis.timeout = setTimeout(this.stopLiveReaction, liveReactionInterval);\n\t};\n\n\tstopLiveReaction = () => {\n\t\t\n\t\t//unmount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"]);\n\n\t\t//set the animation flag to false\n\t\tthis.animationInProgress = false;\n\t};\n\n\treactToMessages = emoji => {\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.state.messageToReact.id,\n\t\t\temoji: emoji.colons,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\trender() {\n\t\tlet liveReactionBtn = null;\n\t\tconst liveReactionText = Translator.translate(\"LIVE_REACTION\", this.context.language);\n\t\tif (enums.CONSTANTS[\"LIVE_REACTIONS\"].hasOwnProperty(this.props.reaction)) {\n\t\t\tconst reactionName = this.props.reaction;\n\t\t\tliveReactionBtn = (\n\t\t\t\t<div title={liveReactionText} css={reactionBtnStyle()} className=\"button__reactions\" onClick={this.startLiveReaction}>\n\t\t\t\t\t<img src={heartIcon} alt={reactionName} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet disabledState = false;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tdisabledState = true;\n\t\t}\n\n\t\tconst docText = Translator.translate(\"ATTACH_FILE\", this.context.language);\n\t\tlet docs = (\n\t\t\t<div\n\t\t\t\ttitle={docText}\n\t\t\t\tcss={fileItemStyle(docIcon, this.context)}\n\t\t\t\tclassName=\"filelist__item item__file\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.openFileDialogue(\"file\");\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t\t<input onChange={this.onFileChange} type=\"file\" id=\"file\" ref={this.fileUploaderRef} />\n\t\t\t</div>\n\t\t);\n\n\t\tconst videoText = Translator.translate(\"ATTACH_VIDEO\", this.context.language);\n\t\tconst audioText = Translator.translate(\"ATTACH_AUDIO\", this.context.language);\n\t\tconst imageText = Translator.translate(\"ATTACH_IMAGE\", this.context.language);\n\t\tlet avp = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\ttitle={videoText}\n\t\t\t\t\tcss={fileItemStyle(videoIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__video\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"video\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onVideoChange} accept=\"video/*\" type=\"file\" ref={this.videoUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={audioText}\n\t\t\t\t\tcss={fileItemStyle(audioIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__audio\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"audio\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onAudioChange} accept=\"audio/*\" type=\"file\" ref={this.audioUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={imageText}\n\t\t\t\t\tcss={fileItemStyle(imageIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__image\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"image\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onImageChange} accept=\"image/*\" type=\"file\" ref={this.imageUploaderRef} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tconst pollText = Translator.translate(\"CREATE_POLL\", this.context.language);\n\t\tlet createPollBtn = (\n\t\t\t<div title={pollText} css={fileItemStyle(pollIcon, this.context)} className=\"filelist__item item__poll\" onClick={this.toggleCreatePoll}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeDocText = Translator.translate(\"COLLABORATE_USING_DOCUMENT\", this.context.language);\n\t\tlet collaborativeDocBtn = (\n\t\t\t<div title={collaborativeDocText} css={fileItemStyle(documentIcon, this.context)} className=\"filelist__item item__document\" onClick={this.toggleCollaborativeDocument}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeBoardText = Translator.translate(\"COLLABORATE_USING_WHITEBOARD\", this.context.language);\n\t\tlet collaborativeBoardBtn = (\n\t\t\t<div title={collaborativeBoardText} css={fileItemStyle(whiteboardIcon, this.context)} className=\"filelist__item item__whiteboard\" onClick={this.toggleCollaborativeBoard}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst emojiText = Translator.translate(\"EMOJI\", this.context.language);\n\t\tlet emojiBtn = (\n\t\t\t<div\n\t\t\t\ttitle={emojiText}\n\t\t\t\tcss={emojiButtonStyle(insertEmoticon, this.context)}\n\t\t\t\tclassName=\"button__emoji\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t\tthis.setState({ messageToReact: \"\" });\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst StickerText = Translator.translate(\"STICKER\", this.context.language);\n\t\tlet stickerBtn = (\n\t\t\t<div title={StickerText} css={stickerBtnStyle(stickerIcon, this.context)} className=\"button__sticker\" onClick={this.toggleStickerPicker}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst sendMessageText = Translator.translate(\"SEND_MESSAGE\", this.context.language);\n\t\tlet sendBtn = (\n\t\t\t<div title={sendMessageText} css={sendButtonStyle(sendBlue, this.context)} className=\"button__send\" onClick={this.sendTextMessage}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if uploading photos, videos feature is disabled\n\t\tif (this.state.enablePhotosVideos === false) {\n\t\t\tavp = null;\n\t\t}\n\n\t\t//if files upload are disabled for chat widget in dashboard\n\t\tif (this.state.enableFiles === false) {\n\t\t\tdocs = null;\n\t\t}\n\n\t\t//if polls feature is disabled\n\t\tif (this.state.enablePolls === false || this.props.parentMessageId) {\n\t\t\tcreatePollBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeDocument === false || this.props.parentMessageId) {\n\t\t\tcollaborativeDocBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeWhiteboard === false || this.props.parentMessageId) {\n\t\t\tcollaborativeBoardBtn = null;\n\t\t}\n\n\t\t//if emojis are disabled for chat widget in dashboard\n\t\tif (this.state.enableEmojis === false) {\n\t\t\temojiBtn = null;\n\t\t}\n\n\t\t//if live reactions is disabled for chat widget in dashboard\n\t\tif (this.state.enableLiveReaction === false || this.state.messageInput.length || this.props.parentMessageId) {\n\t\t\tliveReactionBtn = null;\n\t\t}\n\n\t\t//if stickers is disabled for chat widget in dashboard\n\t\tif (this.state.enableStickers === false) {\n\t\t\tstickerBtn = null;\n\t\t}\n\n\t\tif (!this.state.messageInput.length) {\n\t\t\tsendBtn = null;\n\t\t}\n\n\t\tconst attachText = Translator.translate(\"ATTACH\", this.context.language);\n\t\tlet attach = (\n\t\t\t<div css={stickyAttachmentStyle()} className=\"input__sticky__attachment\">\n\t\t\t\t<div css={stickyAttachButtonStyle(roundedPlus, this.context)} className=\"attachment__icon\" onClick={this.toggleFilePicker} title={attachText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t\t<div css={filePickerStyle(this.state)} className=\"attachment__filepicker\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={fileListStyle()} className=\"filepicker__filelist\">\n\t\t\t\t\t\t{avp}\n\t\t\t\t\t\t{docs}\n\t\t\t\t\t\t{createPollBtn}\n\t\t\t\t\t\t{collaborativeDocBtn}\n\t\t\t\t\t\t{collaborativeBoardBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (avp === null && docs === null && createPollBtn === null && collaborativeDocBtn === null && collaborativeBoardBtn === null) {\n\t\t\tattach = null;\n\t\t}\n\n\t\tlet createPoll = null;\n\t\tif (this.state.createPoll) {\n\t\t\tcreatePoll = <CometChatCreatePoll close={this.closeCreatePoll} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet editPreview = null;\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tlet messageText = this.state.messageToBeEdited.text;\n\n\t\t\t//xss extensions data\n\t\t\tconst xssData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"xss-filter\");\n\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t}\n\n\t\t\t//datamasking extensions data\n\t\t\tconst maskedData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"data-masking\");\n\t\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\t\tmessageText = maskedData.data.message_masked;\n\t\t\t}\n\n\t\t\t//profanity extensions data\n\t\t\tconst profaneData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"profanity-filter\");\n\t\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\t\tmessageText = profaneData.message_clean;\n\t\t\t}\n\n\t\t\teditPreview = (\n\t\t\t\t<div css={editPreviewContainerStyle(this.context, keyframes)}>\n\t\t\t\t\t<div css={previewHeadingStyle()}>\n\t\t\t\t\t\t<div css={previewTextStyle()}>{Translator.translate(\"EDIT_MESSAGE\", this.context.language)}</div>\n\t\t\t\t\t\t<span css={previewCloseStyle(closeIcon, this.context)} onClick={this.closeEditPreview}></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{messageText}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet smartReplyPreview = null;\n\t\tif (this.state.replyPreview) {\n\t\t\tconst message = this.state.replyPreview;\n\n\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\tconst options = [smartReplyData[\"reply_positive\"], smartReplyData[\"reply_neutral\"], smartReplyData[\"reply_negative\"]];\n\t\t\t\tsmartReplyPreview = <CometChatSmartReplyPreview options={options} clicked={this.sendReplyMessage} close={this.clearReplyPreview} />;\n\t\t\t}\n\t\t}\n\n\t\tlet stickerViewer = null;\n\t\tif (this.state.stickerViewer) {\n\t\t\tstickerViewer = <CometChatStickerKeyboard actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet emojiViewer = null;\n\t\tif (this.state.emojiViewer) {\n\t\t\temojiViewer = <CometChatEmojiKeyboard emojiClicked={this.emojiClicked} lang={this.context.language} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatComposerStyle(this.context)} className=\"chat__composer\">\n\t\t\t\t{editPreview}\n\t\t\t\t{smartReplyPreview}\n\t\t\t\t{stickerViewer}\n\t\t\t\t{emojiViewer}\n\t\t\t\t<div css={composerInputStyle()} className=\"composer__input\">\n\t\t\t\t\t<div tabIndex=\"-1\" css={inputInnerStyle(this.props, this.state, this.context)} className=\"input__inner\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={messageInputStyle(disabledState)}\n\t\t\t\t\t\t\tclassName=\"input__message-input\"\n\t\t\t\t\t\t\tcontentEditable=\"true\"\n\t\t\t\t\t\t\tplaceholder={Translator.translate(\"ENTER_YOUR_MESSAGE_HERE\", this.context.language)}\n\t\t\t\t\t\t\tdir={Translator.getDirection(this.context.language)}\n\t\t\t\t\t\t\tonInput={this.changeHandler}\n\t\t\t\t\t\t\tonBlur={event => this.endTyping(event)}\n\t\t\t\t\t\t\tonKeyDown={this.sendMessageOnEnter}\n\t\t\t\t\t\t\tref={this.messageInputRef}></div>\n\t\t\t\t\t\t<div css={inputStickyStyle(disabledState, attach, this.context)} className=\"input__sticky\">\n\t\t\t\t\t\t\t{attach}\n\t\t\t\t\t\t\t<div css={stickyButtonStyle(this.state)} className=\"input__sticky__buttons\">\n\t\t\t\t\t\t\t\t{stickerBtn}\n\t\t\t\t\t\t\t\t{emojiBtn}\n\t\t\t\t\t\t\t\t{sendBtn}\n\t\t\t\t\t\t\t\t{liveReactionBtn}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createPoll}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageComposer.defaultProps = {\n  theme: theme,\n  reaction: \"heart\"\n};\n\nCometChatMessageComposer.propTypes = {\n  theme: PropTypes.object,\n  reaction: PropTypes.string\n}\n\nexport { CometChatMessageComposer };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class MessageHeaderManager {\n\n    userListenerId = \"head_user_\" + new Date().getTime();\n    msgListenerId = \"head_message_\" + new Date().getTime();\n    groupListenerId = \"head_group_\" + new Date().getTime();\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTypingStarted: typingIndicator => {\n                    callback(enums.TYPING_STARTED, typingIndicator);\n                },\n                onTypingEnded: typingIndicator => {\n                    callback(enums.TYPING_ENDED, typingIndicator);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, kickedUser);\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, bannedUser);\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn);\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, leavingUser);\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup);\n                }\n            })\n        );\n\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const chatHeaderStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t};\n};\n\nexport const chatDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: \"calc(100% - 116px)\",\n    }\n}\n\nexport const chatSideBarBtnStyle = (img, props, context) => {\n\n    const displayValue = (props.hasOwnProperty(\"sidebar\") && props.sidebar === 0) ? { display: \"none!important\"} : {};\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        float: \"left\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block\"\n\t\t},\n        ...displayValue\n    }\n}\n\nexport const chatThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        margin: \"0 16px\",\n    }\n}\n\nexport const chatUserStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\tpadding: \"0\",\n\t\tflexGrow: \"1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"calc(100% - 80px)!important\",\n\t\t},\n\t};\n};\n\nexport const chatNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const chatStatusStyle = (state, context) => {\n\n    let status = {};\n    if (context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\n        status = {\n            color: `${context.theme.color.blue}`,\n            textTransform: \"capitalize\",\n        };\n\n        if (state.presence === \"offline\") {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"capitalize\",\n            }\n        } \n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"none\",\n                fontStyle: \"italic\",\n            };\n        }\n        \n    } else if (context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\n        status = {\n            color: `${context.theme.color.helpText}`,\n        }\n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                fontStyle: \"italic\",\n            };\n        }\n    }\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        ...status\n    }\n}\n\nexport const chatOptionWrapStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"auto\",\n    }\n}\n\nexport const chatOptionStyle = (img, context, ongoingCall) => {\n\n    const bgColor = (ongoingCall) ? {\n        backgroundColor: `${context.theme.secondaryTextColor}`\n    } : {\n        backgroundColor: `${context.theme.primaryColor}`\n    };\n    \n    return {\n        width: \"24px\",\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            ...bgColor\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/menu.0c8d2d60.svg\";","export default __webpack_public_path__ + \"static/media/audio-call.05d2b303.svg\";","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","export default __webpack_public_path__ + \"static/media/info.aadd7d93.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageHeaderManager } from \"./controller\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  chatHeaderStyle, \n  chatDetailStyle, \n  chatSideBarBtnStyle, \n  chatThumbnailStyle,\n  chatUserStyle,\n  chatNameStyle,\n  chatStatusStyle,\n  chatOptionWrapStyle,\n  chatOptionStyle\n} from \"./style\";\n\nimport menuIcon from \"./resources/menu.svg\";\nimport audioCallIcon from \"./resources/audio-call.svg\";\nimport videoCallIcon from \"./resources/video-call.svg\";\nimport detailPaneIcon from \"./resources/info.svg\";\n\nclass CometChatMessageHeader extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstatus: \"\",\n\t\t\tpresence: \"offline\",\n\t\t\ttyping: null,\n\t\t\tenableGroupVoiceCall: false,\n\t\t\tenableGroupVideoCall: false,\n\t\t\tenableOneOnOneVoiceCall: false,\n\t\t\tenableOneOnOneVideoCall: false,\n\t\t\tenableUserPresence: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableTypingIndicator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.MessageHeaderManager = new MessageHeaderManager();\n\t\tthis.MessageHeaderManager.attachListeners(this.updateHeader);\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.item !== this.context.item)) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && (this.item !== this.context.item)) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tsetStatusForUser = () => {\n\t\tlet status = \"\";\n\t\tconst presence = this.context.item.status === CometChat.USER_STATUS.ONLINE ? CometChat.USER_STATUS.ONLINE : CometChat.USER_STATUS.OFFLINE;\n\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.context.language)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t}\n\t\t\n\t\tthis.setState({status: status, presence: presence});\n\t};\n\n\tsetStatusForGroup = () => {\n\t\tlet membersText = Translator.translate(\"MEMBERS\", this.context.language);\n\t\tconst status = `${this.context.item.membersCount} ${membersText}`;\n\t\tthis.setState({status: status});\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageHeaderManager.removeListeners();\n\t\tthis.MessageHeaderManager = null;\n\t}\n\n\tupdateHeader = (key, item, groupUser) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === item.uid) {\n\t\t\t\t\t\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({status: status, presence: item.status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid && this.loggedInUser?.uid !== groupUser?.uid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_STARTED:\n\t\t\t\tthis.onTypingStarted(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_ENDED: \n\t\t\t\tthis.onTypingEnded(item);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonTypingStarted = item => {\n\n\t\tconst showTyping = typingText => {\n\t\t\t\n\t\t\t/**\n\t\t\t * if metadata is available, show live reactions else show typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"SHOW_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: typingText});\n\t\t\t\t} \n\t\t\t//}\n\t\t};\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\tconst typingText = `${item.sender.name} ${Translator.translate(\"IS_TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\t\t\tconst typingText = `${Translator.translate(\"TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t}\n\t};\n\n\tonTypingEnded = item => {\n\n\t\tconst endTyping = () => {\n\t\t\t/**\n\t\t\t * if metadata is available, end live reactions else end typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: null});\n\t\t\t\t} \n\t\t\t//}\n\t\t}\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\t\n\t\t\tthis.setStatusForGroup();\n\t\t\tendTyping();\n\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\n\t\t\tif (this.state.presence === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\tthis.setState({status: Translator.translate(\"ONLINE\", this.context.language), presence: CometChat.USER_STATUS.ONLINE});\n\t\t\t} else {\n\t\t\t\tthis.setStatusForUser();\n\t\t\t}\n\n\t\t\tendTyping();\n\t\t}\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tresetChat = () => {\n\t\tthis.context.setItem({});\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableGroupVoiceCall = () => {};\n\n\tenableGroupVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isGroupVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupVideoCall) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVoiceCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneAudioCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVoiceCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVoiceCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVideoCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence) {\n\t\t\t\t\tthis.setState({enableUserPresence: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({enableUserPresence: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope) {\n\t\t\t\t\tthis.setState({enableChangeScope: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false) {\n\t\t\t\t\tthis.setState({enableChangeScope: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia) {\n\t\t\t\t\tthis.setState({enableSharedMedia: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false) {\n\t\t\t\t\tthis.setState({enableSharedMedia: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser) {\n\t\t\t\t\tthis.setState({enableBlockUser: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false) {\n\t\t\t\t\tthis.setState({enableBlockUser: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tinitiateAudioCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]);\n\t}\n\n\tinitiateVideoCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]);\n\t}\n\n\tviewDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tlet avatar, presence;\n\t\tlet videoCallClassName = \"option__videocall-user\";\n\t\tlet audioCallClassName = \"option__audiocall-user\";\n\t\tlet viewDetailClassName = \"option__viewdetail-user\";\n\t\tlet chatWithClassName = \"chat__user\";\n\t\tlet chatNameClassName = \"user__name\";\n\t\tlet chatStatusClassName = \"user__status\";\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tavatar = <CometChatAvatar user={this.context.item} />;\n\t\t\tpresence = <CometChatUserPresence status={this.state.presence} borderColor={this.props.theme.borderColor.primary} />;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tchatWithClassName = \"chat__group\";\n\t\t\tchatNameClassName = \"group__name\";\n\t\t\tchatStatusClassName = \"group__members\";\n\t\t\tvideoCallClassName = \"option__videocall-group\";\n\t\t\taudioCallClassName = \"option__audiocall-group\";\n\t\t\tviewDetailClassName = \"option__viewdetail-group\";\n\t\t\tavatar = <CometChatAvatar group={this.context.item} />;\n\t\t}\n\n\t\tlet typing = null;\n\t\tif(this.state.typing) {\n\t\t\ttyping = (\n\t\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t\t{this.state.typing}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet status = (\n\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t{this.state.status}\n\t\t\t</span>\n\t\t);\n\n\t\tconst audioCallText = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\tlet audioCallBtn = (\n\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 0)} title={audioCallText} onClick={this.initiateAudioCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst audioCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\taudioCallBtn = (\n\t\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 1)} title={audioCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst videoCallText = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\tlet videoCallBtn = (\n\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 0)} title={videoCallText} onClick={this.initiateVideoCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst videoCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\tvideoCallBtn = (\n\t\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 1)} title={videoCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst viewDetailText = Translator.translate(\"VIEW_DETAIL\", this.context.language);\n\t\tlet viewDetailBtn = (\n\t\t\t<div className={viewDetailClassName} css={chatOptionStyle(detailPaneIcon, this.context, 0)} title={viewDetailText} onClick={this.viewDetail}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t/**\n\t\t * If the chat window open is of users and block user and shared media feature is disabled, hide view detail button\n\t\t */\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tif (this.state.enableBlockUser === false && this.state.enableSharedMedia === false) {\n\t\t\t\tviewDetailBtn = null;\n\t\t\t}\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t/**\n\t\t\t * If the chat window open is of group\n\t\t\t */\n\t\t\tif (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is participant, leave group, view group members, and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is moderator, leave group, view group members, kick & ban group members, changing scope of group members and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is admin, add group members, view group members, kick & ban group members, changing scope of group members, leave and delete group and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (\n\t\t\t\t\tthis.state.enableLeaveGroup === false &&\n\t\t\t\t\tthis.state.enableSharedMedia === false &&\n\t\t\t\t\tthis.state.enableViewGroupMembers === false &&\n\t\t\t\t\tthis.state.enableKickGroupMembers === false &&\n\t\t\t\t\tthis.state.enableBanGroupMembers === false &&\n\t\t\t\t\tthis.state.enableChangeScope === false &&\n\t\t\t\t\tthis.state.enableDeleteGroup === false &&\n\t\t\t\t\tthis.state.enableAddGroupMembers === false\n\t\t\t\t) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//if audiocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVoiceCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVoiceCall === false)) {\n\t\t\taudioCallBtn = null;\n\t\t}\n\n\t\t//if videocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVideoCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVideoCall === false)) {\n\t\t\tvideoCallBtn = null;\n\t\t}\n\n\t\t//if user presence is disabled in chat widget\n\t\tif (this.state.enableUserPresence === false && this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tstatus = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatHeaderStyle(this.context)} className=\"chat__header\">\n\t\t\t\t<div css={chatDetailStyle()} className=\"chat__details\">\n\t\t\t\t\t<div css={chatSideBarBtnStyle(menuIcon, this.props, this.context)} className=\"chat__sidebar-menu\" onClick={this.resetChat}></div>\n\t\t\t\t\t<div css={chatThumbnailStyle()} className=\"chat__thumbnail\">\n\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t{presence}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatUserStyle(this.context)} className={chatWithClassName}>\n\t\t\t\t\t\t<h6 css={chatNameStyle()} className={chatNameClassName} onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.context.item.name}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t{typing ? typing : status}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={chatOptionWrapStyle()} className=\"chat__options\">\n\t\t\t\t\t{videoCallBtn}\n\t\t\t\t\t{audioCallBtn}\n\t\t\t\t\t{viewDetailBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageHeader.defaultProps = {\n  theme: theme,\n  item: {},\n  type: \"\"\n};\n\nCometChatMessageHeader.propTypes = {\n  theme: PropTypes.object,\n  item: PropTypes.object,\n  type: PropTypes.string\n}\n\nexport { CometChatMessageHeader };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums\";\n\nclass MessageFilter {\n\n\tcategories = {};\n\ttypes = null;\n\tcontext;\n\n\tconstructor(context) {\n\n        this.context = context;\n\n\t\tthis.categories = {\n\t\t\t[CometChat.CATEGORY_MESSAGE]: CometChat.CATEGORY_MESSAGE,\n\t\t\t[CometChat.CATEGORY_CUSTOM]: CometChat.CATEGORY_CUSTOM,\n\t\t\t[CometChat.CATEGORY_ACTION]: CometChat.CATEGORY_ACTION,\n\t\t\t[CometChat.CATEGORY_CALL]: CometChat.CATEGORY_CALL,\n\t\t};\n\n\t\tthis.types = {\n\t\t\t[CometChat.MESSAGE_TYPE.TEXT]: CometChat.MESSAGE_TYPE.TEXT,\n\t\t\t[CometChat.MESSAGE_TYPE.IMAGE]: CometChat.MESSAGE_TYPE.IMAGE,\n\t\t\t[CometChat.MESSAGE_TYPE.VIDEO]: CometChat.MESSAGE_TYPE.VIDEO,\n\t\t\t[CometChat.MESSAGE_TYPE.AUDIO]: CometChat.MESSAGE_TYPE.AUDIO,\n\t\t\t[CometChat.MESSAGE_TYPE.FILE]: CometChat.MESSAGE_TYPE.FILE,\n\t\t\t[enums.CUSTOM_TYPE_POLL]: enums.CUSTOM_TYPE_POLL,\n\t\t\t[enums.CUSTOM_TYPE_STICKER]: enums.CUSTOM_TYPE_STICKER,\n\t\t\t[enums.CUSTOM_TYPE_DOCUMENT]: enums.CUSTOM_TYPE_DOCUMENT,\n\t\t\t[enums.CUSTOM_TYPE_WHITEBOARD]: enums.CUSTOM_TYPE_WHITEBOARD,\n\t\t\t[enums.CUSTOM_TYPE_MEETING]: enums.CUSTOM_TYPE_MEETING,\n\t\t\t[CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER]: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t[CometChat.CALL_TYPE.AUDIO]: CometChat.CALL_TYPE.AUDIO,\n\t\t\t[CometChat.CALL_TYPE.VIDEO]: CometChat.CALL_TYPE.VIDEO,\n\t\t};\n\t}\n\n\tgetCategories = () => {\n\n\t\tconst categories = {...this.categories};\n\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\t}\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.then(categories => {\n\t\t\t\t\tthis.context.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t};\n\n\tgetTypes = () => {\n\n        const types = {...this.types};\n        return new Promise(resolve => resolve(types));\n\t};\n}\n\nexport default MessageFilter;","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport MessageFilter from \"./MessageFilter\";\n\nexport class MessageListManager {\n\n    item = {};\n    type = \"\";\n    parentMessageId = null;\n    messageRequest = null;\n    limit = 30;\n    \n    msgListenerId = \"message_\" + new Date().getTime();\n    groupListenerId = \"group_\" + new Date().getTime();\n    callListenerId = \"call_\" + new Date().getTime(); \n\n    constructor(context, item, type, parentMessageId) {\n\n        this.item = item;\n        this.type = type;\n        this.parentMessageId = parentMessageId;\n        this.context = context;\n    }\n\n    initializeMessageRequest = () => {\n\n        return new Promise(resolve => {\n\n            let categories = {};\n            let types = {};\n\n            let messageFilterManager = new MessageFilter(this.context);\n\n            messageFilterManager\n                .getCategories()\n                .then(categoryList => categories = Object.keys(categoryList))\n                .then(() => messageFilterManager.getTypes())\n                .then(typeList => types = Object.keys(typeList))\n                .then(() => this.context.FeatureRestriction.isHideDeletedMessagesEnabled())\n                .then(hideDeletedMessages => {\n                    if (this.type === CometChat.ACTION_TYPE.TYPE_USER) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    } else if (this.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    }\n                });\n\n        });\n    }\n\n    fetchPreviousMessages() {\n        return this.messageRequest.fetchPrevious();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                },\n                onMessagesDelivered: messageReceipt => {\n                    callback(enums.MESSAGE_DELIVERED, messageReceipt);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, messageReceipt);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, editedMessage);\n                },\n                onTransientMessageReceived: transientMessage => {\n                    callback(enums.TRANSIENT_MESSAGE_RECEIVED, transientMessage);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n        \n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n                onOutgoingCallRejected: call => {\n                  callback(enums.OUTGOING_CALL_REJECTED, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const chatListStyle = context => {\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\twidth: \"100%\",\n\t\tflex: \"1 1 0\",\n\t\torder: \"2\",\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const listWrapperStyle = () => {\n\n    return {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"scroll\",\n        position: \"absolute\",\n        top: \"0\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        paddingTop: \"16px\"\n    }\n}\n\nexport const messageDateContainerStyle = () => {\n\n    return {\n        marginBottom: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"35px\",\n    }\n}\n\nexport const messageDateStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px 12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tborderRadius: \"10px\",\n\t};\n};\n\nexport const decoratorMessageStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const decoratorMessageTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"36px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t};\n};","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageListManager } from \"./controller\";\n\nimport { \n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n  CometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n  CometChatDeleteMessageBubble, CometChatActionMessageBubble\n} from \"../\"\n\nimport {\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\"\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { getMessageDate } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n\tchatListStyle,\n\tlistWrapperStyle,\n\tmessageDateContainerStyle,\n\tmessageDateStyle,\n\tdecoratorMessageStyle,\n\tdecoratorMessageTxtStyle\n} from \"./style\";\n\nclass CometChatMessageList extends React.PureComponent {\n\tloggedInUser = null;\n\tlastScrollTop = 0;\n\ttimes = 0;\n\titem = {};\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tonItemClick: null,\n\t\t\tloggedInUser: null,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", context.language),\n\t\t};\n\n\t\tthis.messagesEnd = React.createRef();\t\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedInUser: user,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t\t\n\t\tif (Object.keys(this.context.item).length === 0 && this.context.type.trim().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\t\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst ifChatWindowChanged = () => {\n\t\t\tlet output = false;\n\n\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid !== this.item.uid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid !== this.item.guid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (prevProps.parentMessageId !== this.props.parentMessageId) {\n\t\t\t\toutput = true;\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\n\t\tif (ifChatWindowChanged() === true) {\n\t\t\tthis.messageCount = 0;\n\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"LOADING\", this.context.language) });\n\n\t\t\tthis.MessageListManager?.removeListeners();\n\n\t\t\tif (this.props.parentMessageId) {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t\t} else {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t\t}\n\n\t\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\t\tthis.MessageListManager?.attachListeners(this.messageUpdated);\n\t\t\t});\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messages);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messages);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tif (this.props.scrollToBottom) {\n\t\t\t\tthis.scrollToBottom();\n\t\t\t} else {\n\t\t\t\tthis.scrollToBottom(this.lastScrollTop);\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\t\tif (this.context.leftGroupId.trim().length) {\n\t\t\tthis.item = {};\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageListManager?.removeListeners();\n\t\tthis.MessageListManager = null;\n\t}\n\n\tscrollToBottom = (scrollHeight = 0) => {\n\n\t\tif (this.messagesEnd) {\n\t\t\tthis.messagesEnd.scrollTop = this.messagesEnd.scrollHeight - scrollHeight;\n\t\t}\n\t};\n\n\tmessageHandler = (item, actionGenerated = enums.ACTIONS[\"MESSAGES_FETCHED\"]) => {\n\t\tthis.fetchMessages()\n\t\t\t.then(messageList => {\n\t\t\t\tif (messageList.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_MESSAGES_FOUND\", this.context.language) });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\t//updating messagecount variable\n\t\t\t\tthis.messageCount = messageList.length;\n\n\t\t\t\tmessageList.forEach(message => {\n\t\t\t\t\t//if the sender of the message is not the loggedin user\n\t\t\t\t\tif (message.getSender().getUid() !== this.state.loggedInUser?.uid) {\n\t\t\t\t\t\t//mark the message as delivered\n\t\t\t\t\t\tthis.markMessageAsDelivered(message);\n\n\t\t\t\t\t\t//mark the message as read\n\t\t\t\t\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\t\t\t\t\tCometChat.markAsRead(message);\n\t\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_READ\"], message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.lastScrollTop = this.messagesEnd.scrollHeight;\n\n\t\t\t\t//abort(don't return messagelist), when the chat window changes\n\t\t\t\tif ((item.hasOwnProperty(\"uid\") && this.context.item.hasOwnProperty(\"uid\") && item.uid === this.context.item.uid) || (item.hasOwnProperty(\"guid\") && this.context.item.hasOwnProperty(\"guid\") && item.guid === this.context.item.guid)) {\n\t\t\t\t\tthis.props.actionGenerated(actionGenerated, messageList);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.props.messages.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfetchMessages = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis.MessageListManager.fetchPreviousMessages()\n\t\t\t\t.then(messageList => {\n\t\t\t\t\tresolve(messageList);\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\t//callback for listener functions\n\tmessageUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) \n\t\t{\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.onMessageDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\t\tthis.onMessageEdited(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_DELIVERED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessageReadAndDelivered(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\t\tthis.onMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.onCustomMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.onGroupUpdated(key, message, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.onCallUpdated(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.onTransientMessageReceived(key, message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonMessageDeleted = message => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t}\n\t};\n\n\tonMessageEdited = message => {\n\t\tconst messageList = [...this.props.messages];\n\t\tconst updateEditedMessage = message => {\n\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\tif (messageKey > -1) {\n\t\t\t\tconst messageObj = messageList[messageKey];\n\t\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_EDITED\"], messageList, newMessageObj);\n\t\t\t}\n\t\t};\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getReceiverId() && message.getSender().uid === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getSender().uid && message.getReceiverId() === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t}\n\t};\n\n\tonMessageReadAndDelivered = message => {\n\n\t\t//read receipts\n\t\tif (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().getUid() === this.context.item.uid && message.getReceiver() === this.state.loggedInUser?.uid) {\n\t\t\tlet messageList = [...this.props.messages];\n\n\t\t\tif (message.getReceiptType() === \"delivery\") {\n\t\t\t\t//search for message\n\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = messageList[messageKey];\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { deliveredAt: message.getDeliveredAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t} else if (message.getReceiptType() === \"read\") {\n\t\t\t\t//search for message\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = { ...messageList[messageKey] };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { readAt: message.getReadAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiver() === this.context.item.guid) {\n\t\t\t//not implemented\n\t\t}\n\t};\n\n\treInitializeMessageBuilder = () => {\n\t\tif (this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\tthis.messageCount = 0;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REFRESHING_MESSAGES\"], []);\n\t\tthis.setState({ decoratorMessage: Translator.translate(\"LOADING\", this.context.language) });\n\t\tthis.MessageListManager.removeListeners();\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_REFRESHED\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t};\n\n\t//mark the message as delivered\n\tmarkMessageAsDelivered = message => {\n\n\t\tif (message.sender?.uid !== this.state.loggedInUser?.uid && message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tmarkMessageAsRead = (message, type) => {\n\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\tCometChat.markAsRead(message);\n\t\t}\n\t};\n\n\tonMessageReceived = message => {\n\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t/**\n\t\t * message receiver is chat window group\n\t\t */\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t/**\n\t\t\t * If the message sender is chat window user and message receiver is logged-in user\n\t\t\t * OR\n\t\t\t * If the message sender is logged-in user and message receiver is chat window user\n\t\t\t */\n\t\t\tif ((message.getSender().uid === this.context.item.uid && message.getReceiverId() === this.state.loggedInUser?.uid) || (message.getSender().uid === this.state.loggedInUser?.uid && message.getReceiverId() === this.context.item.uid)) {\n\t\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight < 20) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled up in chat window\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\t//polls, stickers, collaborative document, collaborative whiteboard\n\tonCustomMessageReceived = message => {\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t//new messages\n\t\tif (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.guid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t} else if (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.uid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tcustomMessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop === this.messagesEnd.clientHeight) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled in chat window\n\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tonCallUpdated = (key, message) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonTransientMessageReceived = (key, message) => {\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonGroupUpdated = (key, message, group, options) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message, null, group, options);\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\n\t\tconst scrollTop = e.currentTarget.scrollTop;\n\t\tconst scrollHeight = e.currentTarget.scrollHeight;\n\t\tconst clientHeight = e.currentTarget.clientHeight;\n\n\t\tthis.lastScrollTop = scrollHeight - scrollTop;\n\n\t\tif (this.lastScrollTop === clientHeight) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]);\n\t\t}\n\n\t\tconst top = Math.round(scrollTop) === 0;\n\t\tif (top && this.props.messages.length) {\n\t\t\tthis.messageHandler(this.context.item);\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = message.text ? <CometChatReceiverTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = message.data.attachments ? <CometChatReceiverFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatSenderStickerBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\t\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetActionMessageComponent = message => {\n\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\treturn <CometChatActionMessageBubble key={messageKey} message={message} />;\n\t};\n\n\tgetComponent = (message, key) => {\n\t\tlet component;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\tcomponent = this.getActionMessageComponent(message);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0 && this.props.messages.length === 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={decoratorMessageStyle()} className=\"messages__decorator-message\">\n\t\t\t\t\t<p css={decoratorMessageTxtStyle(this.context)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet cDate = null;\n\t\tconst messages = this.props.messages.map((message, key) => {\n\t\t\tlet dateSeparator = null;\n\n\t\t\tconst dateField = message._composedAt || message.sentAt;\n\n\t\t\tconst messageDate = message.sentAt * 1000;\n\t\t\tconst messageSentDate = dateFormat(messageDate, \"dd/mm/yyyy\");\n\n\t\t\tif (cDate !== messageSentDate) {\n\t\t\t\tdateSeparator = (\n\t\t\t\t\t<div css={messageDateContainerStyle()} className=\"message__date\">\n\t\t\t\t\t\t<span css={messageDateStyle(this.context)}>{getMessageDate(dateField, this.context.language)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcDate = messageSentDate;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={key}>\n\t\t\t\t\t{dateSeparator}\n\t\t\t\t\t{this.getComponent(message, key)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"chat__list\" css={chatListStyle(this.context)}>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"list__wrapper\"\n\t\t\t\t\tcss={listWrapperStyle()}\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t\tonScroll={this.handleScroll}>\n\t\t\t\t\t{messages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageList.defaultProps = {\n  theme: theme\n};\n\nCometChatMessageList.propTypes = {\n  theme: PropTypes.object\n}\n\nexport { CometChatMessageList };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class SharedMediaManager {\n\n    mediaMessageListenerId = new Date().getTime();\n    mediaMessageRequest = null;\n\n    constructor(item, type, messagetype) {\n\n        if(type === \"user\") {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setUID(item.uid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n\n        } else {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setGUID(item.guid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n        }\n    }\n\n    fetchPreviousMessages() {\n        return this.mediaMessageRequest.fetchPrevious();\n    }\n    \n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\n    }\n\n}","export const sectionStyle = (props) => {\n\n    const containerHeightProp = (props.containerHeight) ? {\n        height: `calc(100% - ${props.containerHeight})`\n    } : {\n        height: \"calc(100% - 20px)\"\n    };\n\n    \n    return {\n        width: \"100%\",\n        ...containerHeightProp\n    }\n}\n\nexport const sectionHeaderStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500!important\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"calc(100% - 20px)\"\n    }\n}\n\nexport const mediaBtnStyle = () => {\n\n    return {\n        borderRadius: \"8px\",\n        backgroundColor: \"rgba(20, 20, 20, 0.08)\",\n        width: \"100%\",\n        padding: \"2px\",\n        margin: \"6px 0\",\n        clear: \"both\",\n    }\n}\n\nexport const buttonStyle = (state, type) => {\n\n    const activeBtn = (state.messagetype === type) ? {\n        backgroundColor : \"#fff\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 3px 1px, rgba(20, 20, 20, 0.12) 0 3px 8px\",\n        borderRadius: \"7px\",\n        \"&::before\": {\n            display: \"none\",\n        }\n    } : {};\n\n    return {\n        display: \"inline-block\",\n        width: \"33.33%\",\n        float: \"left\",\n        fontSize: \"13px\",\n        fontWeight: \"500\",\n        lineHeight: \"18px\",\n        padding: \"5px\",\n        position: \"relative\",\n        textAlign: \"center\",\n        cursor: \"pointer\",\n        ...activeBtn,\n        \"&:before\": {\n            \"`content`\": \"\",\n            position: \"absolute\",\n            display: \"block\",\n            width: \"2px\",\n            height: \"16px\",\n            backgroundColor: \"rgba(20, 20, 20, 0.12)\",\n            right: \"-2px\",\n            top: \"6px\",\n        },\n        \"&:last-of-type::before\": {\n            display: \"none\",\n        }\n    }\n}\n\nexport const mediaItemStyle = () => {\n\n    return {\n        height: \"calc(100% - 45px)\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const itemStyle = (state, props, img, context) => {\n\n    let itemTypeStyle = {};\n    let bgColor = `${props.theme.backgroundColor.lightGrey}`;\n\n    if (state.messagetype === \"image\") {\n\n        itemTypeStyle = {\n            height: \"120px\",\n            width: \"120px\",\n            backgroundColor: bgColor,\n            \"> img\": {\n                display: \"block\",\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"contain\",\n            }\n        }\n        \n    } else if (state.messagetype === \"video\") {\n\n        itemTypeStyle = {\n            \"> video\": {\n                height: \"120px\",\n                width: \"120px\",\n                margin: \"auto\",\n            }\n        }\n\n    } else if (state.messagetype === \"file\") {\n\n        itemTypeStyle = {\n            backgroundColor: bgColor,\n            \"> a\": {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                margin: \"auto\",\n                display: \"flex\",\n                padding: \"8px\",\n                \"&:hover, &:visited\": {\n                    color: `${props.theme.secondaryTextColor}`,\n                },\n                \"> i\": {\n                    width: \"30px\",\n                    height: \"24px\",\n                    display: \"inline-block\",\n                    mask: `url(${img}) left center no-repeat`,\n\t\t            backgroundColor: `${context.theme.secondaryTextColor}`,\n                },\n                \"> span\": {\n                    fontSize: \"13px\",\n                    color: `${props.theme.secondaryTextColor}`,\n                    whiteSpace: \"pre-wrap\",\n                    wordWrap: \"break-word\",\n                    textAlign: \"left\",\n                    width: \"calc(100% - 30px)\"\n                }\n\n            }\n        }\n\n    }\n\n    return {\n        margin: \"0.5rem\",\n        textAlign: \"center\",\n        flex: \"1 0 auto\",\n        ...itemTypeStyle,\n        \"@for $i from 1 through 36\": {\n            \"&:nth-of-type(#{$i})\": {\n            maxWidth: \"100%\",\n            }\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { SharedMediaManager } from \"./controller\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    mediaBtnStyle,\n    buttonStyle,\n    mediaItemStyle,\n    itemStyle,\n\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSharedMediaView extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this.state = {\n            messagetype: \"image\",\n            messageList: []\n        }\n\n        this.messageContainer = React.createRef();\n\n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    componentDidMount() {\n\n        this._isMounted = true;\n        this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n        this.getMessages(true);\n        this.SharedMediaManager.attachListeners(this.messageUpdated);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if(prevState.messagetype !== this.state.messagetype) {\n\n            this.SharedMediaManager = null;\n            this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n            this.getMessages(true);\n            this.SharedMediaManager.attachListeners(this.messageUpdated);\n        }\n    }\n\n    componentWillUnmount() {\n        this.SharedMediaManager.removeListeners();\n        this.SharedMediaManager = null;\n        this._isMounted = false;\n    }\n\n    //callback for listener functions\n    messageUpdated = (key, message) => {\n\n        switch(key) {\n\n            case enums.MESSAGE_DELETED:\n              this.messageDeleted(message);\n              break;\n            case enums.MEDIA_MESSAGE_RECEIVED:\n              this.messageReceived(message);\n              break;\n            default:\n              break;\n        }\n    }\n\n    messageDeleted = (deletedMessage) => {\n  \n        const messageType = deletedMessage.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && deletedMessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && deletedMessage.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            const messageList = [...this.state.messageList];\n            const filteredMessages = messageList.filter(message => message.id !== deletedMessage.id);\n            this.setState({ messageList: filteredMessages, scrollToBottom: false });\n        }\n    }\n    \n    //message is received or composed & sent\n    messageReceived = (message) => {\n\n        const messageType = message.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && message.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            let messages = [...this.state.messageList];\n            messages = messages.concat(message);\n            this.setState({ messageList: messages, scrollToBottom: true });\n        }\n    }\n\n    getMessages = (scrollToBottom = false) => {\n        \n        this.SharedMediaManager.fetchPreviousMessages().then(messages => {\n    \n            const messageList = [...messages, ...this.state.messageList];\n            if (this._isMounted) {\n\n                this.setState({messageList: messageList});\n                if(scrollToBottom) {\n                    this.scrollToBottom();\n                }\n            } \n    \n        }).catch(error => {\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    scrollToBottom = () => {\n      \n        if (this.messageContainer) {\n            this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const top = Math.round(e.currentTarget.scrollTop) === 0;\n        if (top && this.state.messageList.length) {\n            this.getMessages();\n        }\n    }\n\n    mediaClickHandler = (type) => {\n        this.setState({messagetype: type, messageList: []});\n    }\n\n    render() {\n\n        const template = (message, key) => {\n\n            if(this.state.messagetype === \"image\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__image\">\n                        <img src={message.data.url} alt={Translator.translate(\"SHARED_MEDIA\", this.props.lang)} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"video\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__video\">\n                        <video src={message.data.url} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"file\" && message.data.attachments) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__file\">\n                        <a href={message.data.attachments[0].url} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\">\n                            <i></i>\n                           <span>{message.data.attachments[0].name}</span>\n                        </a>\n                    </div>\n                );\n            }\n        }\n\n        const messages = [...this.state.messageList];\n        const messageList = messages.map((message, key) => {\n            return (template(message, key));\n        });\n\n        return (\n            <div css={sectionStyle(this.props)} className=\"section section__sharedmedia\">\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"SHARED_MEDIA\", this.props.lang)}</h6>\n                <div css={sectionContentStyle(this.props)} data-id=\"sharedmedia\" className=\"section__content\">\n                    <div css={mediaBtnStyle()} className=\"media__button\">\n                        <span css={buttonStyle(this.state, \"image\")} onClick={() => this.mediaClickHandler(\"image\")}>{Translator.translate(\"PHOTOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"video\")} onClick={() => this.mediaClickHandler(\"video\")}>{Translator.translate(\"VIDEOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"file\")} onClick={() => this.mediaClickHandler(\"file\")}>{Translator.translate(\"DOCS\", this.props.lang)}</span>\n                    </div>\n                    <div css={mediaItemStyle()} className=\"media_items\" \n                    ref={el => this.messageContainer = el}\n                    onScroll={this.handleScroll}>{(messageList.length) ? messageList : Translator.translate(\"NO_RECORDS_FOUND\", this.props.lang)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatSharedMediaView.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatSharedMediaView.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatSharedMediaView };","import {CometChat} from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class UserDetailManager {\n\tuserListenerId = \"user_detail_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(enums.USER_ONLINE, onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(enums.USER_OFFLINE, offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","import {CometChat} from \"@cometchat-pro/chat\";\nimport Translator from \"../../../resources/localization/translator\";\n\nexport const userDetailStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tposition: \"relative\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\theight: \"69px\",\n\t};\n};\n\nexport const headerCloseStyle = (img, context) => {\n\t\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t};\n};\n\nexport const headerTitleStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontWeight: \"700\",\n\t\tfontSize: \"20px\",\n\t};\n};\n\nexport const sectionStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const actionSectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\t\".item__link\": {\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t},\n\t};\n};\n\nexport const privacySectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tcolor: `${context.theme.color.red}`,\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t};\n};\n\nexport const mediaSectionStyle = () => {\n\treturn {\n\t\theight: \"calc(100% - 255px)\",\n\t\twidth: \"100%\",\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const sectionHeaderStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"12px\",\n\t\tfontWeight: \"500!important\",\n\t\tlineHeight: \"20px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\ttextTransform: \"uppercase\",\n\t};\n};\n\nexport const sectionContentStyle = () => {\n\treturn {\n\t\twidth: \"100%\",\n\t\tmargin: \"6px 0\",\n\t};\n};\n\nexport const contentItemStyle = () => {\n\treturn {\n\t\t\"width\": 100 % \"\",\n\t\t\"&:not(:first-of-type):not(:last-of-type)\": {\n\t\t\tpadding: \"6px 0\",\n\t\t},\n\t};\n};\n\nexport const itemLinkStyle = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tlineHeight: \"20px\",\n\t\tfontWeight: \"600\",\n\t\tdisplay: \"inline-block\",\n\t\tcolor: `${context.theme.color.red}`,\n\t};\n};\n\nexport const userInfoSectionStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-start\",\n\t};\n};\n\nexport const userThumbnailStyle = () => {\n\treturn {\n\t\twidth: \"35px\",\n\t\theight: \"35px\",\n\t\tdisplay: \"inline-block\",\n\t\tflexShrink: \"0\",\n\t\tmargin: \"0 16px 0 0\",\n\t};\n};\n\nexport const userNameStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\twidth: \"100%\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const userStatusStyle = () => {\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t};\n};\n\nexport const userPresenceStyle = (context, state) => {\n\t\n\tlet status = state.status ? state.status.toLowerCase() : \"\";\n\tlet compareTo = Translator.translate((CometChat.USER_STATUS.ONLINE).toUpperCase(), context.language).toLowerCase();\n\tstatus = status === compareTo ? { color: `${context.theme.color.blue}` } : { color: `${context.theme.color.helpText}` };\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\ttextTransform: \"capitalize\",\n\t\tfontSize: \"13px\",\n\t\t...status,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared/\";\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { UserDetailManager } from \"./controller\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tuserDetailStyle,\n\theaderStyle,\n\theaderCloseStyle,\n\theaderTitleStyle,\n\tsectionStyle,\n\tactionSectionStyle,\n\tmediaSectionStyle,\n\tprivacySectionStyle,\n\tsectionHeaderStyle,\n\tsectionContentStyle,\n\tcontentItemStyle,\n\titemLinkStyle,\n\tuserInfoSectionStyle,\n\tuserThumbnailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\tuserPresenceStyle,\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserDetails extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tstatus: null,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableViewProfile: false,\n\t\t\tenableUserPresence: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.UserDetailManager = new UserDetailManager();\n\t\tthis.UserDetailManager.attachListeners(this.updateUser);\n\n\t\tthis.setStatusForUser();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tthis.UserDetailManager.removeListeners();\n\t\tthis.UserDetailManager = null;\n\t}\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableUserPresence: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({ enableUserPresence: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tupdateUser = (key, user) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === user.uid) {\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (user.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (user.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ status: status });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsetStatusForUser = () => {\n\t\tlet status = null;\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.context.language)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t}\n\n\t\tthis.setState({ status: status });\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewProfile = () => {\n\t\tthis.context.FeatureRestriction.isViewProfileEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableViewProfile && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewProfile !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tblockUser = () => {\n\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.blockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"BLOCK_USER_SUCCESS\");\n\t\t\t\t\tthis.context.setItem(Object.assign({}, this.context.item, { blockedByMe: true }));\n\t\t\t\t\tthis.context.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tunblockUser = () => {\n\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.unblockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"UNBLOCK_USER_SUCCESS\");\n\t\t\t\t\tthis.context.setItem(Object.assign({}, this.context.item, { blockedByMe: false }));\n\t\t\t\t\tthis.context.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tviewProfile = () => {\n\t\tconst profileLink = this.context.item.link;\n\t\twindow.open(profileLink, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t};\n\n\tcloseDetailView = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_USER_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewProfile = null;\n\t\tif (this.state.enableViewProfile === true && this.context.item.hasOwnProperty(\"link\") && this.context.item.link && this.context.item.link.trim().length) {\n\t\t\tviewProfile = (\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={actionSectionStyle(this.context)} className=\"section section__viewprofile\">\n\t\t\t\t\t\t<h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">\n\t\t\t\t\t\t\t{Translator.translate(\"ACTIONS\", this.context.language)}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.viewProfile}>\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"VIEW_PROFILE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserText;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.unblockUser}>\n\t\t\t\t\t{Translator.translate(\"UNBLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.blockUser}>\n\t\t\t\t\t{Translator.translate(\"BLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserView = (\n\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<div css={privacySectionStyle(this.context)} className=\"section section__privacy\">\n\t\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t\t</h6>\n\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t{blockUserText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\t//if block/unblock user feature is disabled\n\t\tif (this.state.enableBlockUser === false) {\n\t\t\tblockUserView = null;\n\t\t}\n\n\t\tlet sharedmediaView = (\n\t\t\t<div css={mediaSectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<CometChatSharedMediaView theme={this.props.theme} lang={this.context.language} />\n\t\t\t</div>\n\t\t);\n\n\t\t//if shared media feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userDetailStyle(this.context)} className=\"detailpane detailpane--user\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeDetailView}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={userInfoSectionStyle()} className=\"section section__userinfo\">\n\t\t\t\t\t\t<div css={userThumbnailStyle()} className=\"user__thumbnail\">\n\t\t\t\t\t\t\t<CometChatAvatar user={this.context.item} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userStatusStyle()} className=\"user__status\">\n\t\t\t\t\t\t\t<h6 css={userNameStyle()}>{this.context.item.name}</h6>\n\t\t\t\t\t\t\t<span css={userPresenceStyle(this.context, this.state)}>{this.state.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{viewProfile}\n\t\t\t\t{blockUserView}\n\t\t\t\t{sharedmediaView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserDetails.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatUserDetails.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatUserDetails };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class UserListManager {\n\n    userRequest = null;\n    userListenerId = \"userlist_\" + new Date().getTime();\n\n    constructor(context, searchKey) {\n\n        this.context = context;\n        this.searchKey = searchKey;\n    }\n\n    initializeUsersRequest = () => {\n\n        const userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n        return new Promise((resolve, reject) => {\n            if (userListMode === userListModeOptions[\"ALL\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else {\n                return reject({message: \"Invalid filter for userlist\"});\n            }\n        });\n    }\n\n    fetchNextUsers() {\n        return this.usersRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(offlineUser);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n    }\n}","export const contactWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const contactHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const contactHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const contactHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"20px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const contactSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const contactSearchButtonStyle = (img, theme) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const contactSearchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        height: \"100%\",\n        backgroundColor: \"transparent\",\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const contactMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const contactListStyle = () => {\n    \n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n\nexport const contactAlphabetStyle = () => {\n    \n    return {\n        padding: \"0 16px\",\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"14px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { UserListManager } from \"./controller\";\n\nimport { CometChatUserListItem } from \"../../Users\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  contactWrapperStyle, \n  contactHeaderStyle, \n  contactHeaderCloseStyle, \n  contactHeaderTitleStyle,\n  contactSearchStyle,\n  contactSearchButtonStyle,\n  contactSearchInputStyle,\n  contactMsgStyle,\n  contactMsgTxtStyle,\n  contactListStyle,\n  contactAlphabetStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserList extends React.PureComponent {\n\n\titem;\n\ttimeout;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserlist: [],\n\t\t\tenableSearchUser: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.userListRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\n\t\tthis.UserListManager = new UserListManager(this.getContext())\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.getUsers();\n\t\t\t\tthis.UserListManager.attachListeners(this.userUpdated);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//if user is blocked/unblocked, update userlist\n\t\tif (this.item \n\t\t&& Object.keys(this.item).length\n\t\t&& this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid\n\t\t&& this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\n\t\t\tlet userlist = [...this.state.userlist];\n\n\t\t\t\t//search for user\n\t\t\t\tlet userKey = userlist.findIndex(u => u.uid === this.getContext().item.uid);\n\t\t\t\tif(userKey > -1) {\n\n\t\t\t\tlet userObject = { ...userlist[userKey] };\n\t\t\t\tlet newUserObject = Object.assign({}, userObject, { blockedByMe: this.getContext().item.blockedByMe });\n\t\t\t\t\n\t\t\t\tuserlist.splice(userKey, 1, newUserObject);\n\t\t\t\tthis.setState({ userlist: userlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis.UserListManager.removeListeners();\n\t\tthis.UserListManager = null;\n\t}\n\n\ttoggleUserSearch = () => {\n\n\t\tthis.getContext().FeatureRestriction.isUserSearchEnabled().then(response => {\n\n\t\t\t/**\n\t\t\t* Don't update state if the response has the same value\n\t\t\t*/\n\t\t\tif (response !== this.state.enableSearchUser) {\n\t\t\t\tthis.setState({enableSearchUser: response});\n\t\t\t}\n\n\t\t}).catch(error => {\n\n\t\t\tif (this.state.enableSearchUser !== false) {\n\t\t\t\tthis.setState({enableSearchUser: false});\n\t\t\t}\n\n\t\t});\n\t}\n\n\tuserUpdated = (user) => {\n\t\t\n\t\tlet userlist = [...this.state.userlist];\n\n\t\t//search for user\n\t\tlet userKey = userlist.findIndex(u => u.uid === user.uid);\n\t\t\n\t\t//if found in the list, update user object\n\t\tif(userKey > -1) {\n\n\t\t\tlet userObj = {...userlist[userKey]};\n\t\t\tlet newUserObj = {...userObj, ...user};\n\t\t\tuserlist.splice(userKey, 1, newUserObj);\n\n\t\t\tthis.setState({ userlist: userlist });\n\t\t}\n\t}\n\n\thandleScroll = (e) => {\n\n\t\tconst bottom =\n\t\tMath.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getUsers();\n\t}\n\n\thandleClick = (user) => {\n\n\t\tif(!this.props.onItemClick)\n\t\t\treturn;\n\n\t\tthis.props.onItemClick(user, CometChat.ACTION_TYPE.TYPE_USER);\n\t}\n\n  \thandleMenuClose = () => {\n\n\t\tif(!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n  \t}\n  \n \tsearchUsers = (e) => {\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.UserListManager = new UserListManager(this.getContext(), val);\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tthis.setState({ userlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) }, () => this.getUsers());\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n  \t}\n\n\tgetUsers = () => {\n\n\t\tthis.UserListManager.fetchNextUsers()\n\t\t\t.then(userList => {\n\n\t\t\t\tif (userList.length === 0) {\n\t\t\t\t\tif (this.state.userlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ userlist: [...this.state.userlist, ...userList], decoratorMessage: \"\" });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tgetContext = () => {\n\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t}\n\n  \trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={contactMsgStyle()} className=\"contacts__decorator-message\">\n\t\t\t\t\t<p css={contactMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userList = [...this.state.userlist];\n\t\tlet currentLetter = \"\";\n\t\t\n\t\tconst users = userList.map(user => {\n\t\t\n\t\t\tconst chr = user.name[0].toUpperCase();\n\t\t\tlet firstChar = null;\n\t\t\tif (chr !== currentLetter) {\n\t\t\t\tcurrentLetter = chr;\n\t\t\t\tfirstChar = (<div css={contactAlphabetStyle()} className=\"contacts__list__alphabet-filter\">{currentLetter}</div>);\n\t\t\t} else {\n\t\t\t\tfirstChar = null;\n\t\t\t}\n\t\t\t\n\t\t\tlet selectedUser = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === user.uid) ? user : null;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={user.uid}>\n\t\t\t\t\t{firstChar}\n\t\t\t\t\t<CometChatUserListItem user={user} selectedUser={selectedUser} clickHandler={this.handleClick} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t});\n\n\t\tlet closeBtn = <div css={contactHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchUser = null;\n\t\tif (this.state.enableSearchUser) {\n\t\t\tsearchUser = (\n\t\t\t\t<div css={contactSearchStyle()} className=\"contacts__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={contactSearchButtonStyle(searchIcon, theme)} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={contactSearchInputStyle()} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchUsers} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userListTemplate = (\n\t\t\t<div css={contactWrapperStyle(this.props, theme)} className=\"contacts\">\n\t\t\t\t<div css={contactHeaderStyle(theme)} className=\"contacts__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={contactHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"USERS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t{searchUser}\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={contactListStyle()} className=\"contacts__list\" onScroll={this.handleScroll} ref={el => (this.userListRef = el)}>\n\t\t\t\t\t{users}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet userListWrapper = (userListTemplate);\n\t\tif (this.props._parent === \"\") {\n\t\t\tuserListWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)}>\n\t\t\t\t\t{userListTemplate}\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn (userListWrapper);\n  \t}\n}\n\n// Specifies the default values for props:\nCometChatUserList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatUserList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatUserList };","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedUser && props.selectedUser.uid === props.user.uid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n    \n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\"\n    }\n}\n\nexport const itemDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: 1,\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameStyle = () => { \n    \n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        width: \"100%\",\n        margin: \"5px 0 0 0\" \n    }\n};\n\nexport const itemDescStyle = context => {\n\treturn {\n\t\tmarginTop: \"10px\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { listItem, itemThumbnailStyle, itemDetailStyle, itemNameStyle, itemDescStyle } from \"./style\";\nimport { useContext } from \"react\";\n\nconst CometChatUserListItem = (props) => {\n\n\tconst context = useContext(CometChatContext);\n\n\tlet userPresence = (<CometChatUserPresence status={props.user.status} />);\n\n  \tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif(scrollWidth <= clientWidth) {\n\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t} \n  \n\treturn (\n\t\t<div css={listItem(props, context)} onClick={() => props.clickHandler(props.user)} className=\"list__item\">\n\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t{userPresence}\n\t\t\t</div>\n\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(context.language)}>\n\t\t\t\t<div css={itemNameStyle()} className=\"item__details__name\"  \n\t\t\t\tonMouseEnter={event => toggleTooltip(event, true)} \n\t\t\t\tonMouseLeave={event => toggleTooltip(event, false)}>{props.user.name}</div>\n\t\t\t\t<div css={itemDescStyle(context)} className=\"item__details__desc\"></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Specifies the default values for props:\nCometChatUserListItem.defaultProps = {\n\ttheme: theme,\n\tuser: {},\n};\n\nCometChatUserListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tuser: PropTypes.shape(CometChat.User),\n};\n\nexport { CometChatUserListItem };","export const userScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const userScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const userScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%!important\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserScreenStyle,\n\tuserScreenSidebarStyle,\n\tuserScreenMainStyle,\n} from \"./style\"\n\nclass CometChatUserListWithMessages extends React.Component {\n\n  \tloggedInUser = null;\n\n  \tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n  \t}\n  \n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (user, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, user);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t<CometChatMessages\n\t\t_parent=\"userscreen\"\n\t\tactionGenerated={this.actionHandler} />);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} language={this.props.lang}>\n\t\t\t\t<div css={userScreenStyle(this.props)} className=\"cometchat cometchat--contacts\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={userScreenSidebarStyle(this.state, this.props)} className=\"contacts__sidebar\">\n\t\t\t\t\t\t<CometChatUserList _parent=\"ulwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={userScreenMainStyle(this.state, this.props)} className=\"contacts__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n};\n\nCometChatUserListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n}\n\nexport { CometChatUserListWithMessages };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n    return {\n        minWidth: \"350px\",\n        minHeight: \"350px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"4\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\",\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalTableStyle = (props) => {\n\n    return {\n        borderCollapse: \"collapse\",\n        margin: \"0\",\n        padding: \"0\",\n        width: \"100%\",\n        height: \"90%\",\n        \"tr\": {\n            display: \"table\",\n            width: \"100%\",\n            tableLayout: \"fixed\",\n        }\n    }\n}\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 0\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    outline: \"none\",\n                },\n                \"select\": {\n                    outline: \"none\",\n                    padding: \"8px 16px\",\n                }\n            }\n        }\n    }\n}\n\nexport const tableFootStyle = (context, state, img) => {\n\n    const loadingState = (state.creatingGroup) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n    } : {};\n\n    const textMargin = (state.creatingGroup) ? { marginRight: \"24px\", } : {};\n\n    return {\n        display: \"inline-block\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: `${context.theme.color.white}`,\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n        \"tr\": {\n            border: \"none\",\n            \"td\": {\n                textAlign: \"center\",\n            }\n        },\n    }\n}\n\nexport const inputStyle = (context) => {\n\n    return {\n        display: \"block\",\n        width: \"100%\",\n        border: '0',\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        color: `${context.theme.color.helpText}`,\n        fontSize: \"14px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    inputStyle,\n    tableFootStyle,\n\tmodalErrorStyle,\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatCreateGroup extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terrorMessage: \"\",\n\t\t\tpasswordInput: false,\n\t\t\tname: \"\",\n\t\t\ttype: \"\",\n\t\t\tpassword: \"\",\n\t\t\tcreatingGroup: false,\n\t\t\tenablePublicGroup: false,\n\t\t\tenablePasswordGroup: false,\n\t\t\tenablePrivateGroup: false,\n\t\t};\n\t}\n\n    componentDidMount() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n    componentDidUpdate() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n\tenablePublicGroup = () => {\n\t\tthis.context.FeatureRestriction.isPublicGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePublicGroup) {\n\t\t\t\t\tthis.setState({enablePublicGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePublicGroup !== false) {\n\t\t\t\t\tthis.setState({enablePublicGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePasswordGroup = () => {\n\t\tthis.context.FeatureRestriction.isPasswordGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePasswordGroup) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePasswordGroup !== false) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePrivateGroup = () => {\n\t\tthis.context.FeatureRestriction.isPrivateGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePrivateGroup) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePrivateGroup !== false) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tpasswordChangeHandler = event => {\n\t\tthis.setState({password: event.target.value});\n\t};\n\n\tnameChangeHandler = event => {\n\t\tthis.setState({name: event.target.value});\n\t};\n\n\ttypeChangeHandler = event => {\n\t\tconst type = event.target.value;\n\t\tthis.setState({type});\n\n\t\tif (type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tthis.setState({passwordInput: true});\n\t\t} else {\n\t\t\tthis.setState({passwordInput: false});\n\t\t}\n\t};\n\n\tvalidate = () => {\n\t\tconst groupName = this.state.name.trim();\n\t\tconst groupType = this.state.type.trim();\n\n\t\tif (!groupName) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_NAME\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!groupType) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_TYPE\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tlet password = \"\";\n\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tpassword = this.state.password;\n\n\t\t\tif (!password.length) {\n\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_PASSWORD\", this.context.language) });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreateGroup = () => {\n\n\t\tif (!this.validate()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ creatingGroup: true });\n\n\t\tconst groupType = this.state.type.trim();\n\n\t\tconst password = this.state.password;\n\t\tconst guid = \"group_\" + new Date().getTime();\n\t\tconst name = this.state.name.trim();\n\t\tlet type = CometChat.GROUP_TYPE.PUBLIC;\n\n\t\tswitch (groupType) {\n\t\t\tcase \"public\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PUBLIC;\n\t\t\t\tbreak;\n\t\t\tcase \"private\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PRIVATE;\n\t\t\t\tbreak;\n\t\t\tcase \"password\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PASSWORD;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst group = new CometChat.Group(guid, name, type, password);\n\t\tCometChat.createGroup(group)\n\t\t\t.then(newGroup => {\n\t\t\t\tthis.setState({ creatingGroup: false });\n\n\t\t\t\tif (typeof newGroup === \"object\" && Object.keys(newGroup).length) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_CREATION_SUCCESS\");\n\t\t\t\t\tthis.setState({ name: \"\", type: \"\", password: \"\", passwordInput: \"\" });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"GROUP_CREATED\"], newGroup);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ creatingGroup: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t});\n\t};\n\n\tpopulateGroupType = () => {};\n\n\trender() {\n\n        const groupTypes = {};\n        let groupTypeSelect = null;\n\n        if (this.state.enablePublicGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PUBLIC] = Translator.translate(\"PUBLIC\", this.context.language);\n        }\n\n        if (this.state.enablePasswordGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PASSWORD] = Translator.translate(\"PASSWORD_PROTECTED\", this.context.language);\n        }\n\n        if (this.state.enablePrivateGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PRIVATE] = Translator.translate(\"PRIVATE\", this.context.language);\n        }\n\n        const groupTypeKeys = Object.keys(groupTypes);\n        if (groupTypeKeys.length) {\n\n            const groupTypeListOptions = groupTypeKeys.map(groupTypeKey => {\n                return (\n                    <option value={groupTypeKey} key={groupTypeKey}>\n                        {groupTypes[groupTypeKey]}\n                    </option>\n                );\n            });\n\n            if (groupTypeKeys.length > 1) {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                <option value=\"\">{Translator.translate(\"SELECT_GROUP_TYPE\", this.context.language)}</option>\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            } else {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            }\n        }\n\n\t\tlet password = null;\n\t\tif (this.state.passwordInput) {\n\t\t\tpassword = (\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.context)} placeholder={Translator.translate(\"ENTER_GROUP_PASSWORD\", this.context.language)} type=\"password\" tabIndex=\"3\" onChange={this.passwordChangeHandler} value={this.state.password} />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\t}\n\n\t\tconst createText = this.state.creatingGroup ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__creategroup\">\n\t\t\t\t\t<span css={modalCloseStyle(closeIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<table css={modalTableStyle(this.props)}>\n\t\t\t\t\t\t\t<caption css={tableCaptionStyle()} className=\"modal__title\"> {Translator.translate(\"CREATE_GROUP\", this.context.language)} </caption>\n\t\t\t\t\t\t\t<tbody css={tableBodyStyle()} className=\"modal__search\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"ENTER_GROUP_NAME\", this.context.language)} type=\"text\" tabIndex=\"1\" onChange={this.nameChangeHandler} value={this.state.name} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{groupTypeSelect}\n\t\t\t\t\t\t\t\t{password}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n\t\t\t\t\t\t\t\t<tr className=\"creategroup\">\n\t\t\t\t\t\t\t\t\t<td><button type=\"button\" tabIndex=\"4\" onClick={this.createGroup}><span>{createText}</span></button></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatCreateGroup };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupDetailManager {\n\n    guid = null;\n    groupMemberRequest = null;\n    bannedGroupMemberRequest = null;\n\n    userListenerId = \"group_detail_user_\" + new Date().getTime();\n    groupListenerId = \"group_detail_group_\" + new Date().getTime();\n\n    constructor(guid) {\n        this.guid = guid;\n        this.groupMemberRequest = new CometChat.GroupMembersRequestBuilder(guid).setLimit(10).build();\n        this.bannedGroupMemberRequest = new CometChat.BannedMembersRequestBuilder(guid).setLimit(10).build();\n    }\n\n    fetchNextGroupMembers() {\n        return this.groupMemberRequest.fetchNext();\n    }\n\n    fetchNextBannedGroupMembers() {\n        return this.bannedGroupMemberRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, null, {guid: this.guid}, {\"user\": onlineUser});\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, null, {guid: this.guid}, {\"user\": offlineUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const detailStyle = (context) => {\n\n    return {\n        height: \"100%\",\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        fontFamily: `${context.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${context.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (context) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        height: \"69px\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, , ${mq[4]}`]: {\n            display: \"block\"\n        },\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"20px\"\n    }\n}\n\nexport const detailPaneStyle = () => {\n\n    return {\n        margin: \"0\",\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100% - 70px)\"\n    }\n}\n\nexport const sectionStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n\nexport const sectionHeaderStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        '&:not(:last-of-type)': {\n            marginBottom: \"16px\",\n        }\n    }\n}\n\nexport const contentItemStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"flex\",\n        clear: \"both\",\n        width: \"100%\",\n        padding:\" 6px 0\",\n        '&:first-of-type': {\n            paddingTop: \"0\",\n        },\n        '&:last-of-type': {\n            paddingBottom: \"0\",\n        }\n    }\n}\n\nexport const itemLinkStyle = (context, deleteLink) => {\n\n    const deleteCss = (deleteLink) ? {\n        color: `${context.theme.color.red}`,\n    } : {};\n\n    return {\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        fontWeight: \"600\",\n        ...deleteCss\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupDetailManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { \n\tCometChatViewGroupMemberList, \n\tCometChatAddGroupMemberList, \n\tCometChatBanGroupMemberList, \n\tCometChatTransferOwnershipMemberList\n} from \"../../Groups\";\n\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    detailStyle,\n    headerStyle,\n    headerCloseStyle,\n    headerTitleStyle,\n    detailPaneStyle,\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    contentItemStyle,\n    itemLinkStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatGroupDetails extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tmemberlist: [],\n\t\t\tbannedmemberlist: [],\n\t\t\tadministratorslist: [],\n\t\t\tmoderatorslist: [],\n\t\t\tviewMember: false,\n\t\t\taddMember: false,\n\t\t\tbanMember: false,\n\t\t\taddAdministrator: false,\n\t\t\taddModerator: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tshowDeleteConfirmDialog: false,\n\t\t\tshowLeaveGroupConfirmDialog: false,\n\t\t\tshowTransferOwnershipConfirmDialog: false,\n\t\t\ttransferOwnership: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.context.clearGroupMembers();\n\n\t\tthis.item = this.context.item;\n\n\t\tconst guid = this.context.item.guid;\n\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\tthis.getGroupMembers();\n\t\tthis.getBannedGroupMembers();\n\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.item.guid !== this.context.item.guid) {\n\t\t\tthis.context.clearGroupMembers();\n\n\t\t\tconst guid = this.context.item.guid;\n\t\t\tthis.GroupDetailManager.removeListeners();\n\t\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\t\tthis.getGroupMembers();\n\t\t\tthis.getBannedGroupMembers();\n\t\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\t\t}\n\n\t\tthis.item = this.context.item;\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupDetailManager.removeListeners();\n\t\tthis.GroupDetailManager = null;\n\t\tthis._isMounted = false;\n\t}\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tconst guid = this.context.item.guid;\n\t\tif (guid !== group.guid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateGroupMemberPresence(options.user);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\tthis.addParticipants([updatedMember], false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\t//this.setAvatar(member);\n\t\t\t\t\tthis.banMembers([member]);\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.unbanMembers([member]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: options[\"scope\"] });\n\t\t\t\t\tthis.updateParticipants(updatedMember);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/*\n    Updating group members presence\n    */\n\tupdateGroupMemberPresence = member => {\n\t\tlet memberlist = [...this.context.groupMembers];\n\t\t//search for user\n\t\tlet memberKey = memberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (memberKey > -1) {\n\t\t\tlet memberObj = memberlist[memberKey];\n\t\t\tlet newMemberObj = Object.assign({}, memberObj, member);\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\n\t\tlet bannedmemberlist = [...this.context.bannedGroupMembers];\n\t\t//search for user\n\t\tlet bannedMemberKey = bannedmemberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (bannedMemberKey > -1) {\n\t\t\tlet bannedMemberObj = bannedmemberlist[bannedMemberKey];\n\t\t\tlet newBannedMemberObj = Object.assign({}, bannedMemberObj, member);\n\t\t\tbannedmemberlist.splice(bannedMemberKey, 1, newBannedMemberObj);\n\n\t\t\tthis.updateBannedGroupMembers(bannedmemberlist);\n\t\t}\n\t};\n\n\tgetGroupMembers = () => {\n\t\tconst administratorslist = [],\n\t\t\tmoderatorslist = [];\n\t\tthis.GroupDetailManager.fetchNextGroupMembers()\n\t\t\t.then(groupMembers => {\n\t\t\t\tgroupMembers.forEach(member => {\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t\t\tadministratorslist.push(member);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t\t\tmoderatorslist.push(member);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.context.setAllGroupMembers(groupMembers, administratorslist, moderatorslist);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tgetBannedGroupMembers = () => {\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.GroupDetailManager.fetchNextBannedGroupMembers()\n\t\t\t.then(bannedMembers => {\n\t\t\t\tthis.context.setBannedGroupMembers(bannedMembers);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tdeleteGroup = () => {\n\t\tthis.setState({ showDeleteConfirmDialog: true, showLeaveGroupConfirmDialog: false, showTransferOwnershipConfirmDialog: false });\n\t};\n\n\tonDeleteConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showDeleteConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.deleteGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_DELETION_SUCCESS\");\n\t\t\t\t\tthis.context.setDeletedGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonLeaveConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showLeaveGroupConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.leaveGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setLeftGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonTransferConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showTransferOwnershipConfirmDialog: false });\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferOwnership: true });\n\t};\n\n\tleaveGroup = () => {\n\t\t/**\n\t\t * If loggeduser is the owner of the group; ask him to transfer ownership before leaving the group else show leave group confirmtion dialog\n\t\t */\n\t\tif (this.context.item?.owner === this.state.loggedInUser?.uid) {\n\t\t\tthis.setState({ showTransferOwnershipConfirmDialog: true, showDeleteConfirmDialog: false, showLeaveGroupConfirmDialog: false });\n\t\t} else {\n\t\t\tthis.setState({ showLeaveGroupConfirmDialog: true, showTransferOwnershipConfirmDialog: false, showDeleteConfirmDialog: false });\n\t\t}\n\t};\n\n\tclickHandler = (action, flag) => {\n\t\tswitch (action) {\n\t\t\tcase \"viewmember\":\n\t\t\t\tthis.setState({ viewMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"addmember\":\n\t\t\t\tthis.setState({ addMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"banmember\":\n\t\t\t\tthis.setState({ banMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"transferownership\":\n\t\t\t\tthis.setState({ transferOwnership: flag });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmembersActionHandler = (action, members) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getBannedGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.unbanMembers(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.addParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.removeParticipants(action, members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.updateParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"]:\n\t\t\t\tthis.updateOwnership(members);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMembers = members => {\n\t\tthis.context.setBannedGroupMembers(members);\n\t};\n\n\tunbanMembers = members => {\n\t\tconst bannedMembers = [...this.context.bannedGroupMembers];\n\t\tconst unbannedMembers = [];\n\n\t\tconst filteredBannedMembers = bannedMembers.filter(bannedmember => {\n\t\t\tconst found = members.find(member => bannedmember.uid === member.uid);\n\t\t\tif (found) {\n\t\t\t\tunbannedMembers.push(found);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], unbannedMembers);\n\t\tthis.context.updateBannedGroupMembers(filteredBannedMembers);\n\t};\n\n\taddParticipants = (members, triggerUpdate = true) => {\n\t\tthis.context.setGroupMembers(members);\n\t\t\n\t\tif (triggerUpdate) {\n\t\t\tconst newItem = { ...this.context.item, membersCount: this.context.groupMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], members);\n\t\t}\n\t};\n\n\tremoveParticipants = (action, member, triggerUpdate = true) => {\n\n\t\tconst groupmembers = [...this.context.groupMembers];\n\t\tconst filteredMembers = groupmembers.filter(groupmember => {\n\t\t\tif (groupmember.uid === member.uid) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.context.updateGroupMembers(filteredMembers);\n\n\t\tif (triggerUpdate) {\n\t\t\t\n\t\t\tconst newItem = { ...this.context.item, membersCount: filteredMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\t//if group member is banned, update banned member list in context api\n\t\t\tif(action === enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]) {\n\t\t\t\tthis.context.setBannedGroupMembers([member]);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(action, [member]);\n\t\t}\n\t};\n\n\tupdateParticipants = updatedMember => {\n\t\tconst memberlist = [...this.context.groupMembers];\n\n\t\tconst memberKey = memberlist.findIndex(member => member.uid === updatedMember.uid);\n\t\tif (memberKey > -1) {\n\t\t\tconst memberObj = memberlist[memberKey];\n\t\t\tconst newMemberObj = Object.assign({}, memberObj, updatedMember, { scope: updatedMember[\"scope\"] });\n\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], [newMemberObj]);\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\t};\n\n\tupdateOwnership = uid => {\n\t\tconst item = { ...this.context.item, owner: uid };\n\t\tconst type = CometChat.RECEIVER_TYPE.GROUP;\n\n\t\tthis.setState({ transferOwnership: false });\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\tcloseGroupDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewMembersBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"viewmember\", true)}>\n\t\t\t\t\t{Translator.translate(\"VIEW_MEMBERS\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet addMembersBtn = null,\n\t\t\tdeleteGroupBtn = null,\n\t\t\tbannedMembersBtn = null;\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\taddMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"addmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"ADD_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tdeleteGroupBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<span css={itemLinkStyle(this.context, 1)} className=\"item__link\" onClick={this.deleteGroup}>\n\t\t\t\t\t\t{Translator.translate(\"DELETE_AND_EXIT\", this.context.language)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\tbannedMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"banmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet leaveGroupBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<span css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={this.leaveGroup}>\n\t\t\t\t\t{Translator.translate(\"LEAVE_GROUP\", this.context.language)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\n\t\tlet sharedmediaView = <CometChatSharedMediaView containerHeight=\"225px\" lang={this.context.language} />;\n\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t//if viewing group membersfeature is disabled\n\t\t\tif (this.state.enableViewGroupMembers === false) {\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t} else if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR || this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\tif (this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t//if viewing, kicking/banning, promoting/demoting group membersare feature is disabled\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t}\n\n\t\t//if adding group members feature is disabled\n\t\tif (this.state.enableAddGroupMembers === false) {\n\t\t\taddMembersBtn = null;\n\t\t}\n\n\t\t//if kicking/banning/unbanning group members feature is disabled\n\t\tif (this.state.enableBanGroupMembers === false) {\n\t\t\tbannedMembersBtn = null;\n\t\t}\n\n\t\t//if deleting group feature is disabled\n\t\tif (this.state.enableDeleteGroup === false) {\n\t\t\tdeleteGroupBtn = null;\n\t\t}\n\n\t\t//if leaving group feature is disabled\n\t\tif (this.state.enableLeaveGroup === false || this.context?.item?.membersCount === 1) {\n\t\t\tleaveGroupBtn = null;\n\t\t}\n\n\t\t//if viewing shared media group feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\tlet members = (\n\t\t\t<div css={sectionStyle()} className=\"section section__members\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"MEMBERS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{viewMembersBtn}\n\t\t\t\t\t{addMembersBtn}\n\t\t\t\t\t{bannedMembersBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet options = (\n\t\t\t<div css={sectionStyle()} className=\"section section__options\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{leaveGroupBtn}\n\t\t\t\t\t{deleteGroupBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (viewMembersBtn === null && addMembersBtn === null && bannedMembersBtn === null) {\n\t\t\tmembers = null;\n\t\t}\n\n\t\tif (leaveGroupBtn === null && deleteGroupBtn === null) {\n\t\t\toptions = null;\n\t\t}\n\n\t\tlet viewMembers = null;\n\t\tif (this.state.viewMember) {\n\t\t\tviewMembers = (\n\t\t\t\t<CometChatViewGroupMemberList\n\t\t\t\t\tloggedinuser={this.state.loggedInUser}\n\t\t\t\t\tenableChangeScope={this.state.enableChangeScope}\n\t\t\t\t\tenableKickGroupMembers={this.state.enableKickGroupMembers}\n\t\t\t\t\tenableBanGroupMembers={this.state.enableBanGroupMembers}\n\t\t\t\t\tclose={() => this.clickHandler(\"viewmember\", false)}\n\t\t\t\t\tactionGenerated={this.membersActionHandler}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet addMembers = null;\n\t\tif (this.state.addMember) {\n\t\t\taddMembers = <CometChatAddGroupMemberList close={() => this.clickHandler(\"addmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet bannedMembers = null;\n\t\tif (this.state.banMember) {\n\t\t\tbannedMembers = <CometChatBanGroupMemberList loggedinuser={this.state.loggedInUser} close={() => this.clickHandler(\"banmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet showDeleteConfirmDialog = null;\n\t\tif (this.state.showDeleteConfirmDialog) {\n\t\t\tshowDeleteConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onDeleteConfirm} message={Translator.translate(\"DELETE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"DELETE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showLeaveGroupConfirmDialog = null;\n\t\tif (this.state.showLeaveGroupConfirmDialog) {\n\t\t\tshowLeaveGroupConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onLeaveConfirm} message={Translator.translate(\"LEAVE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"LEAVE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showTransferOwnershipConfirmDialog = null;\n\t\tif (this.state.showTransferOwnershipConfirmDialog) {\n\t\t\tshowTransferOwnershipConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onTransferConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"TRANSFER_CONFIRM\", this.context.language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"TRANSFER\", this.context.language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.context.language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet transferOwnership = null;\n\t\tif (this.state.transferOwnership) {\n\t\t\ttransferOwnership = <CometChatTransferOwnershipMemberList roles={this.roles} loggedinuser={this.state.loggedInUser} actionGenerated={this.membersActionHandler} close={() => this.clickHandler(\"transferownership\", false)} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={detailStyle(this.context)} className=\"detailpane\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeGroupDetail}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={detailPaneStyle()} className=\"detailpane__section\">\n\t\t\t\t\t{members}\n\t\t\t\t\t{options}\n\t\t\t\t\t{sharedmediaView}\n\t\t\t\t</div>\n\t\t\t\t{viewMembers}\n\t\t\t\t{addMembers}\n\t\t\t\t{bannedMembers}\n\t\t\t\t{transferOwnership}\n\t\t\t\t{showDeleteConfirmDialog}\n\t\t\t\t{showLeaveGroupConfirmDialog}\n\t\t\t\t{showTransferOwnershipConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupDetails.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatGroupDetails.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatGroupDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupListManager {\n\n    groupRequest = null;\n    groupListenerId = \"grouplist_\" + new Date().getTime();\n\n    constructor(searchKey) {\n\n        if (searchKey) {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).setSearchKeyword(searchKey).build();\n        } else {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).build();\n        }\n    }\n\n    fetchNextGroups() {\n        return this.groupRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const groupWrapperStyle = (props, theme) => {\n    \n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const groupHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const groupHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"20px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const groupAddStyle = (img, theme) => {\n\n\treturn {\n\t\theight: \"24px\",\n\t\tcursor: \"pointer\",\n\t\ti: {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twidth: \"24px\",\n\t\t\theight: \"24px\",\n\t\t\tmask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\t},\n\t};\n};\n\nexport const groupSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const groupSearchButtonStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const groupSearchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const groupMsgStyle = () => {\n    \n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\"\n    }\n}\n\nexport const groupMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const groupListStyle = () => {\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","export default __webpack_public_path__ + \"static/media/create.65daf562.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupListManager } from \"./controller\";\n\nimport { CometChatCreateGroup, CometChatGroupListItem }  from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  groupWrapperStyle,\n  groupHeaderStyle,\n  groupHeaderCloseStyle,\n  groupHeaderTitleStyle,\n  groupAddStyle,\n  groupSearchStyle,\n  groupSearchButtonStyle,\n  groupSearchInputStyle,\n  groupMsgStyle,\n  groupMsgTxtStyle,\n  groupListStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\nimport addIcon from \"./resources/create.svg\";\n\nclass CometChatGroupList extends React.PureComponent {\n\titem;\n\ttimeout;\n\tloggedInUser = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tgrouplist: [],\n\t\t\tcreateGroup: false,\n\t\t\tenableSearchGroup: false,\n\t\t\tenableCreateGroup: false,\n\t\t\tenableJoinGroup: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.groupListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\n\t\tthis.GroupListManager = new GroupListManager();\n\t\tthis.getGroups();\n\t\tthis.GroupListManager.attachListeners(this.groupUpdated);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\tlet groupKey = groups.findIndex(group => group.guid === this.getContext().item.guid);\n\t\t\tif (groupKey > -1) {\n\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\tlet newGroupObj = Object.assign({}, groupObj, {membersCount: this.getContext().item.membersCount});\n\n\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from group list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\n\t\t\tconst groups = [...this.state.grouplist];\n\t\t\tconst groupKey = groups.findIndex(group => group.guid === guid);\n\n\t\t\tif (groupKey > -1) {\n\t\t\t\tgroups.splice(groupKey, 1);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupListManager = null;\n\t}\n\n\t/**\n\t * if search group feature is disabled\n\t */\n\tenableSearchGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupSearchEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSearchGroup) {\n\t\t\t\t\tthis.setState({enableSearchGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSearchGroup !== false) {\n\t\t\t\t\tthis.setState({enableSearchGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if create group feature is disabled\n\t */\n\tenableCreateGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupCreationEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCreateGroup) {\n\t\t\t\t\tthis.setState({enableCreateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCreateGroup !== false) {\n\t\t\t\t\tthis.setState({enableCreateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if join group feature is disabled\n\t */\n\tenableJoinGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableJoinGroup) {\n\t\t\t\t\tthis.setState({enableJoinGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableJoinGroup !== false) {\n\t\t\t\t\tthis.setState({enableJoinGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateMemberChanged(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateMemberRemoved(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateMemberAdded(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.updateMemberJoined(group, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateMemberRemoved = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\t\t\t\tlet hasJoined = group.hasJoined;\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, hasJoined: hasJoined});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t} else {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateMemberAdded = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tlet scope = group.hasOwnProperty(\"scope\") ? group.scope : \"\";\n\t\t\tlet hasJoined = group.hasOwnProperty(\"hasJoined\") ? group.hasJoined : false;\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t} else {\n\t\t\tlet groupObj = {...group};\n\n\t\t\tlet scope = groupObj.hasOwnProperty(\"scope\") ? groupObj.scope : \"\";\n\t\t\tlet hasJoined = groupObj.hasOwnProperty(\"hasJoined\") ? groupObj.hasJoined : false;\n\t\t\tlet membersCount = parseInt(groupObj.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.unshift(newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberJoined = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet scope = groupObj.scope;\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberChanged = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {scope: options.scope});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getGroups();\n\t};\n\n\thandleClick = group => {\n\n\t\tif (!this.props.onItemClick) return;\n\n\t\tif (group.hasJoined === false) {\n\n\t\t\t//if join group feature is disabled\n\t\t\tif (this.state.enableJoinGroup === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet password = \"\";\n\t\t\tif (group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\tpassword = prompt(Translator.translate(\"ENTER_YOUR_PASSWORD\", this.props.lang));\n\t\t\t}\n\n\t\t\tconst guid = group.guid;\n\t\t\tconst groupType = group.type;\n\n\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (typeof response === \"object\" && Object.keys(response).length) {\n\t\t\t\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\t\t\t\tlet groupKey = groups.findIndex((g, k) => g.guid === guid);\n\t\t\t\t\t\tif (groupKey > -1) {\n\t\t\t\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\t\t\t\tconst newGroupObj = Object.assign({}, groupObj, response, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\t\t\t\tthis.setState({ grouplist: groups });\n\n\t\t\t\t\t\t\tthis.props.onItemClick(newGroupObj, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\n\t\t\t\t\tif (error.hasOwnProperty(\"code\") && error.code && error.code === \"ERR_WRONG_GROUP_PASS\") {\n\t\t\t\t\t\tthis.toastRef.setError(\"WRONG_PASSWORD\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.props.onItemClick(group, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t}\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tsearchGroup = e => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.timeout = setTimeout(() => {\n\t\t\t\n\t\t\tthis.setState({ grouplist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) });\n\n\t\t\tthis.GroupListManager = new GroupListManager(val);\n\t\t\tthis.getGroups();\n\t\t}, 500);\n\t};\n\n\tgetGroups = () => {\n\t\tthis.GroupListManager.fetchNextGroups()\n\t\t\t.then(groupList => {\n\n\t\t\t\tif (groupList.length === 0) {\n\n\t\t\t\t\tif (this.state.grouplist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_GROUPS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ grouplist: [...this.state.grouplist, ...groupList], decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tcreateGroupHandler = flag => {\n\t\tthis.setState({createGroup: flag});\n\t};\n\n\tcreateGroupActionHandler = (action, group) => {\n\t\tif (action === enums.ACTIONS[\"GROUP_CREATED\"]) {\n\t\t\tthis.handleClick(group);\n\n\t\t\tconst groupList = [...this.state.grouplist];\n\t\t\tgroupList.unshift(group);\n\n\t\t\tthis.setState({grouplist: groupList, createGroup: false});\n\t\t}\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet messageContainer = null;\n\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={groupMsgStyle()} className=\"groups__decorator-message\">\n\t\t\t\t\t<p css={groupMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst groups = this.state.grouplist.map(group => {\n\t\t\tlet selectedGroup = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === group.guid ? group : null;\n\n\t\t\treturn <CometChatGroupListItem key={group.guid} group={group} selectedGroup={selectedGroup} clickHandler={this.handleClick} />;\n\t\t});\n\n\t\tlet createGroupBtn = (\n\t\t\t<div css={groupAddStyle(addIcon, theme)} title={Translator.translate(\"CREATE_GROUP\", this.props.lang)} onClick={() => this.createGroupHandler(true)}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if create group feature is disabled\n\t\tif (this.state.enableCreateGroup === false) {\n\t\t\tcreateGroupBtn = null;\n\t\t}\n\n\t\tlet closeBtn = <div css={groupHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchGroup = null;\n\t\tif (this.state.enableSearchGroup) {\n\t\t\tsearchGroup = (\n\t\t\t\t<div css={groupSearchStyle()} className=\"groups__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={groupSearchButtonStyle(searchIcon, this.getContext())} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={groupSearchInputStyle()} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchGroup} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet createGroup = null;\n\t\tif(this.state.createGroup) {\n\t\t\tcreateGroup = <CometChatCreateGroup theme={this.props.theme} close={() => this.createGroupHandler(false)} actionGenerated={this.createGroupActionHandler} />;\t\n\t\t}\n\n\t\tconst groupListTemplate = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={groupWrapperStyle(this.props, theme)} className=\"groups\">\n\t\t\t\t\t<div css={groupHeaderStyle(theme)} className=\"groups__header\">\n\t\t\t\t\t\t{closeBtn}\n\t\t\t\t\t\t<h4 css={groupHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t{Translator.translate(\"GROUPS\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t{createGroupBtn}\n\t\t\t\t\t</div>\n\t\t\t\t\t{searchGroup}\n\t\t\t\t\t{messageContainer}\n\t\t\t\t\t<div css={groupListStyle()} className=\"groups__list\" onScroll={this.handleScroll} ref={el => (this.groupListRef = el)}>\n\t\t\t\t\t\t{groups}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createGroup}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet groupListWrapper = groupListTemplate;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tgroupListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{groupListTemplate}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn groupListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatGroupList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatGroupList };","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedGroup && props.selectedGroup.guid === props.group.guid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const listItemName = () => {\n\n    return {\n        maxWidth: \"calc(100% - 30px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        margin: \"0\"\n    }\n}\n\nexport const listItemIcon = () => {\n\n    return {\n        width: \"24px\",\n        height: \"auto\",\n        margin: \"0 8px\",\n    }\n}\n\nexport const itemIconStyle = (img, context) => {\n\n    return {\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 70px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameWrapperStyle = () => { \n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        margin: \"0\",\n    }\n}\n\nexport const itemDescStyle = (context) => { \n\n    return {\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        padding: \"0 0 5px 0\",\n        fontSize: \"12px\",\n        color: `${context.theme.color.helpText}`,\n        \"&:hover\": {\n            borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/password-protected-group.d47aaeec.svg\";","export default __webpack_public_path__ + \"static/media/private-group.bc4d777a.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tlistItem,\n\tlistItemIcon,\n\titemIconStyle,\n\titemThumbnailStyle,\n\titemDetailStyle,\n\titemNameWrapperStyle,\n\titemDescStyle,\n\tlistItemName  \n} from \"./style\";\n\nimport shieldIcon from \"./resources/password-protected-group.svg\";\nimport lockIcon from \"./resources/private-group.svg\";\n\nclass CometChatGroupListItem extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\t\n\ttoggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t}\n\n\tclickHandler = () => {\n\t\tthis.props.clickHandler(this.props.group);\n\t}\n\n\trender() {\n\n\t\tlet groupTypeIcon = null;\n\t\tif (this.props.group.type === CometChat.GROUP_TYPE.PRIVATE) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(shieldIcon, this.context)} title={Translator.translate(\"PRIVATE_GROUP\", this.context.language)}></i>);\n\n\t\t} else if (this.props.group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(lockIcon, this.context)} title={Translator.translate(\"PROTECTED_GROUP\", this.context.language)}></i>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props, this.context)} className=\"list__item\" onClick={this.clickHandler}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t<CometChatAvatar group={this.props.group} />\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemNameWrapperStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t<p css={listItemName()}>{this.props.group.name}</p>\n\t\t\t\t\t\t<div css={listItemIcon()}>{groupTypeIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemDescStyle(this.context)} className=\"item__details__desc\">{`${this.props.group.membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListItem.defaultProps = {\n\ttheme: theme,\n\tgroup: {},\n\tselectedGroup: {},\n\tclickHandler: () => { }\n};\n\nCometChatGroupListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tselectedGroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tclickHandler: PropTypes.func\n}\n\nexport { CometChatGroupListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"50%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[3]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n        height: \"31px\"\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",\n    }\n}\n\nexport const nameColumnStyle = (context, editAccess) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (editAccess === null) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        ...widthProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"180px\",\n        marginRight: \"8px\",\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatViewGroupMemberListItem } from \"../../Groups\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n    actionColumnStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatViewGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n        this._isMounted = false;\n        const chatWindow = context.UIKitSettings.chatWindow;\n        this.mq = chatWindow.matchMedia(this.context.theme.breakPoints[1]);\n        \n        let userColumnTitle = Translator.translate(\"NAME\", context.language);\n        if (this.mq.matches) {\n            userColumnTitle = Translator.translate(\"AVATAR\", context.language)\n        }\n\n        this.state = {\n            userColumnTitle: userColumnTitle,\n            errorMessage: \"\"\n        }\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n        }\n    }\n\n    updateMembers = (action, member, scope) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"BAN_GROUP_MEMBER\"]:\n                this.banMember(member);\n                break;\n            case enums.ACTIONS[\"KICK_GROUP_MEMBER\"]:\n                this.kickMember(member);\n                break;\n            case enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"]:\n                this.changeScope(member, scope);\n                break;\n            default:\n                break;\n        }\n    }\n\n    banMember = (memberToBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.banGroupMember(guid, memberToBan.uid).then(response => {\n            \n            if(response) {\n\n                this.context.setToastMessage(\"success\", \"BAN_GROUPMEMBER_SUCCESS\");\n                this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"], memberToBan);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    kickMember = (memberToKick) => {\n\n        const guid = this.context.item.guid;\n        CometChat.kickGroupMember(guid, memberToKick.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"], memberToKick);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n            \n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    changeScope = (member, scope) => {\n\n        const guid = this.context.item.guid;\n        CometChat.updateGroupMemberScope(guid, member.uid, scope).then(response => {\n            \n            if(response) {\n\n                this.context.setToastMessage(\"success\", \"SCOPECHANGE_GROUPMEMBER_SUCCESS\");\n                const updatedMember = Object.assign({}, member, {scope: scope});\n                this.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], updatedMember);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n            \n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    setUserColumnTitle = (editAccess) => {\n\n        if (this._isMounted) {\n            \n            if (editAccess !== null && this.mq.matches) {\n                this.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n            } else {\n                this.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n            }\n        }\n    }\n\n    render() {\n\n        const membersList = [...this.context.groupMembers];\n        \n        const groupMembers = membersList.map((member, key) => {\n        \n            return (\n                <CometChatViewGroupMemberListItem\n                    loggedinuser={this.props.loggedinuser}\n                    theme={this.props.theme}\n                    key={key}\n                    member={member}\n                    enableChangeScope={this.props.enableChangeScope}\n                    enableBanGroupMembers={this.props.enableBanGroupMembers}\n                    enableKickGroupMembers={this.props.enableKickGroupMembers}\n                    actionGenerated={this.updateMembers} />\n            );\n        });\n\n        let editAccess = null;\n        if(this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{Translator.translate(\"BAN\", this.context.language)}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{Translator.translate(\"KICK\", this.context.language)}</div>\n                </React.Fragment>\n            );\n\n            if (this.props.enableKickGroupMembers === false && this.props.enableBanGroupMembers === false) {\n                editAccess = null;\n            }\n        }\n\n        this.mq.addListener(editAccess => this.setUserColumnTitle(editAccess));\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__viewmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.context, editAccess)} className=\"name\">{this.state.userColumnTitle}</div>\n                                <div css={scopeColumnStyle(this.context)} className=\"scope\">{Translator.translate(\"SCOPE\", this.context.language)}</div>\n                                {editAccess}\n                            </div>\n                            <div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n                                {groupMembers}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberList.defaultProps = {\n\ttheme: theme,\n\tuserColumnTitle: \"\",\n\tenableChangeScope: false,\n\tenableKickGroupMembers: false,\n\tenableBanGroupMembers: false\n};\n\nCometChatViewGroupMemberList.propTypes = {\n\ttheme: PropTypes.object,\n\tuserColumnTitle: PropTypes.string,\n\tenableChangeScope: PropTypes.bool,\n\tenableKickGroupMembers: PropTypes.bool,\n\tenableBanGroupMembers: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberList };","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    }\n}\n\nexport const nameColumnStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        ...widthProp\n    }\n}\n\nexport const avatarStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const marginProp = (participantView) ? {\n        marginRight: \"8px\",\n    } : {\n        marginRight: \"8px\",\n        [mq[1]]: {\n            marginRight: \"0\",\n        }\n    };\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        ...marginProp\n    }\n}\n\nexport const nameStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n        width: \"100%\"\n    } : {\n        width: \"calc(100% - 50px)\"\n    };\n\n    const displayProp = (participantView) ? {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"inline\"\n        }\n\n    } : {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"none\"\n        }\n    }\n    \n    return {\n        margin: \"8px 0\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        ...widthProp,\n        ...displayProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: \"180px\",\n        \"img\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n        },\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const scopeWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        transition: \"opacity .1s linear\",\n        \"img\": {\n            margin: \"0px 4px\",\n        }\n    }\n}\n\nexport const scopeSelectionStyle = () => {\n\n    return {\n        width: \"65%\",\n        border: \"0\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `rgba(20, 20, 20, 0.04)`,\n        padding: \"8px\",\n        color: `rgba(20, 20, 20, 0.6)`,\n        float: \"left\",\n    }\n}\n\nexport const scopeIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const roleStyle = () => {\n\n    return {\n        fontSize: \"12px\",\n        maxWidth: \"calc(100% - 20px)\"\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}\n\nexport const banIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const kickIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tbackground: `url(${img}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/done.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalRowStyle,\n    nameColumnStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    scopeColumnStyle,\n    scopeIconStyle,\n    actionColumnStyle,\n    banIconStyle,\n    kickIconStyle,\n    scopeWrapperStyle,\n    scopeSelectionStyle\n} from \"./style\";\n\nimport scopeIcon from \"./resources/edit.svg\";\nimport doneIcon from \"./resources/done.svg\";\nimport clearIcon from \"./resources/close.svg\";\nimport banIcon from \"./resources/ban-member.svg\";\nimport kickIcon from \"./resources/delete.svg\";\n\nclass CometChatViewGroupMemberListItem extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.changeScopeDropDown = (\n            <select \n            className=\"members-scope-select\"\n            onChange={this.scopeChangeHandler}\n            defaultValue={this.props.member.scope}></select>\n        )\n\n        this.state = {\n            showChangeScope: false,\n            scope: null\n        }\n\n        this.roles = context.roles;\n    }\n\n    toggleChangeScope = (flag) => {\n        this.setState({ showChangeScope: flag });\n    }\n\n    scopeChangeHandler = (event) => {\n        this.setState({scope: event.target.value});\n    }\n\n    updateMemberScope = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"], this.props.member, this.state.scope);\n        this.toggleChangeScope();\n    }\n\n    toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        \n        if (elem.classList.contains(\"name\")) {\n\n            const scrollWidth = elem.scrollWidth;\n            const clientWidth = elem.clientWidth;\n            \n            if (scrollWidth <= clientWidth) {\n                return false;\n            }\n        }\n\n        if(flag) {\n            elem.setAttribute(\"title\", this.props.member.name);\n        } else {\n            elem.removeAttribute(\"title\");\n        }\n    }\n\n    render() {\n\n        let editClassName = \"\";\n    \n        let name = this.props.member.name;\n        let scope = (<span css={roleStyle()}>{this.roles[this.props.member.scope]}</span>);\n        let changescope = null;\n        let ban = (<i css={banIconStyle(banIcon, this.context)} title={Translator.translate(\"BAN\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUP_MEMBER\"], this.props.member)}}></i>);\n        let kick = (<i css={kickIconStyle(kickIcon, this.context)} title={Translator.translate(\"KICK\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUP_MEMBER\"], this.props.member)}}></i>);\n        \n\n        if(this.state.showChangeScope) {\n\n            let options = (\n                <React.Fragment>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.ADMIN}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN]}</option>\n                </React.Fragment>\n            );\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR\n                && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n                options = (\n                    <React.Fragment>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    </React.Fragment>\n                );\n            }\n\n            changescope = (\n                <div css={scopeWrapperStyle()} className=\"scope__wrapper\">\n                    <select css={scopeSelectionStyle()} className=\"scope__select\" onChange={this.scopeChangeHandler} defaultValue={this.props.member.scope}>\n                        {options}\n                    </select>\n                    <i css={scopeIconStyle(doneIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={this.updateMemberScope}></i>\n                    <i css={scopeIconStyle(clearIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(false)}></i>\n                </div>\n            );\n\n        } else {\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n                changescope = scope;\n            } else {\n                changescope = (\n                    <React.Fragment>\n                        {scope}\n                        <i css={scopeIconStyle(scopeIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(true)}></i>\n                    </React.Fragment>\n                );\n            }\n        }\n\n        //disable change scope, kick, ban of group owner\n        if (this.context.item.owner === this.props.member.uid) {\n            scope = (<span css={roleStyle()}>{Translator.translate(\"OWNER\", this.context.language)}</span>);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //disable change scope, kick, ban of self\n        if (this.props.loggedinuser.uid === this.props.member.uid) {\n            name = Translator.translate(\"YOU\", this.context.language);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is moderator, don't allow to change scope, ban, kick group moderators or administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n        && (this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is administrator but not group owner, don't allow to change scope, ban, kick group administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN\n        && this.context.item.owner !== this.props.loggedinuser.uid \n        && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n        \n        let editAccess = null;\n        //if the loggedin user is participant, don't show the option to change scope, ban, or kick group members\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n            editAccess = null;\n            editClassName = \"true\";\n        } else {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                </React.Fragment>\n            );\n\n            /**\n             * if kick and ban feature is disabled\n             */\n            if (this.props.enableBanGroupMembers === false && this.props.enableKickGroupMembers === false) {\n                editAccess = null;\n            } else if (this.props.enableBanGroupMembers === false) { //if ban feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                );\n            } else if (this.props.enableKickGroupMembers === false) { //if kick feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                );\n            }\n\n            /**\n             * if promote_demote_members feature is disabled\n             */\n            if (this.props.enableChangeScope === false) {\n                changescope = scope;\n            }\n        }\n\n        let userPresence = (\n            <CometChatUserPresence status={this.props.member.status} />\n        );\n        \n        return (\n            <div css={modalRowStyle(this.context)} className=\"content__row\">\n                <div css={nameColumnStyle(this.context, editClassName)} className=\"userinfo\">\n                    <div css={avatarStyle(this.context, editClassName)} className=\"thumbnail\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>\n                        <CometChatAvatar user={this.props.member} />\n                        {userPresence}\n                    </div>\n                    <div css={nameStyle(this.context, editClassName)} className=\"name\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>{name}</div>\n                </div>\n                <div css={scopeColumnStyle(this.context)} className=\"scope\">{changescope}</div>\n                {editAccess}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberListItem.defaultProps = {\n\tloggedinuser: {},\n\tenableChangeScope: false,\n};\n\nCometChatViewGroupMemberListItem.propTypes = {\n\tloggedinuser: PropTypes.shape(CometChat.User),\n\tenableChangeScope: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberListItem };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class AddMembersManager {\n\tmembersRequest = null;\n\tuserListenerId = new Date().getTime();\n\n\tconstructor(context, searchKey) {\n\n\t\tthis.context = context;\n\t\tthis.searchKey = searchKey;\n\t}\n\n\tinitializeMembersRequest = () => {\n\n\t\tconst userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (userListMode === userListModeOptions[\"ALL\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else {\n\t\t\t\treturn reject({message: \"Invalid filter for userlist\"});\n\t\t\t}\n\t\t});\n\t};\n\n\tfetchNextUsers() {\n\t\treturn this.membersRequest.fetchNext();\n\t}\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : { \n        textAlign: \"left\", \n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n        color: `${context.theme.color.red}`,\n        textAlign: \"center\",\n        margin: \"8px 0\",\n        width: \"100%\",\n    };\n}\n\nexport const modalSearchStyle = () => {\n\treturn {\n\t\tfontWeight: \"normal\",\n\t\tmarginBottom: \"16px\",\n\t\twidth: \"100%\",\n        height: \"35px\",\n\t\tborderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n\t\tbackgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\t};\n};\n\nexport const searchButtonStyle = (img, context) => {\n\n    return {\n        width: \"30px\",\n        height: \"100%\",\n        padding: \"8px\",\n        cursor: \"default\",\n        mask: `url(${img}) 10px center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}!important`,\n    }\n}\n\nexport const searchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const modalListStyle = (context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalFootStyle = (props, state, img, context) => {\n\n    const loadingState = (state.addingMembers) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) ${context.theme.primaryColor} no-repeat right 10px center`,\n    } : {};\n\n    const textMargin = state.addingMembers ? { marginRight: \"24px\" } : {};\n    \n    return {\n        margin: \"24px auto 0 auto\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: \"white\",\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/adding.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { AddMembersManager } from \"./controller\";\n\nimport { CometChatAddGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalSearchStyle,\n    searchButtonStyle,\n    searchInputStyle,\n    modalListStyle,\n    modalFootStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport addingIcon from \"./resources/adding.svg\";\nimport searchIcon from \"./resources/search.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatAddGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            userlist: [],\n            membersToAdd: [],\n            filteredlist: [],\n            addingMembers: false,\n            decoratorMessage: Translator.translate(\"LOADING\", context.language),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        this.AddMembersManager = new AddMembersManager(this.context);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.getUsers();\n            this.AddMembersManager.attachListeners(this.userUpdated);\n        });\n    }\n\n    componentWillUnmount() {\n\n        this.AddMembersManager.removeListeners();\n        this.AddMembersManager = null;\n    }\n\n    userUpdated = (user) => {\n        \n        let userlist = [...this.state.userlist];\n  \n        //search for user\n        let userKey = userlist.findIndex((u, k) => u.uid === user.uid);\n      \n        //if found in the list, update user object\n        if(userKey > -1) {\n\n            let userObj = userlist[userKey];\n            let newUserObj = Object.assign({}, userObj, user);\n            userlist.splice(userKey, 1, newUserObj);\n    \n            this.setState({ userlist: userlist });\n        }\n    }\n\n    handleScroll = (e) => {\n      const bottom =\n        Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n      if (bottom) this.getUsers();\n    }\n    \n    searchUsers = (e) => {\n  \n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n\n        let val = e.target.value;\n        \n        this.AddMembersManager = new AddMembersManager(this.context, val);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.timeout = setTimeout(() => {\n                this.setState({ userlist: [], membersToAdd: [], membersToRemove: [], filteredlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.context.language) }, () => this.getUsers());\n            }, 500);\n\t\t\t\t\t\t\t\n        });\n    }\n  \n    getUsers = () => {\n  \n        this.AddMembersManager.fetchNextUsers()\n            .then(userList => {\n                const filteredUserList = userList.filter(user => {\n                    const found = this.context.groupMembers.find(member => user.uid === member.uid);\n                    const foundbanned = this.context.bannedGroupMembers.find(member => user.uid === member.uid);\n                    if (found || foundbanned) {\n                        return false;\n                    }\n                    return true;\n                });\n\n                if (filteredUserList.length === 0) {\n                    this.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.context.language) });\n                }\n\n                this.setState({ userlist: [...this.state.userlist, ...userList], filteredlist: [...this.state.filteredlist, ...filteredUserList] });\n            })\n            .catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    membersUpdated = (user, userState) => {\n\n        if(userState) {\n\n            const members = [...this.state.membersToAdd];\n            members.push(user);\n            this.setState({membersToAdd: [...members]});\n\n        } else {\n\n            const membersToAdd = [...this.state.membersToAdd];\n            const IndexFound = membersToAdd.findIndex(member => member.uid === user.uid);\n            if(IndexFound > -1) {\n                membersToAdd.splice(IndexFound, 1);\n                this.setState({membersToAdd: [...membersToAdd]})\n            }\n        }\n    }\n\n    updateMembers = () => {\n        \n        const guid = this.context.item.guid;\n        const membersList = [];\n\n        this.state.membersToAdd.forEach(newmember => {\n            //if a selected member is already part of the member list, don't add\n            const IndexFound = this.context.groupMembers.findIndex(member => member.uid === newmember.uid);\n            if(IndexFound === -1) {\n                \n                const newMember = new CometChat.GroupMember(newmember.uid, CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT);\n                membersList.push(newMember);\n\n                newmember[\"type\"] = \"add\";\n            }\n        });\n\n        if(membersList.length) {\n\n            this.setState({ addingMembers: true });\n\n            const membersToAdd = [];\n            CometChat.addMembersToGroup(guid, membersList, []).then(response => {\n\n                if (Object.keys(response).length) {\n                        \n                    for (const member in response) {\n\n                        if(response[member] === \"success\") {\n\n                            const found = this.state.userlist.find(user => user.uid === member);\n                            found[\"scope\"] = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n                            membersToAdd.push(found);\n                        }\n                    }\n\n                    this.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], membersToAdd);\n                }\n                this.setState({ addingMembers: false });\n                this.props.close();\n\n            }).catch(error => {\n                \n                this.setState({ addingMembers: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n                \n            });\n        }\n    }\n\n    render() {\n\n        const createText = this.state.addingMembers ? Translator.translate(\"ADDING\", this.context.language) : Translator.translate(\"ADD\", this.context.language);\n        let addGroupMemberBtn = (\n            <div css={modalFootStyle(this.props, this.state, addingIcon, this.context)} className=\"modal__addmembers\">\n                <button type=\"button\" onClick={this.updateMembers}><span>{createText}</span></button>\n            </div>\n        );\n\n        let messageContainer = null;\n        if (this.state.filteredlist.length === 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"members__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n            addGroupMemberBtn = null;\n        }\n\n        let currentLetter = \"\";\n        const filteredUserList = [...this.state.filteredlist];\n        const users = filteredUserList.map(user => {\n\n            const chr = user.name[0].toUpperCase();\n            let firstLetter = null;\n            if(chr !== currentLetter) {\n                currentLetter = chr;\n                firstLetter = currentLetter;\n            }\n\n            return (\n                <React.Fragment key={user.uid}>\n                    <CometChatAddGroupMemberListItem \n                    theme={this.props.theme}\n                    firstLetter={firstLetter}\n                    user={user}\n                    changed={this.membersUpdated} />\n                </React.Fragment>\n            )\n        });\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__addmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"USERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalSearchStyle()} className=\"modal__search\">\n                            <button type=\"button\" className=\"search__button\" css={searchButtonStyle(searchIcon, this.context)} />\n                            <input\n                            type=\"text\"\n                            autoComplete=\"off\"\n                            css={searchInputStyle()}\n                            className=\"search__input\"\n                            placeholder={Translator.translate(\"SEARCH\", this.context.language)}\n                            onChange={this.searchUsers} />\n                        </div>\n                        {messageContainer}\n                        <div css={modalListStyle(this.context)} onScroll={this.handleScroll} className=\"modal__content\">{users}</div>\n                        {addGroupMemberBtn}\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatAddGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberList };\n","export const modalRowStyle = (theme) => {\n\n    return {\n        border: `1px solid ${theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        \"&:not(:last-child)\": {\n            borderBottom: \"none\"\n        }\n    }\n}\n\nexport const modalColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"calc(100% - 50px)\",\n    }\n}\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const selectionColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"50px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    }\n}\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, theme) => {\n\n    return {\n        display: \"none\",\n        \" + label\": {\n            display: \"block\",\n            cursor: \"pointer\",\n            userSelect: \"none\",\n            padding: \"8px\",\n            width: \"100%\",\n            mask: `url(${inactiveStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        },\n        \"&:checked + label\": {\n            width: \"100%\",\n            mask: `url(${activeStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import { useState, useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmodalRowStyle,\n\tmodalColumnStyle,\n\tavatarStyle,\n\tnameStyle,\n\tselectionColumnStyle,\n\tselectionBoxStyle\n} from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nconst CometChatAddGroupMemberListItem = (props) => {\n\n\tconst { groupMembers, theme } = useContext(CometChatContext);\n\n\tconst [checked, setChecked] = useState(() => {\n\t\tconst found = groupMembers.find(member => member.uid === props.user.uid);\n\t\tconst value = (found) ? true : false;\n\n\t\treturn value;\n\t});\n\n\tconst handleCheck = (event) => {\n\n\t\tconst value = (checked === true) ? false : true;\n\t\tsetChecked(value);\n\t\tprops.changed(props.user, value);\n\t}\n\n\tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\t\t\n\t\tif(scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div css={modalRowStyle(theme)}>\n\t\t\t<div css={modalColumnStyle()} className=\"userinfo\" onMouseEnter={event => toggleTooltip(event, true)} onMouseLeave={event => toggleTooltip(event, false)}>\n\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t\t<CometChatUserPresence status={props.user.status} />\n\t\t\t\t</div>\n\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t{props.user.name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div css={selectionColumnStyle()} className=\"selection\">\n\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, theme)} type=\"checkbox\" checked={checked} id={props.user.uid + \"sel\"} onChange={handleCheck} />\n\t\t\t\t<label htmlFor={props.user.uid + \"sel\"}>&nbsp;</label>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberListItem.defaultProps = {\n\ttheme: theme\n};\n\nCometChatAddGroupMemberListItem.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"8px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n\t\theight: \"31px\",\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    };\n}\n\nexport const nameColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"calc(100% - 220px)\",\n        [mq[0]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[1]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 185px)\",\n        },\n    };\n}\n\nexport const roleColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"150px\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t};\n};\n\nexport const actionColumnStyle = () => {\n\n    return {\n        width: \"70px\"\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",        \n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        height: \"30px\",\n        color: `${context.theme.color.secondary}`,\n        fontSize: \"20px!important\",\n        fontWeight: \"600\"\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBanGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    nameColumnStyle,\n    roleColumnStyle,\n    actionColumnStyle,\n    listStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatBanGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            membersToBan: [],\n            membersToUnBan: [],\n            decoratorMessage: Translator.translate(\"LOADING\", Translator.getDefaultLanguage()),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        if (this.context.bannedGroupMembers.length === 0) {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    componentDidUpdate() {\n        \n        if (this.context.bannedGroupMembers.length === 0 && this.state.decoratorMessage === \"\") {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else if (this.context.bannedGroupMembers.length && this.state.decoratorMessage.length) {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    unbanMember = (memberToUnBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.unbanGroupMember(guid, memberToUnBan.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], [memberToUnBan]);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    updateMembers = (action, member) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"]:\n                this.unbanMember(member);\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]);\n        }\n    }\n    \n    render() {\n        \n        const membersList = [...this.context.bannedGroupMembers];\n        const bannedMembers = membersList.map((member, key) => {\n\n            return (\n                <CometChatBanGroupMemberListItem \n                key={member.uid} \n                member={member}\n                loggedinuser={this.props.loggedinuser}\n                actionGenerated={this.updateMembers} />);\n\n        });\n\n        let messageContainer = null;\n        if (this.state.decoratorMessage.length !== 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"bannedmembers__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n        }\n        \n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__bannedmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n                            {Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n                        </div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">\n                            {this.state.errorMessage}\n                        </div>\n\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.props)} className=\"name\">\n                                    {Translator.translate(\"NAME\", this.context.language)}\n                                </div>\n                                <div css={roleColumnStyle(this.context)} className=\"role\">\n                                    {Translator.translate(\"SCOPE\", this.context.language)}\n                                </div>\n                                <div css={actionColumnStyle(this.context)} className=\"unban\">\n                                    {Translator.translate(\"UNBAN\", this.context.language)}\n                                </div>\n                            </div>\n                            {messageContainer}\n                            <div css={listStyle(this.props)} className=\"content__list\" onScroll={this.handleScroll}>\n                                {bannedMembers}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberList };\n","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    };\n}\n\nexport const userStyle = context => {\n    \n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"calc(100% - 220px)\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px 0 0 0\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\"\n    }\n}\n\nexport const roleStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        width: \"150px\",\n        fontSize: \"12px\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"115px\"\n        }\n    }\n}\n\nexport const actionStyle = (img, context) => {\n\n    return {\n        width: \"70px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`,\n            display: \"inline-block\"\n        },\n    };\n}","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalRowStyle,\n    userStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    actionStyle\n} from \"./style\";\n\nimport unban from \"./resources/ban-member.svg\";\n\nconst CometChatBanGroupMemberListItem = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    let name = props.member.name;\n    let scope = context.roles[props.member.scope];\n    let unBan = (<i title={Translator.translate(\"UNBAN\", context.language)} onClick={() => { props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"], props.member)}} />);\n\n    //if the loggedin user is moderator, don't allow unban of banned moderators or administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n    && (props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n        unBan = null;\n    }\n\n    //if the loggedin user is administrator, don't allow unban of banned administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN && props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n        if (context.item.owner !== props.loggedinuser.uid) {\n            unBan = null;\n        }\n    }\n\n    const toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        const nameContainer = elem.lastChild;\n    \n        const scrollWidth = nameContainer.scrollWidth;\n        const clientWidth = nameContainer.clientWidth;\n        \n        if(scrollWidth <= clientWidth) {\n          return false;\n        }\n    \n        if(flag) {\n          nameContainer.setAttribute(\"title\", nameContainer.textContent);\n        } else {\n          nameContainer.removeAttribute(\"title\");\n        }\n    }\n    \n    return (\n        <div css={modalRowStyle(context)}>\n            <div css={userStyle(context)} className=\"userinfo\"\n            onMouseEnter={event => toggleTooltip(event, true)}\n            onMouseLeave={event => toggleTooltip(event, false)}>\n                <div css={avatarStyle()} className=\"avatar\">\n                    <CometChatAvatar user={props.member} />\n                    <CometChatUserPresence\n                    status={props.member.status}\n                    borderColor={props.theme.borderColor.primary} />\n                </div>\n                <div css={nameStyle()} className=\"name\">{name}</div>\n            </div>\n            <div css={roleStyle(context)} className=\"role\">{scope}</div>\n            <div css={actionStyle(unban, context)} className=\"unban\">{unBan}</div>\n        </div>\n    );\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberListItem.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberListItem.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberListItem };\n","export const groupScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \".groups\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const groupScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatGroupList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tgroupScreenStyle,\n\tgroupScreenSidebarStyle,\n\tgroupScreenMainStyle,\n} from \"./style\"\n\nclass CometChatGroupListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.groupListRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (group, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, group);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t*/\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, {\"scope\": options[\"scope\"]})\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"groups\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={groupScreenStyle(this.props)} className=\"cometchat cometchat--groups\">\n\t\t\t\t\t<div css={groupScreenSidebarStyle(this.state, this.props)} className=\"groups__sidebar\">\n\t\t\t\t\t\t<CometChatGroupList ref={el => (this.groupListRef = el)} _parent=\"glwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={groupScreenMainStyle(this.state, this.props)} className=\"groups__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithGroup: \"\",\n};\n\nCometChatGroupListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatGroupListWithMessages };","export const modalWrapperStyle = (props, context) => {\n\n\tconst mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"40%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\treturn {\n\t\tposition: \"absolute\",\n\t\twidth: \"32px\",\n\t\theight: \"32px\",\n\t\tborderRadius: \"50%\",\n\t\ttop: \"16px\",\n\t\tright: \"16px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t};\n};\n\nexport const modalBodyStyle = () => {\n\treturn {\n\t\tpadding: \"24px\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalCaptionStyle = dir => {\n\tconst textAlignStyle =\n\t\tdir === \"rtl\" ? {\n\t\t\ttextAlign: \"right\",\n\t\t\tpaddingRight: \"32px\",\n\t\t}\n\t\t: {\n\t\t\ttextAlign: \"left\",\n\t\t};\n\n\treturn {\n\t\tfontSize: \"20px\",\n\t\tmarginBottom: \"8px\",\n\t\tfontWeight: \"bold\",\n\t\t...textAlignStyle,\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\theight: \"31px\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalListStyle = (context) => {\n\treturn {\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 120px)\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const listHeaderStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tfontWeight: \"bold\",\n\t\tpadding: \"8px\",\n\t\twidth: \"100%\",\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const listStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 100px)\",\n\t\toverflowY: \"auto\",\n\t};\n};\n\nexport const nameColumnStyle = (props, context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const scopeColumnStyle = (context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n};\n\n\n\nexport const modalFootStyle = (state, context, img) => {\n\n\tconst btnState = !state.newGroupOwner || state.transferringOwnership ? { \n\t\tdisabled: \"true\",\n\t\tpointerEvents: \"none\",\n\t} : {};\n\n\tconst loadingState = state.transferringOwnership ? {\n\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.backgroundColor.blue}`,\n\t} : {};\n\n\tconst textMargin = state.transferringOwnership ? { marginRight: \"24px\" } : {};\n\n\treturn {\n\t\tpaddingTop: \"24px\",\n\t\ttextAlign: \"center\",\n\t\tbutton: {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.blue}`,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tfontSize: \"14px\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\t...btnState,\n\t\t\t...loadingState,\n\t\t\tspan: {\n\t\t\t\t...textMargin,\n\t\t\t},\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/transferring.446449d0.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatTransferOwnershipMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n\tmodalFootStyle,\n\tmodalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\nimport transferIcon from \"./resources/transferring.svg\";\n\nclass CometChatTransferOwnershipMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(context.theme.breakPoints[1]);\n\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", context.language);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", context.language);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: userColumnTitle,\n\t\t\tnewGroupOwner: null,\n\t\t\ttransferringOwnership: false,\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CHANGE_OWNERSHIP_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeOwnership(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateGroupOwner = member => {\n\t\tthis.setState({ newGroupOwner: member?.uid });\n\t};\n\n\ttransferOwnership = () => {\n\n\t\tconst guid = this.context?.item?.guid;\n\t\tconst uid = this.state.newGroupOwner;\n\n\t\tif (!guid || !uid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferringOwnership: true });\n\t\tCometChat.transferGroupOwnership(guid, uid).then(response => {\n\t\t\tthis.setState({ transferringOwnership: false });\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"], uid);\n\n\t\t}).catch(error => {\n\t\t\tthis.setState({ transferringOwnership: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t});\n\t};\n\n\tchangeOwnership = () => {};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst memberList = [...this.context.groupMembers];\n\t\tconst groupMembers = memberList\n\t\t\t.filter(member => member?.uid !== this.props?.loggedinuser?.uid)\n\t\t\t.map(member => {\n\t\t\t\treturn <CometChatTransferOwnershipMemberListItem loggedinuser={this.props.loggedinuser} key={member?.uid} checked={this.updateGroupOwner} member={member} actionGenerated={this.updateMembers} />;\n\t\t\t});\n\n\t\tlet transferBtn = null;\n\t\tif(memberList.length) {\n\n\t\t\tconst transferText = this.state.transferringOwnership ? Translator.translate(\"TRANSFERRING\", this.context.language) : Translator.translate(\"TRANSFER\", this.context.language);\n\t\t\ttransferBtn = (\n\t\t\t\t<div css={modalFootStyle(this.state, this.context, transferIcon)} className=\"modal__transferownership\">\n\t\t\t\t\t<button type=\"button\" onClick={this.transferOwnership}>\n\t\t\t\t\t\t<span>{transferText}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.props, this.context)} className=\"modal__groupmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n\t\t\t\t\t\t<div css={modalListStyle(this.context)} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.props, this.context)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{transferBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberList };\n","export const modalRowStyle = (props, context) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"14px\",\n\t\tpadding: \"8px\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tborderLeft: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRight: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const modalColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfloat: \"left\",\n\t\twidth: \"36px\",\n\t\theight: \"36px\",\n\t\tmarginRight: \"8px\",\n\t};\n};\n\nexport const nameStyle = () => {\n\treturn {\n\t\tmargin: \"10px\",\n\t\twidth: \"calc(100% - 50px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const selectionColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\t\"span\": {\n\t\t\tfontSize: \"12px\",\n\t\t\tdisplay: \"block\",\n\t\t\tpaddingRight: \"8px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n\n};\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, context) => {\n\treturn {\n\t\tdisplay: \"none\",\n\t\t\" + label\": {\n\t\t\tdisplay: \"block\",\n\t\t\tcursor: \"pointer\",\n\t\t\tmask: `url(${inactiveStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tuserSelect: \"none\",\n\t\t\tpadding: \"8px\",\n\t\t},\n\t\t\"&:checked + label\": {\n\t\t\tmask: `url(${activeStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tpadding: \"8px\",\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { modalRowStyle, modalColumnStyle, avatarStyle, nameStyle, selectionColumnStyle, selectionBoxStyle } from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nclass CometChatTransferOwnershipMemberListItem extends React.Component {\n\tstatic contextType = CometChatContext;\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\thandleCheck = e => {\n\t\t\n\t\tthis.setState(this.toggleSelectedState);\n\t\tthis.props.checked(this.props.member);\n\t};\n\n\ttoggleSelectedState = state => {\n\t\treturn {\n\t\t\tisSelected: !state.isSelected,\n\t\t};\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div css={modalRowStyle(this.props, this.context)}>\n\t\t\t\t<div css={modalColumnStyle(this.context)} className=\"memberinfo\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t\t<CometChatAvatar user={this.props.member} />\n\t\t\t\t\t\t<CometChatUserPresence status={this.props.member.status} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t{this.props.member.name}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={selectionColumnStyle(this.context)} className=\"selection\">\n\t\t\t\t\t<span>{this.context.roles[this.props.member.scope]}</span>\n\t\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, this.context)} type=\"radio\" name=\"transferOwnership\" checked={this.state.checked} id={this.props.member.uid + \"sel\"} onChange={this.handleCheck} />\n\t\t\t\t\t<label htmlFor={this.props.member.uid + \"sel\"}>&nbsp;</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberListItem };","export const chatWrapperStyle = (props, state) => {\n\n\tlet borderStyle = {};\n\tif (props._parent.trim().length === 0) {\n\t\tif (state.viewdetailscreen || state.threadmessageview) {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t} else {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderRight: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t}\n\t}\n\n\tconst mq = [...props.theme.breakPoints];\n\n\tconst secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\n        width: \"calc(100% - 400px)\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        },\n        [`@media ${mq[3]}, ${mq[4]}`]: {\n            width: \"0\",\n            display: \"none\",\n        },\n    } : {\n        width: \"100%\",\n    };\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"relative\",\n\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t...borderStyle,\n\t\t...secondaryViewWidth,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t\t\"::-webkit-scrollbar\": {\n\t\t\t\twidth: \"8px\",\n\t\t\t\theight: \"4px\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-track\": {\n\t\t\t\tbackground: \"#ffffff00\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\t\tbackground: \"#ccc\",\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackground: \"#aaa\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const chatSecondaryStyle = (props) => {\n\n    const borderStyle = (props._parent.trim().length === 0) ? {\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        float: \"right\",\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        width: \"400px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        order: \"3\",\n        ...borderStyle,\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n            position: \"absolute!important\",\n            right: \"0!important\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n        }\n    }\n}\n\nexport const reactionsWrapperStyle = () => {\n\n    return {\n        position: \"absolute\", \n        width: \"100%\", \n        height: \"100%\", \n        top: \"0\", \n        right: \"0\",\n        zIndex: \"2\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"center\"\n    }\n}\n\n\nexport const messagePaneTopStyle = () => {\n\n    return {\n        top: \"75px\",\n        position: \"absolute\",\n        width: \"auto\",\n        right: \"auto\",\n        left: \"50%\",\n        fontWeight: \"700\",\n        zIndex: \"200\",\n        transform: \"translateX(-50%)\",\n    }\n}\n\nexport const messagePaneBannerStyle = props => {\n\n\treturn {\n\t\tmarginBottom: \"0\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"13px\",\n\t\tflex: \"1\",\n\t\tbackground: `${props.theme.color.blue}`,\n\t\tborderRadius: \"6px\",\n\t\tzIndex: 200,\n\t};\n};\n\nexport const messagePaneUnreadBannerStyle = () => {\n\n    return {\n        height: \"28px\",\n        borderRadius: \"14px\",\n        display: \"flex\",\n        flex: \"1\",\n        alignItems: \"center\",\n    }\n}\n\nexport const messagePaneUnreadBannerMessageStyle = props => {\n\n\treturn {\n\t\tpadding: \"0 16px\",\n\t\tflex: \"1\",\n\t\ttextAlign: \"center\",\n\t\ttextShadow: \"0 1px rgba(0, 0, 0, .15)\",\n\t\twhiteSpace: \"nowrap\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\tcolor: `${props.theme.color.white}`,\n\t};\n};\n\nexport const iconArrowDownStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"inline-flex\",\n        height: \"20px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingRight: \"8px\",\n    }\n}\n\nexport const chatContainerStyle = () => {\n\n    return {\n        display: \"flex\", \n        width: \"100%\", \n        height: \"100%\"\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport {CometChat} from \"@cometchat-pro/chat\";\n\nimport {\n\tCometChatMessageHeader, \n\tCometChatMessageList, \n\tCometChatMessageComposer, \n\tCometChatLiveReactions, \n\tCometChatMessageThread, \n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatIncomingCall, \n\tCometChatOutgoingCall, \n\tCometChatOutgoingDirectCall, \n\tCometChatIncomingDirectCall\n} from \"../../Calls\";\n\nimport {CometChatUserDetails} from \"../../Users\";\nimport {CometChatGroupDetails} from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport {CometChatContextProvider, CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport {checkMessageForExtensionsData} from \"../../../util/common\";\nimport {SoundManager} from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatWrapperStyle, \n\tchatSecondaryStyle, \n\treactionsWrapperStyle, \n\tmessagePaneTopStyle, \n\tmessagePaneBannerStyle, \n\tmessagePaneUnreadBannerStyle, \n\tmessagePaneUnreadBannerMessageStyle, \n\ticonArrowDownStyle, \n\tchatContainerStyle\n} from \"./style\";\n\nclass CometChatMessages extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tliveReaction: false,\n\t\t\tmessageToReact: null,\n\t\t\tunreadMessages: [],\n\t\t\tviewdetailscreen: false,\n\t\t\tthreadmessageview: false,\n\t\t\tthreadmessagetype: null,\n\t\t\tthreadmessageitem: {},\n\t\t\tthreadmessageparent: {},\n\t\t\tviewOriginalImage: false,\n\t\t\tenableGroupActionMessages: false,\n\t\t\tenableCallActionMessages: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.composerRef = React.createRef();\n\t\tthis.messageListRef = React.createRef();\n\t\tthis.outgoingCallRef = React.createRef();\n\t\tthis.outgoingDirectCallRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.reactionName = \"heart\";\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().item;\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (Object.keys(this.item).length) {\n\t\t\tconst ifChatWindowChanged = () => {\n\t\t\t\tlet output = false;\n\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.item.uid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.item.guid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.type !== this.getContext().type) {\n\t\t\t\t\toutput = true;\n\t\t\t\t}\n\n\t\t\t\treturn output;\n\t\t\t};\n\n\t\t\tif (ifChatWindowChanged() === true) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", threadmessageview: false, viewdetailscreen: false, unreadMessages: [] });\n\t\t\t}\n\t\t}\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : {};\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\t/**\n\t\t * Custom message to be appended or updated for direct calling\n\t\t */\n\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.getContext().directCallCustomMessage).length &&\n\t\t\t\tthis.getContext().directCallCustomMessageAction.trim().length &&\n\t\t\t\t(this.getContext().directCallCustomMessage !== this.directCallCustomMessage || this.getContext().directCallCustomMessageAction !== this.directCallCustomMessageAction)\n\t\t\t) {\n\t\t\t\tconst customMessage = this.getContext().directCallCustomMessage;\n\t\t\t\tconst messageAction = this.getContext().directCallCustomMessageAction.trim();\n\n\t\t\t\tswitch (messageAction) {\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t\t\tthis.appendMessage(customMessage);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]: {\n\t\t\t\t\t\tthis.messageSent(customMessage);\n\t\t\t\t\t\t//this.getContext().setLastMessage(customMessage[0]);\n\t\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...customMessage[0] });\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.getContext().setDirectCallCustomMessage({}, \"\");\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.directCallCustomMessage = this.getContext().directCallCustomMessage;\n\t\t\tthis.directCallCustomMessageAction = this.getContext().directCallCustomMessageAction.trim();\n\t\t}\n\t}\n\n\tenableGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupActionMessages) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableCallActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCallActionMessages) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCallActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, messages, key, group, options) => {\n\n\t\tswitch (action) \n\t\t{\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.parentMessageId) {\n\t\t\t\t\t\tthis.updateReplyCount(messages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_READ\"]: {\n\t\t\t\tif (this.props?.actionGenerated) {\n\t\t\t\t\tthis.props?.actionGenerated(action, messages);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\n\t\t\t\tthis.appendMessage(messages);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...messages[0] });\n\t\t\t\t//this.getContext().setLastMessage(messages[0]);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]: {\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\t//update the parent message of thread message\n\t\t\t\tthis.updateParentThreadedMessage(key, \"edit\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]: {\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\t//remove the thread message\n\t\t\t\tthis.updateParentThreadedMessage(messages[0], \"delete\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGES_FETCHED\"]:\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REFRESHING_MESSAGES\"]:\n\t\t\t\tthis.refreshingMessages();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_REFRESHED\"]:\n\t\t\t\tthis.messageRefreshed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"NEW_MESSAGES\"]:\n\t\t\t\tthis.newMessagesArrived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]:\n\t\t\t\tthis.jumpToMessages(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.groupUpdated(action, messages, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.appendCallMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]:\n\t\t\t\tthis.audioCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]:\n\t\t\t\tthis.videoCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_USER_DETAIL\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tthis.props.actionGenerated(action);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"STOP_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(false);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.liveReactionReceived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"JOIN_DIRECT_CALL\"]: {\n\t\t\t\t//if used in a chat widget, trigger the event to the app component as directcall component is included outside of iframe\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\t} else {\n\t\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\t\tthis.outgoingDirectCallRef.joinCall(sessionID);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.viewThreadedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"]:\n\t\t\t\tthis.threadMessageComposed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"]:\n\t\t\t\tthis.closeThreadedMessage();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberAddedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberUnbannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberScopeChangedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberKickedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberBannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR\"]:\n\t\t\t\tthis.errorHandler(key);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INFO\"]:\n\t\t\t\tthis.infoMessageHandler(key);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\terrorHandler = errorCode => {\n\t\tif (typeof this.toastRef.setError === \"function\") {\n\t\t\tthis.toastRef?.setError(errorCode);\n\t\t}\n\t};\n\n\tinfoMessageHandler = infoCode => {\n\t\tif (typeof this.toastRef.setInfo === \"function\") {\n\t\t\tthis.toastRef?.setInfo(infoCode);\n\t\t}\n\t};\n\n\tappendMemberAddedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_ADDED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberUnbannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_UNBANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberScopeChangedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst newScope = Translator.translate(eachMember.scope, this.props.lang);\n\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tnewScope: newScope,\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberKickedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_KICKED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberBannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_BANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\ttoggleDetailView = () => {\n\t\tlet viewdetail = !this.state.viewdetailscreen;\n\t\tthis.setState({ viewdetailscreen: viewdetail, threadmessageview: false });\n\t};\n\n\tviewThreadedMessage = parentMessage => {\n\t\tconst message = { ...parentMessage };\n\t\tconst threaditem = { ...this.getContext().item };\n\t\tthis.setState({\n\t\t\tthreadmessageview: true,\n\t\t\tthreadmessageparent: message,\n\t\t\tthreadmessageitem: threaditem,\n\t\t\tthreadmessagetype: this.getContext().type,\n\t\t\tviewdetailscreen: false,\n\t\t});\n\t};\n\n\tthreadMessageComposed = messages => {\n\t\tif (this.getContext().type !== this.state.threadmessagetype) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.state.threadmessageitem.guid) || (this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.state.threadmessageitem.uid)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.updateReplyCount(messages);\n\t};\n\n\tcloseThreadedMessage = () => {\n\t\tthis.setState({ threadmessageview: false, viewdetailscreen: false });\n\t};\n\n\t/*\n\tUpdating parent message of threaded conversation, when the message is edited or deleted\n\t*/\n\tupdateParentThreadedMessage = (message, action) => {\n\t\tif (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tthis.setState({ threadmessageparent: { ...message }, threadmessageview: false });\n\t\t} else {\n\t\t\tthis.setState({ threadmessageparent: { ...message } });\n\t\t}\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.getContext().item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.getContext().item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\taudioCall = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.AUDIO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_AUDIO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t\tthis.appendCallMessage(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tvideoCall = () => {\n\t\t/*\n\t\tDirect calling for groups\n\t\t*/\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"]);\n\t\t\t} else {\n\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\tthis.outgoingDirectCallRef.startCall(sessionID);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\tDefault calling for one-on-one\n\t\t*/\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.VIDEO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_VIDEO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleReaction = flag => {\n\t\tthis.setState({ liveReaction: flag });\n\t};\n\n\tliveReactionReceived = reaction => {\n\n\t\tconst stopReaction = () => {\n\t\t\tthis.toggleReaction(false);\n\t\t}\n\n\t\tif (reaction.data.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\n\t\t\tthis.reactionName = reaction.data.reaction;\n\t\t\tthis.toggleReaction(true);\n\n\t\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\t\t\tsetTimeout(stopReaction, liveReactionInterval);\n\t\t}\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\t//remove edit preview when message is deleted\n\t\t\t\tif (deletedMessage.id === this.state.messageToBeEdited.id) {\n\t\t\t\t\tthis.setState({ messageToBeEdited: \"\" });\n\t\t\t\t}\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t\t//this.getContext().setLastMessage(deletedMessage);\n\t\t\t\t}\n\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\t\t\t\tthis.updateParentThreadedMessage(deletedMessage, \"delete\");\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message, replyPreview: null });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tthis.updateParentThreadedMessage(newMessageObj, \"edit\");\n\n\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t\t//this.getContext().setLastMessage(newMessageObj);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tmessageList.sort((a, b) => a.id - b.id);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t\t}\n\t};\n\n\trefreshingMessages = () => {\n\t\tthis.setState({ messageList: [], messageToBeEdited: \"\", replyPreview: null, liveReaction: false, messageToReact: null });\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\t};\n\n\tmessageRefreshed = messages => {\n\t\tconst messageList = [...messages];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\tnewMessagesArrived = newMessage => {\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tunreadMessages.push(newMessage[0]);\n\n\t\tthis.setState({ unreadMessages: unreadMessages });\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"NEW_MESSAGES\"], { unreadMessages: unreadMessages });\n\t};\n\n\tmarkMessagesAsRead = scrollToBottom => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\n\t\tunreadMessages.forEach(unreadMessage => {\n\t\t\tif (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t}\n\t\t\t} else if (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({ messageList: messageList, scrollToBottom: scrollToBottom, unreadMessages: [] });\n\t};\n\n\tjumpToMessages = () => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\t\tmessageList = messageList.concat(unreadMessages);\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\n\t\tif (messageList.length > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\tif (this.messageListRef) {\n\t\t\t\tthis.messageListRef.reInitializeMessageBuilder();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.markMessagesAsRead(true);\n\t\t}\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList, ...message];\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages, scrollToBottom: false });\n\t};\n\n\tgroupUpdated = (action, message, group, options) => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === true) {\n\t\t\tthis.appendMessage([message]);\n\t\t}\n\n\t\tthis.props.actionGenerated(action, message, group, options);\n\t};\n\n\tappendCallMessage = message => {\n\t\t//if call action messages are disabled\n\t\tif (this.state.enableCallActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.appendMessage([message]);\n\t};\n\n\tupdateReplyCount = messages => {\n\t\tconst receivedMessage = messages[0];\n\n\t\tlet messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === receivedMessage.parentMessageId);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\t\t\tlet replyCount = messageObj.hasOwnProperty(\"replyCount\") ? messageObj.replyCount : 0;\n\t\t\treplyCount = replyCount + 1;\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, { replyCount: replyCount });\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t\t}\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\t\tif (message.sender.uid === this.loggedInUser.uid || message.category === CometChat.CATEGORY_CUSTOM) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If smart-replies feature is enabled\n\t\t */\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isSmartRepliesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\t\t\tthis.setState({ replyPreview: message });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ replyPreview: null });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\t/**\n\t\t * If used as standalone component\n\t\t */\n\t\tif (this.props._parent.trim().length === 0 && this.props.chatWithUser.trim().length === 0 && this.props.chatWithGroup.trim().length === 0) {\n\t\t\treturn (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} _component={enums.CONSTANTS[\"MESSAGES_COMPONENT\"]} user={this.props.chatWithUser} group={this.props.chatWithGroup}>\n\t\t\t\t\t<div></div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t} else if (this.props._parent.trim().length && Object.keys(this.getContext().item).length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\treaction={this.reactionName}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\tlet newMessageIndicator = null;\n\t\tif (this.state.unreadMessages.length) {\n\t\t\tconst unreadMessageCount = this.state.unreadMessages.length;\n\t\t\tconst messageText = unreadMessageCount > 1 ? `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGES\", this.props.lang)}` : `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGE\", this.props.lang)}`;\n\t\t\tnewMessageIndicator = (\n\t\t\t\t<div css={messagePaneTopStyle()} className=\"message_pane__top\">\n\t\t\t\t\t<div css={messagePaneBannerStyle(this.props)} className=\"message_pane__banner\">\n\t\t\t\t\t\t<div css={messagePaneUnreadBannerStyle()} className=\"message_pane__unread_banner__banner\" title={Translator.translate(\"JUMP\", this.props.lang)}>\n\t\t\t\t\t\t\t<button type=\"button\" css={messagePaneUnreadBannerMessageStyle(this.props)} className=\"message_pane__unread_banner__msg\" onClick={this.jumpToMessages}>\n\t\t\t\t\t\t\t\t<span css={iconArrowDownStyle()} className=\"icon--arrow-down\">\n\t\t\t\t\t\t\t\t\t&#x2193;{\" \"}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t//if sending messages are disabled for chat wigdet in dashboard\n\t\tif ((this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\tlet liveReactionView = null;\n\t\tif (this.state.liveReaction) {\n\t\t\tliveReactionView = (\n\t\t\t\t<div css={reactionsWrapperStyle()}>\n\t\t\t\t\t<CometChatLiveReactions reaction={this.reactionName} theme={this.props.theme} lang={this.props.lang} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\tIf used as a standalone component\n\t\t*/\n\t\tlet incomingCallView = null;\n\t\tlet incomingDirectCallView = null;\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tincomingCallView = <CometChatIncomingCall actionGenerated={this.actionHandler} />;\n\n\t\t\tincomingDirectCallView = <CometChatIncomingDirectCall actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\t//don't include it when opened in chat widget\n\t\tlet outgoingDirectCallView = null;\n\t\tlet outgoingCallView = null;\n\t\tif (Object.keys(this.props.widgetsettings).length === 0) {\n\t\t\toutgoingCallView = <CometChatOutgoingCall ref={el => (this.outgoingCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\toutgoingDirectCallView = <CometChatOutgoingDirectCall ref={el => (this.outgoingDirectCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet detailScreen = null;\n\t\tif (this.state.viewdetailscreen) {\n\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatUserDetails actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatGroupDetails actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet threadMessageView = null;\n\t\tif (this.state.threadmessageview) {\n\t\t\tthreadMessageView = (\n\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t<CometChatMessageThread activeTab={this.state.activeTab} threadItem={this.state.threadmessageitem} threadType={this.state.threadmessagetype} parentMessage={this.state.threadmessageparent} loggedInUser={this.loggedInUser} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} />;\n\t\t}\n\n\t\tlet messageComponent = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={chatWrapperStyle(this.props, this.state)} className=\"main__chat\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<CometChatMessageHeader sidebar={this.props.sidebar} viewdetail={this.props.viewdetail === false ? false : true} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatMessageList\n\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\tthis.messageListRef = el;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmessages={this.state.messageList}\n\t\t\t\t\t\tscrollToBottom={this.state.scrollToBottom}\n\t\t\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t\t\t/>\n\t\t\t\t\t{liveReactionView}\n\t\t\t\t\t{messageComposer}\n\t\t\t\t\t{newMessageIndicator}\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{originalImageView}\n\t\t\t\t{detailScreen}\n\t\t\t\t{threadMessageView}\n\t\t\t\t{incomingCallView}\n\t\t\t\t{outgoingCallView}\n\t\t\t\t{incomingDirectCallView}\n\t\t\t\t{outgoingDirectCallView}\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet messageWrapper = messageComponent;\n\t\t/*\n\t\tIf used as a standalone component\n\t\t**/\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tmessageWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t\t<div css={chatContainerStyle()}>{messageComponent}</div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn messageWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\t_parent: \"\",\n\twidgetsettings: {},\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\t_parent: PropTypes.string,\n\twidgetsettings: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n};\n\nexport {CometChatMessages};","export const wrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\theight: \" 69px\",\n\t\tdisplay: \"flex\",\n\t};\n};\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n    }\n}\n\nexport const headerDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"calc(100% - 40px)\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        lineHeight: \"20px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const messageContainerStyle = (event) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        minHeight: \"calc(100% - 68px)\",\n        order: \"2\",\n        \".chat__list\": {\n            minHeight: \"250px\",\n            \".list__wrapper\": {\n                \"::-webkit-scrollbar\": {\n                    display: \"none\"\n                },\n                scrollbarWidth: \"none\"\n            }\n        },\n    }\n}\n\nexport const parentMessageStyle = (message) => {\n\n    const alignment = (message.messageFrom === \"sender\") ? {\n        justifyContent: \"flex-end\",\n    } : {\n        justifyContent: \"flex-start\",\n    };\n\n    return {\n        padding: \"14px 16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        ...alignment,\n        \".sender__message__container, .receiver__message__container\": {\n            maxWidth: \"100%\",\n            \"&:hover\": {\n                \".message__actions\": {\n                    display: \"none\"\n                }\n            }\n        },\n        \".replycount\": {\n            display: \"none\"\n        }\n    }\n}\n\nexport const messageSeparatorStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tposition: \"relative\",\n\t\tmargin: \"7px 16px\",\n\t\theight: \"15px\",\n\t\thr: {\n\t\t\tflex: \"1\",\n\t\t\tmargin: \"1px 0 0 0\",\n\t\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\t},\n\t};\n};\n\nexport const messageReplyStyle = () => {\n\n    return {\n        marginRight: \"12px\",\n        fontSize: \"12px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { \n\tCometChatMessageList, CometChatMessageComposer,\n\tCometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n\tCometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n\tCometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n\tCometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n\tCometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n\tCometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n\tCometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n\tCometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n\tCometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\twrapperStyle,\n\theaderStyle,\n\theaderWrapperStyle,\n\theaderDetailStyle,\n\theaderTitleStyle,\n\theaderNameStyle,\n\theaderCloseStyle,\n\tmessageContainerStyle,\n\tparentMessageStyle,\n\tmessageSeparatorStyle,\n\tmessageReplyStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatMessageThread extends React.PureComponent {\n\tloggedInUser = null;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\treplyCount: 0,\n\t\t\treplyPreview: null,\n\t\t\tmessageToBeEdited: null,\n\t\t\tparentMessage: props.parentMessage,\n\t\t\tviewOriginalImage: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.composerRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.loggedInUser = this.props.loggedInUser;\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tif (prevProps.parentMessage !== this.props.parentMessage) {\n\t\t\tif (prevProps.parentMessage.id !== this.props.parentMessage.id) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, parentMessage: this.props.parentMessage });\n\t\t\t} else if (prevProps.parentMessage.data !== this.props.parentMessage.data) {\n\t\t\t\tthis.setState({ parentMessage: this.props.parentMessage });\n\t\t\t}\n\t\t}\n\t}\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.context.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\terrorHandler = errorCode => {\n\t\tthis.toastRef.setError(errorCode);\n\t};\n\n\tparentMessageEdited = message => {\n\t\tconst parentMessage = { ...this.props.parentMessage };\n\n\t\tif (parentMessage.id === message.id) {\n\t\t\tconst newMessageObj = { ...message };\n\t\t\tthis.setState({ parentMessage: newMessageObj });\n\t\t}\n\t};\n\n\tactionHandler = (action, messages) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.hasOwnProperty(\"parentMessageId\") && message.parentMessageId === this.state.parentMessage.id) {\n\t\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"], messages);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase \"messageFetched\":\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]:\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\t\t}\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = { ...messageObj, ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tif (messageList.length - messageKey === 1) {\n\t\t\t\t//this.context.setLastMessage(newMessageObj);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t}\n\t\t}\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\t//this.context.setLastMessage(deletedMessage);\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\n\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\tthis.setState({ replyPreview: message });\n\t\t} else {\n\t\t\tthis.setState({ replyPreview: null });\n\t\t}\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList];\n\t\tmessages = messages.concat(message);\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\t\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase \"message\":\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatReceiverTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatReceiverImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatReceiverFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatReceiverAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatReceiverVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatSenderStickerBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\t\tlet component;\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetParentMessageComponent = message => {\n\t\tlet component = null;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet parentMessage = this.getParentMessageComponent(this.state.parentMessage);\n\n\t\tlet seperator = (\n\t\t\t<div css={messageSeparatorStyle(this.props)}>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t);\n\t\tif (this.state.parentMessage.hasOwnProperty(\"replyCount\")) {\n\t\t\tconst replyCount = this.state.parentMessage.replyCount;\n\t\t\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", this.context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", this.context.language)}`;\n\n\t\t\tseperator = (\n\t\t\t\t<div css={messageSeparatorStyle(this.context)} className=\"message__separator\">\n\t\t\t\t\t<span css={messageReplyStyle()} className=\"message__replies\">\n\t\t\t\t\t\t{replyText}\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer open={true} close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} lang={this.context.language} />;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tparentMessageId={this.props.parentMessage.id}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\n\t\t//if send messages feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={wrapperStyle(this.context)} className=\"thread__chat\">\n\t\t\t\t\t<div css={headerStyle(this.context)} className=\"chat__header\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"header__wrapper\">\n\t\t\t\t\t\t\t<div css={headerDetailStyle()} className=\"header__details\">\n\t\t\t\t\t\t\t\t<h6 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"THREAD\", this.context.language)}\n\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t<span css={headerNameStyle()} className=\"header__username\">\n\t\t\t\t\t\t\t\t\t{this.props.threadItem.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headerCloseStyle(clearIcon, this.context)} className=\"header__close\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"])}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageContainerStyle()} className=\"chat__message__container\">\n\t\t\t\t\t\t<div css={parentMessageStyle(this.props.parentMessage)} className=\"parent__message\">\n\t\t\t\t\t\t\t{parentMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{seperator}\n\t\t\t\t\t\t<CometChatMessageList messages={this.state.messageList} item={this.props.threadItem} type={this.props.threadType} scrollToBottom={this.state.scrollToBottom} parentMessageId={this.props.parentMessage.id} actionGenerated={this.actionHandler} />\n\t\t\t\t\t\t{messageComposer}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{originalImageView}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageThread.defaultProps = {\n\ttheme: theme\n};\n\nCometChatMessageThread.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatMessageThread };\n","export const msgTimestampStyle = (context, props, loggedInUser) => {\n\n    const colorValue = (props.message?.sender?.uid !== loggedInUser?.uid) ? {\n        color: `${context.theme.color.helpText}`,\n    } : {};\n\n    return {\n        display: \"flex\",\n        fontSize: \"11px\",\n        fontWeight: \"500\",\n        lineHeight: \"12px\",\n        textTransform: \"uppercase\",\n        ...colorValue,\n    }\n}\n\nexport const iconStyle = (img, color) => {\n\n    return {\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${color}`,\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/message-read.573b8c8c.svg\";","export default __webpack_public_path__ + \"static/media/message-delivered.fbc54350.svg\";","export default __webpack_public_path__ + \"static/media/message-sent.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/wait.89c8da97.svg\";","export default __webpack_public_path__ + \"static/media/warning-small.6ad6a0ca.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { getMessageSentTime } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport { msgTimestampStyle, iconStyle } from \"./style\";\n\nimport blueDoubleTick from \"./resources/message-read.svg\";\nimport greyDoubleTick from \"./resources/message-delivered.svg\";\nimport greyTick from \"./resources/message-sent.svg\";\nimport sendingTick from \"./resources/wait.svg\";\nimport errorTick from \"./resources/warning-small.svg\";\n\nclass CometChatReadReceipt extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\treceipts: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\ttoggleReadReceipts = () => {\n\t\t/**\n\t\t * if delivery receipts feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isDeliveryReceiptsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.receipts) {\n\t\t\t\t\tthis.setState({ receipts: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.receipts !== false) {\n\t\t\t\t\tthis.setState({ receipts: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\trender() {\n\t\t\n\t\tlet ticks,\n\t\t\treceiptText = null,\n\t\t\tdateField = null,\n\t\t\tcolor = null;\n\t\t\n\t\tif (this.props.message?.sender?.uid === this.loggedInUser?.uid) {\n\n\t\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"sentAt\")) {\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"readAt\")) {\n\n\t\t\t\t\t\tticks = blueDoubleTick;\n\t\t\t\t\t\treceiptText = \"SEEN\";\n\t\t\t\t\t\tcolor = this.context.theme.primaryColor;\n\t\t\t\t\t\tdateField = this.props.message.readAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"deliveredAt\")) {\n\n\t\t\t\t\t\tticks = greyDoubleTick;\n\t\t\t\t\t\treceiptText = \"DELIVERED\";\n\t\t\t\t\t\tdateField = this.props.message.deliveredAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"sentAt\")) {\n\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdateField = this.props.message.sentAt;\n\t\t}\n\n\t\t//if delivery receipts are disabled\n\t\tif (this.state.receipts === false) {\n\t\t\tticks = null;\n\t\t}\n\n\t\tconst receipt = ticks ? <i css={iconStyle(ticks, color)} title={Translator.translate(receiptText, this.context.language)}></i> : null;\n\n\t\tconst timestamp = getMessageSentTime(dateField, this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<span css={msgTimestampStyle(this.context, this.props, this.loggedInUser)} className=\"message__timestamp\">\n\t\t\t\t\t{timestamp}\n\t\t\t\t</span>\n\t\t\t\t{receipt}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReadReceipt.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatReadReceipt.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReadReceipt };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageAudioContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-start\",\n        \" > audio\": {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageAudioContainerStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverAudioMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageAudioContainerStyle()} className=\"message__audio__container\">\n\t\t\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t\t\t<audio controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverAudioMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 30px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst messageTitle = `${this.props.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.context.language)}`;\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__directcall__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} title={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageFileContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t\t\"> a\": {\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\twidth: \"auto\",\n\t\t\tfontSize: \"14px\",\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tcursor: \"pointer\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\tmarginRight: \"8px\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { \n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageFileContainerStyle,\n\tmessageFileWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatReceiverFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageFileContainerStyle()} className=\"message__file__container\">\n\t\t\t\t\t\t\t<div css={messageFileWrapperStyle(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t\t\t<a href={this.props.message.data.attachments[0].url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t\t\t\t\t<label>{this.props.message.data.attachments[0].name}</label>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageImgContainerStyle,\n\tmessageImgWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatReceiverImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", this.context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\t\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tif (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.props.message.data.attachments[0].url;\n\t\t\tconst imageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.onload = () => {\n\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(response))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} onClick={this.open} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverImageMessageBubble };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (parsedMessage, emojiMessage, showVariation) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n            \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview} from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result && result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageText = this.getMessageText();\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__text__container\">\n\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverTextMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageVideoContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: \"flex-start\",\n        '> video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageVideoContainerStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverVideoMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageVideoContainerStyle()} className=\"message__video__container\">\n\t\t\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t\t\t<video controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverVideoMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverVideoMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverVideoMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-end\",\n        ' > audio': {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",        \n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderAudioMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\t\t} else if (this.props.message.data.hasOwnProperty(\"attachments\") && this.props.message.data.attachments.length) {\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t<audio controls src={this.state.fileData?.fileUrl}></audio>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatSenderAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderAudioMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n\t\t\tmargin: \"0\",\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordBreak: \"break-word\",\n\t\t\ttextAlign: \"left\",\n\t\t\twidth: \"calc(100% - 30px)\",\n\t\t\tfontSize: \"14px\",\n\t\t\tmarginLeft: \"8px\",\n\t\t};\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatSenderDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tconst messageTitle = Translator.translate(\"YOU_INITIATED_GROUP_CALL\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} alt={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapper = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"100%\",\n\t\t\".message__file\": {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tmaxWidth: \"100%\",\n\t\t\tfontSize: \"14px\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\t\"> p\": {\n\t\t\t\tmargin: \"0\",\n\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\twordBreak: \"break-word\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmarginLeft: \"8px\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t\tflexShrink: \"0\"\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageFileWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSenderFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\t\t\t\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tgetFileData = () => {\n\t\t\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\t\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet fileMessage = null;\n\t\tif (this.state.fileData.hasOwnProperty(\"fileUrl\")) {\n\t\t\tfileMessage = (\n\t\t\t\t<a href={this.state.fileData?.fileUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"message__file\">\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</a>\n\t\t\t);\n\t\t} else {\n\t\t\tfileMessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageFileWrapper(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t<div className=\"message__file\">{fileMessage}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageImgWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatSenderImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\ttimer = null;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tlet img = new Image();\n\t\tlet imageName;\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\timg.src = reader.result;\n\t\t\t};\n\t\t\timageName = fileMetadata[\"name\"];\n\t\t\treader.readAsDataURL(fileMetadata);\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.src = fileUrl;\n\t\t}\n\n\t\timg.onload = () => {\n\t\t\t//only if there is a change in the image path, update state\n\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t}\n\t\t};\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(imgUrl);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(imgUrl))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} onClick={this.open} className=\"message__img__wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderImageMessageBubble };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        flex: \"1 1\"\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (props, parsedMessage, emojiMessage, showVariation) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n           \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n           }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messageTextRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\t\t\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (prevProps.message !== this.props.message) {\n\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(this.props, parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet messageText = this.getMessageText();\n\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\" ref={this.messageTextRef}>\n\t\t\t\t\t{messageText}\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderTextMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: 'flex-end',\n        ' > video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderVideoMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t<video controls src={this.state.fileData?.fileUrl}></video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderVideoMessageBubble.defaultProps = {\n\tactionGenerated: () => {},\n};\n\nCometChatSenderVideoMessageBubble.propTypes = {\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\n\nexport { CometChatSenderVideoMessageBubble };","export const replyCountStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: \"500\",\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"lowercase\",\n\t\tpadding: \"0 10px\",\n\t\tcursor: \"pointer\",\n\t\tcolor: context.theme.color.blue,\n\t\t\"&:hover\": {\n\t\t\ttextDecoration: \"underline\",\n\t\t},\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {replyCountStyle} from \"./style\";\n\nconst CometChatThreadedMessageReplyCount = props => {\n\n\tconst context = React.useContext(CometChatContext);\n\tconst [reply, setReply] = React.useState(false);\n\n\tconst toggleReply = () => {\n\t\tcontext.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== reply) {\n\t\t\t\t\tsetReply(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (reply !== false) {\n\t\t\t\t\tsetReply(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tReact.useEffect(toggleReply);\n\n\tconst viewThread = () => {\n\t\tprops.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], props.message);\n\t}\n\n\tconst replyCount = props.message.replyCount;\n\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", context.language)}`;\n\n\tlet replies = (\n\t\t<span css={replyCountStyle(context)} className=\"replycount\" onClick={viewThread}>\n\t\t\t{replyText}\n\t\t</span>\n\t);\n\n\tif (props.message.hasOwnProperty(\"replyCount\") === false) {\n\t\treplies = null;\n\t}\n\n\t//if threadedchats feature is disabled\n\tif (reply === false) {\n\t\treplies = null;\n\t}\n\n\treturn replies;\n};\n\n// Specifies the default values for props:\nCometChatThreadedMessageReplyCount.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatThreadedMessageReplyCount.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport {CometChatThreadedMessageReplyCount};\n","export const chatScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .chats\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const chatScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatConversationList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tchatScreenStyle,\n\tchatScreenSidebarStyle,\n\tchatScreenMainStyle,\n} from \"./style\";\n\nclass CometChatConversationListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttab: \"conversations\",\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (item, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n/**\n If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n */\n\tgroupUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"conversations\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={chatScreenStyle(this.props)} className=\"cometchat cometchat--chats\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={chatScreenSidebarStyle(this.state, this.props)} className=\"chats__sidebar\">\n\t\t\t\t\t\t<CometChatConversationList\n\t\t\t\t\t\tref={el => this.chatListRef = el}\n\t\t\t\t\t\t_parent=\"clwm\"\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\tonItemClick={this.itemClicked}\n\t\t\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatScreenMainStyle(this.state, this.props)} className=\"chats__main\">{messageScreen}</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatConversationListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatConversationListWithMessages };\n","export const userInfoScreenStyle = (props) =>{\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column!important\",\n        height: \"calc(100% - 50px)\",\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (props) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"70px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"22px\"\n    }\n}\n\nexport const detailStyle = () => {\n\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const userDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const userNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const userStatusStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        color: `${props.theme.color.blue}`,\n    }\n}\n\nexport const optionsStyle = () => {\n\n    return {\n        height: \"calc(100% - 145px)\",\n        overflowY: \"auto\",\n        padding: \"0 16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"left\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const optionTitleStyle = (props) => {\n\n    return {\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        color: `${props.theme.color.helpText}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const optionListStyle = () => {\n\n    return {\n        padding: \"10px 0\",\n        width: \"100%\",\n        fontSize: \"15px\"\n    }\n}\n\nexport const optionStyle = (img) => {\n\n    return {\n        width: \"100%\",\n        padding: \"16px 16px 16px 36px\",\n        fontWeight: 600,\n        background: `url(${img}) left center no-repeat`,\n    }\n}\n\nexport const optionNameStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}","export default __webpack_public_path__ + \"static/media/notify.009f4c07.svg\";","export default __webpack_public_path__ + \"static/media/privacy.35a868f9.svg\";","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/help.c1640c5b.svg\";","export default __webpack_public_path__ + \"static/media/warning.d0632c5b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserInfoScreenStyle,\n\theaderStyle,\n\theaderTitleStyle,\n\tdetailStyle,\n\tthumbnailStyle,\n\tuserDetailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\toptionsStyle,\n\toptionTitleStyle,\n\toptionListStyle,\n\toptionStyle,\n\toptionNameStyle\n} from \"./style\";\n\nimport notificationIcon from \"./resources/notify.svg\";\nimport privacyIcon from \"./resources/privacy.svg\";\nimport chatIcon from \"./resources/chats.svg\";\nimport helpIcon from \"./resources/help.svg\";\nimport reportIcon from \"./resources/warning.svg\";\n\nclass CometChatUserProfile extends React.Component {\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null\n\t\t}\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tCometChat.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: user });\n\t\t}).catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t}\n\n\trender() {\n\n\t\tlet userProfile = null;\n\t\tif(this.state.loggedInUser) {\n\n\t\t\tlet avatar = <CometChatAvatar user={this.state.loggedInUser} />;\n\t\t\tuserProfile = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={headerStyle(this.props)} className=\"userinfo__header\">\n\t\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"MORE\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={detailStyle()} className=\"userinfo__detail\">\n\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"detail__thumbnail\">\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userDetailStyle()} className=\"detail__user\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t<div css={userNameStyle()} className=\"user__name\">\n\t\t\t\t\t\t\t\t{this.state.loggedInUser.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p css={userStatusStyle(this.props)} className=\"user__status\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"ONLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={optionsStyle()} className=\"userinfo__options\">\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"PREFERENCES\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(notificationIcon)} className=\"option option-notification\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"NOTIFICATIONS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(privacyIcon)} className=\"option option-privacy\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"PRIVACY_AND_SECURITY\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(chatIcon)} className=\"option option-chats\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"OTHER\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(helpIcon)} className=\"option option-help\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"HELP\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(reportIcon)} className=\"option option-report\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"REPORT_PROBLEM\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userInfoScreenStyle(this.props)} className=\"userinfo\">\n\t\t\t\t{userProfile}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserProfile.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme\n};\n\nCometChatUserProfile.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatUserProfile };\n","export const footerStyle = () => {\n\n    return {\n        width: \"100%\",\n        zIndex: \"1\",\n        height: \"64px\"\n    }\n}\n\nexport const navbarStyle = () => {\n\n    return {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-around\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t};\n}\n\nexport const itemStyle = props => {\n\treturn {\n\t\tpadding: \"8px\",\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tfontSize: \"12px\",\n\t\tcolor: `${props.theme.color.helpText}`,\n\t};\n};\n\nexport const itemLinkStyle = (icon, isActive, context) => {\n\n    let activeStateBg = (isActive) ? { \n        backgroundColor: `${context.theme.primaryColor}`,\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        height: \"24px\",\n        width: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${icon}) no-repeat center center`,\n        ...activeStateBg\n    }\n}\n\nexport const itemLinkTextStyle = (isActive, context) => {\n\n    const colorProp = (isActive) ? {\n        color: `${context.theme.primaryColor}`\n    } : {\n        color: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        ...colorProp,\n        paddingTop: \"2px\"\n    }\n};","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/users.ec43e952.svg\";","export default __webpack_public_path__ + \"static/media/groups.1e57cc7e.svg\";","export default __webpack_public_path__ + \"static/media/more.35ec626e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../../Users\";\nimport { CometChatGroupList } from \"../../Groups\";\nimport { CometChatConversationList } from \"../../Chats\";\nimport { CometChatUserProfile } from \"../../UserProfile\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport {CometChatContext} from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\nimport tabs from \"../../../resources/tabs.json\";\n\nimport {\n  footerStyle,\n  navbarStyle,\n  itemStyle,\n  itemLinkStyle,\n  itemLinkTextStyle\n} from \"./style\";\n\nimport chatGreyIcon from \"./resources/chats.svg\";\nimport contactGreyIcon from \"./resources/users.svg\";\nimport groupGreyIcon from \"./resources/groups.svg\";\nimport moreGreyIcon from \"./resources/more.svg\";\n\nexport class CometChatNavBar extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\ttabListKeys = []; \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveTab: null,\n\t\t\ttabList: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tlet tabList = this.context.UIKitSettings.tabs;\n\n\t\ttabList.forEach(tabName => {\n\t\t\tfor (const t in tabs) {\n\t\t\t\tif (tabName === tabs[t]) {\n\t\t\t\t\tthis.tabListKeys.push(t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n    \tthis.getFilteredTabs().then(filteredTabs => {\n\t\t\tthis.setState({tabList: filteredTabs, activeTab: filteredTabs[0]});\n\t\t});\n\n\t}\n\n\n\tgetFilteredTabs = () => {\n\n\t\treturn new Promise(resolve => {\n\n\t\t\tconst filteredTabs = [];\n\t\t\tconst promises = [this.enableChats(), this.enableUsers(), this.enableGroups(), this.enableSettings()];\n\t\t\tPromise.allSettled(promises).then(results => {\n\t\t\t\t\n\t\t\t\tthis.tabListKeys.forEach(eachTabKey => {\n\t\t\t\t\tresults.forEach(result => {\n\t\t\t\t\t\tconst tabKey = result.value[0];\n\t\t\t\t\t\tconst tabEnabled = result.value[1];\n\n\t\t\t\t\t\tif (eachTabKey === tabKey && tabEnabled === true) {\n\t\t\t\t\t\tfilteredTabs.push(eachTabKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tresolve(filteredTabs);\n\t\t\t});\n\t\t});\n\t}\n\n\tenableChats = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isRecentChatListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_CHATS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_CHATS\", false]));\n\t\t});\n\t};\n\n\tenableUsers = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_USERS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_USERS\", false]));\n\t\t});\n\t};\n\n\tenableGroups = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_GROUPS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_GROUPS\", false]));\n\t\t});\n\t};\n\n\tenableSettings = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserSettingsEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_MOREINFO\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_MOREINFO\", false]));\n\t\t});\n\t};\n\n\ttabChanged = tab => {\n\n\t\tthis.setState({activeTab: tab});\n\t};\n\n\tgetActiveTab = () => {\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\treturn <CometChatUserList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_CALLS\":\n\t\t\t\treturn null;\n\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\treturn <CometChatConversationList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\treturn <CometChatGroupList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\treturn <CometChatUserProfile theme={this.props.theme} lang={this.context.language} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tgetTabList = () => {\n\n\t\tconst chatsTabActive = this.state.activeTab === \"SIDEBAR_CHATS\" ? true : false;\n\t\tconst userTabActive = this.state.activeTab === \"SIDEBAR_USERS\" ? true : false;\n\t\tconst groupsTabActive = this.state.activeTab === \"SIDEBAR_GROUPS\" ? true : false;\n\t\tconst moreTabActive = this.state.activeTab === \"SIDEBAR_MOREINFO\" ? true : false;\n\n\t\tconst tabList = [...this.state.tabList];\n\n\t\treturn tabList.map(tab => {\n\t\t\tswitch (tab) {\n\t\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_CHATS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(chatGreyIcon, chatsTabActive, this.context)} className=\"item__link item__link__chats\" title={Translator.translate(\"CHATS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(chatsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"CHATS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_USERS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(contactGreyIcon, userTabActive, this.context)} className=\"item__link item__link__contacts\" title={Translator.translate(\"USERS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(userTabActive, this.context)} className=\"item__label\">{Translator.translate(\"USERS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_GROUPS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(groupGreyIcon, groupsTabActive, this.context)} className=\"item__link item__link__groups\" title={Translator.translate(\"GROUPS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(groupsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"GROUPS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_MOREINFO\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(moreGreyIcon, moreTabActive, this.context)} className=\"item__link item__link__info\" title={Translator.translate(\"MORE\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(moreTabActive, this.context)} className=\"item__label\">{Translator.translate(\"MORE\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.getActiveTab()}\n\t\t\t\t<div css={footerStyle()} className=\"sidebar__footer\">\n\t\t\t\t\t<div css={navbarStyle()} className=\"footer__navbar\">\n\t\t\t\t\t\t{this.getTabList()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatNavBar.defaultProps = {\n\ttheme: theme\n};\n\nCometChatNavBar.propTypes = {\n\ttheme: PropTypes.object\n}","export const unifiedStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        position: \"relative\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const unifiedSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow : \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts, .chats, .groups, .userinfo\": {\n            height: \"calc(100% - 64px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const unifiedMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatNavBar } from \"./CometChatNavBar\";\nimport { CometChatMessages } from \"../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../Calls\";\n\nimport { CometChatContextProvider } from \"../../util/CometChatContext\";\nimport * as enums from \"../../util/enums.js\";\nimport { theme } from \"../../resources/theme\";\nimport Translator from \"../../resources/localization/translator\";\n\nimport {\n\tunifiedStyle,\n\tunifiedSidebarStyle,\n\tunifiedMainStyle,\n} from \"./style\";\n\nclass CometChatUI extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\t\t\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.navBarRef = React.createRef();\n\t\tthis.contextProviderRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\tnavBarAction = (action, type, item) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"ITEM_CLICKED\"]:\n\t\t\t\tthis.itemClicked(item, type);\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\titemClicked = (item, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);    \n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t */\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP \n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.state.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\t\n\t\tlet messageScreen = (\n\t\t\t\t<CometChatMessages \n\t\t\t\ttheme={this.props.theme}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\t_parent=\"unified\"\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={unifiedStyle(this.props)} className=\"cometchat cometchat--unified\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={unifiedSidebarStyle(this.state, this.props)} className=\"unified__sidebar\">\n\t\t\t\t\t\t<CometChatNavBar\n\t\t\t\t\t\t\tref={el => this.navBarRef = el}\n\t\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\t\tactionGenerated={this.navBarAction} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={unifiedMainStyle(this.state, this.props)} className=\"unified__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUI.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatUI.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatUI };\n","export const alert = message => {\n  window.alert(message);\n};\n\nexport const showLoading = () => {\n  const loading = document.getElementById(\"loading\");\n  loading.classList.remove(\"hidden\");\n  loading.classList.add('shown');\n};\n\nexport const hideLoading = () => {\n  const loading = document.getElementById(\"loading\");\n  loading.classList.remove(\"shown\");\n  loading.classList.add(\"hidden\");\n};\n\nexport const showDarkHeader = () => {\n  const header = document.getElementById(\"header\");\n  const headerLeft = document.getElementById(\"header-left\");\n  const headerRight = document.getElementById(\"header-right\");\n  const headerMiddle = document.getElementById(\"header-middle\");\n  const headerMiddleItems = document.getElementsByClassName(\"header__middle-item\");\n  const headerActions = document.getElementsByClassName(\"header__action\");\n\n  const search = document.getElementById(\"search\");\n  const searchContainer = document.getElementById(\"search-container\");\n\n  header.classList.remove(\"header--light\");\n  headerLeft.classList.remove(\"header__left--light\");\n  headerRight.classList.remove(\"header__right--light\");\n  headerMiddle.classList.remove(\"header__middle--light\");\n  for (let i = 0; i < headerMiddleItems.length; i++) {\n    headerMiddleItems[i].classList.remove(\"header__middle-item--light\");\n  }\n  for (let i = 0; i < headerActions.length; i++) {\n    headerActions[i].classList.remove(\"header__action--light\");\n  }\n\n  search.classList.remove(\"search--light\");\n  searchContainer.classList.remove(\"search__container--light\");\n\n  document.body.style.background = \"#000\";\n};\n\nexport const showLightHeader = () => {\n  const header = document.getElementById(\"header\");\n  const headerLeft = document.getElementById(\"header-left\");\n  const headerRight = document.getElementById(\"header-right\");\n  const headerMiddle = document.getElementById(\"header-middle\");\n  const headerMiddleItems = document.getElementsByClassName(\"header__middle-item\");\n  const headerActions = document.getElementsByClassName(\"header__action\");\n\n  const search = document.getElementById(\"search\");\n  const searchContainer = document.getElementById(\"search-container\");\n\n  header.classList.add(\"header--light\");\n  headerLeft.classList.add(\"header__left--light\");\n  headerRight.classList.add(\"header__right--light\");\n  headerMiddle.classList.add(\"header__middle--light\");\n  for (let i = 0; i < headerMiddleItems.length; i++) {\n    headerMiddleItems[i].classList.add(\"header__middle-item--light\");\n  }\n  for (let i = 0; i < headerActions.length; i++) {\n    headerActions[i].classList.add(\"header__action--light\");\n  }\n\n  search.classList.add(\"search--light\");\n  searchContainer.classList.add(\"search__container--light\");\n\n  document.body.style.background = \"#fff\";\n};","import { useEffect, useContext } from 'react';\n\nimport { CometChatUI } from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\n\nimport * as uiService from '../../services/ui';\n\nimport { Context } from '../../context/AppContext';\n\nconst Chat = () => {\n  const { cometChat } = useContext(Context);\n\n  useEffect(() => {\n    window.onload = function () {\n      uiService.showLightHeader();\n    }\n  }, []);\n\n  return (\n    <div className=\"chat__container\">\n      {cometChat && <CometChatUI />}\n    </div>\n  );\n};\nexport default Chat;","export const save = ({ key, payload }) => {\n  localStorage.setItem(key, payload);\n};\n\nexport const get = key => localStorage.getItem(key);\n\nexport const remove = key => {\n  localStorage.removeItem(key);\n};","export const AUTH = 'auth';\nexport const KEYWORD = 'keyword';\nexport const HOST = 'host';\nexport const HOUSE = 'house';\nexport const PROFILE = 'profile';","import { useState, useEffect, useContext } from 'react';\n\nimport { CometChatMessages } from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\n\nimport { Context } from '../../context/AppContext';\n\nimport * as storageService from '../../services/storage';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nimport * as uiService from '../../services/ui';\n\nconst ChatWithHost = () => {\n  const [host, setHost] = useState();\n\n  const { cometChat } = useContext(Context);\n\n  useEffect(() => {\n    const host = storageService.get(STORAGE_KEYS.HOST);\n    if (host) { \n      setHost(() => host);\n    }\n    window.onload = function () {\n      uiService.showLightHeader();\n    }\n  }, []);\n\n  return (\n    <div className=\"chat__container\">\n      {cometChat && host && <CometChatMessages chatWithUser={host} />}\n    </div>\n  );\n};\nexport default ChatWithHost;","import { useState } from 'react';\n\nconst withModal = ModalComponent => WrapperComponent => {\n  return function () { \n    const [isModalShown, setIsModalShown] = useState(false);\n    \n    return (\n      <>\n        <WrapperComponent toggleModal={setIsModalShown}/>\n        {isModalShown && <ModalComponent toggleModal={setIsModalShown} />}\n      </>\n    )\n  }\n}\n\nexport default withModal;","import firebase from \"firebase\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: `${process.env.REACT_APP_FIREBASE_API_KEY}`,\n  authDomain: `${process.env.REACT_APP_FIREBASE_AUTH_DOMAIN}`,\n  databaseURL: `${process.env.REACT_APP_FIREBASE_DATABASE_URL}`,\n  projectId: `${process.env.REACT_APP_FIREBASE_PROJECT_ID}`,\n  storageBucket: `${process.env.REACT_APP_FIREBASE_STORAGE_BUCKET}`,\n  messagingSenderId: `${process.env.REACT_APP_FIREABSE_MESSAGING_SENDER_ID}`,\n  appId: `${process.env.REACT_APP_FIREBASE_APP_ID}`,\n};\n\nconst app = !firebase.apps.length\n  ? firebase.initializeApp(firebaseConfig)\n  : firebase.app();\nconst realTimeDb = app.database();\nconst db = app.firestore();\nconst auth = app.auth();\nconst storage = firebase.storage();\n\nexport { auth, db, storage, realTimeDb };\n","import { auth, realTimeDb, storage } from \"../firebase\";\n\nexport const insert = async ({ key, id, payload }) => {\n  await realTimeDb.ref(`${key}/${id}`).set(payload);\n};\n\nexport const createAccount = async (email, password) => await auth.createUserWithEmailAndPassword(email, password);\n\nexport const login = async (email, password) => await auth.signInWithEmailAndPassword(email, password);\n\nexport const getData = async ({ key, query, criteria }) => {\n  if (!criteria) return;\n  const snapshot = await realTimeDb.ref().child(key).orderByChild(query).equalTo(criteria).get();\n  const val = snapshot.val();\n  if (val) {\n    const keys = Object.keys(val);\n    return val[keys[0]];\n  }\n  return null;\n};\n\nexport const upload = async ({ key, id, payload, entity, callback }) => {\n  const uploadTask = storage.ref(`${key}/${id}`).putString(payload, \"data_url\");\n  uploadTask.on(\"state_changed\", null, (error) => { }, () => {\n    storage.ref(key).child(id).getDownloadURL().then((url) => {\n      callback(entity, url);\n    });\n  });\n};\n\nexport const getRef = child => realTimeDb.ref().child(child);\n\nexport const getDataRealtime = ({ ref, callback }) => {\n  ref.current.on(\"value\", function (snapshot) {\n    callback(snapshot.val());\n  });\n};\n\nexport const getDataRealtimeQuery = ({ ref, query, criteria, callback }) => {\n  ref.current.orderByChild(query).equalTo(criteria).on(\"value\", function (snapshot) {\n    callback(snapshot.val());\n  });\n};","export const USERS = 'users';\nexport const EMAIL = 'email';\nexport const HOUSES = 'houses';\nexport const ADDRESS = 'address';\nexport const CREATED_BY = 'createdBy';","import { useState, useRef, useContext } from 'react';\nimport validator from \"validator\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { Context } from '../../context/AppContext';\n\nimport * as firebaseService from '../../services/firebase';\nimport * as uiService from '../../services/ui';\n\nimport * as FIREBASE_KEYS from '../../constants/firebase-keys';\n\n\nconst Create = ({ toggleModal }) => {\n  const [imageToHouse, setImageToHouse] = useState(false);\n\n  const addressRef = useRef(null);\n  const descriptionRef = useRef(null);\n  const filePickerRef = useRef(null);\n  const nameRef = useRef(null);\n  const priceRef = useRef(null);\n\n  const { user } = useContext(Context);\n\n  const addImageToHouse = (e) => {\n    const reader = new FileReader();\n    if (e.target.files[0]) {\n      reader.readAsDataURL(e.target.files[0]);\n    }\n    reader.onload = (readerEvent) => {\n      setImageToHouse(readerEvent.target.result);\n    };\n  };\n\n  const create = () => {\n    try {\n      const { name, price, address, description } = getInputs();\n      if (isValid({ name, price, address, description })) {\n        uiService.showLoading();\n        const id = uuidv4();\n        const createdBy = user.id;\n        const ownerName = user.fullname;\n        const ownerImage = user.avatar;\n        const createdHouse = { id, createdBy, name, price, description, address, ownerName, ownerImage };\n        firebaseService.upload({ key: FIREBASE_KEYS.HOUSES, id, payload: imageToHouse, entity: createdHouse, callback: onImageUploaded })\n        uiService.hideLoading();\n        toggleModal(false);\n      }\n    } catch (error) {\n      uiService.alert('Cannot create your house, please try again!');\n      uiService.hideLoading();\n    }\n  };\n\n  const getInputs = () => {\n    const name = nameRef.current.value;\n    const price = priceRef.current.value;\n    const address = addressRef.current.value;\n    const description = descriptionRef.current.value;\n    return { name, price, address, description };\n  };\n\n  const isValid = ({ name, price, address, description }) => {\n    if (validator.isEmpty(name)) {\n      uiService.alert(\"Please input the name\");\n      return false;\n    }\n    if (!validator.isNumeric(price)) {\n      uiService.alert(\"Please input the price\");\n      return false;\n    }\n    if (validator.isEmpty(address)) {\n      uiService.alert(\"Please input the address\");\n      return false;\n    }\n    if (validator.isEmpty(description)) {\n      uiService.alert(\"Please input the description\");\n      return false;\n    }\n    return true;\n  };\n\n  const onImageUploaded = async (entity, url) => {\n    entity.image = url;\n    await firebaseService.insert({ key: FIREBASE_KEYS.HOUSES, id: entity.id, payload: entity });\n  };\n\n  return (\n    <div className=\"create\">\n      <div className=\"create__content\">\n        <div className=\"create__container\">\n          <div className=\"create__title\">Criar</div>\n          <div className=\"create__close\">\n            <img\n              alt=\"close\"\n              onClick={() => toggleModal(false)}\n              src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/__geKiQnSG-.png\"\n            />\n          </div>\n        </div>\n        <div className=\"create__subtitle\"></div>\n        <div className=\"create__form\">\n          {!imageToHouse && <div className=\"create__upload\" onClick={() => filePickerRef.current.click()}>\n          Escolha a imagem da casa\n          </div>}\n          {imageToHouse && <div className=\"create__image\">\n            <img src={imageToHouse} alt=\"house\" onClick={() => filePickerRef.current.click()} />\n          </div>}\n          <input type=\"file\" hidden ref={filePickerRef} className=\"create__file\" onChange={addImageToHouse} />\n          <input type=\"text\" placeholder=\"Name\" ref={nameRef} />\n          <input type=\"text\" placeholder=\"Price\" ref={priceRef} />\n          <input type=\"text\" placeholder=\"Address\" ref={addressRef} />\n          <input type=\"text\" placeholder=\"Description\" ref={descriptionRef} />\n          <button className=\"create__btn\" onClick={create}>\n            Criar\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Create;","export const navigate = ({ route, push }) => { \n  push(route);\n};","export const HOMES = 'HOMES';\nexport const EXPERIENCES = 'EXPERIENCES';\nexport const ONLINE_EXPERIENCES = 'ONLINE_EXPERIENCES';","export const HOME = '/';\nexport const LOGIN = '/login';\nexport const SEARCH = '/search';\nexport const CHAT = '/chat';\nexport const HOST = '/host';\nexport const DETAIL = '/detail';\nexport const PROFILE = '/profile';","import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport withModal from './Modal';\nimport Create from '../create/Create';\n\nimport { Context } from '../../context/AppContext';\n\nimport * as uiService from '../../services/ui';\nimport * as routeService from '../../services/route';\nimport * as storageService from '../../services/storage';\n\nimport * as MENUS from '../../constants/menu';\nimport * as ROUTES from '../../constants/routes';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nconst Header = ({ toggleModal }) => {\n  const [menu, setMenu] = useState(MENUS.HOMES);\n\n  const {\n    user,\n    setUser,\n    cometChat\n  } = useContext(Context);\n\n  const history = useHistory();\n\n  const home = () => {\n    uiService.showDarkHeader();\n    routeService.navigate({ route: ROUTES.HOME, push: history.push });\n  };\n\n  const profile = () => {\n    uiService.showLightHeader();\n    routeService.navigate({ route: ROUTES.PROFILE, push: history.push });\n    storageService.save({ key: STORAGE_KEYS.PROFILE, payload: JSON.stringify(user) });\n  };\n\n  const changeMenu = menu => () => {\n    setMenu(() => menu);\n  };\n\n  const chat = () => {\n    uiService.showLightHeader();\n    routeService.navigate({ route: ROUTES.CHAT, push: history.push });\n  };\n\n  const create = () => {\n    toggleModal(true);\n  };\n\n  const logout = async () => {\n    const isLogout = window.confirm('Voc quer sair ?');\n    if (isLogout) {\n      await logoutCometChat();\n      removeAuthedInfo();\n      routeService.navigate({ route: ROUTES.LOGIN, push: history.push });\n    }\n  }\n\n  const logoutCometChat = async () => {\n    await cometChat.logout();\n  };\n\n  const removeAuthedInfo = () => {\n    setUser(null);\n    storageService.remove(STORAGE_KEYS.AUTH);\n  };\n\n  if (!user) return <></>;\n\n  return (\n    <div id=\"header\" className=\"header\">\n      <div id=\"header-left\" className=\"header__left\">\n        <svg onClick={home} style={{ display: 'block' }}><path d=\"M29.24 22.68c-.16-.39-.31-.8-.47-1.15l-.74-1.67-.03-.03c-2.2-4.8-4.55-9.68-7.04-14.48l-.1-.2c-.25-.47-.5-.99-.76-1.47-.32-.57-.63-1.18-1.14-1.76a5.3 5.3 0 00-8.2 0c-.47.58-.82 1.19-1.14 1.76-.25.52-.5 1.03-.76 1.5l-.1.2c-2.45 4.8-4.84 9.68-7.04 14.48l-.06.06c-.22.52-.48 1.06-.73 1.64-.16.35-.32.73-.48 1.15a6.8 6.8 0 007.2 9.23 8.38 8.38 0 003.18-1.1c1.3-.73 2.55-1.79 3.95-3.32 1.4 1.53 2.68 2.59 3.95 3.33A8.38 8.38 0 0022.75 32a6.79 6.79 0 006.75-5.83 5.94 5.94 0 00-.26-3.5zm-14.36 1.66c-1.72-2.2-2.84-4.22-3.22-5.95a5.2 5.2 0 01-.1-1.96c.07-.51.26-.96.52-1.34.6-.87 1.65-1.41 2.8-1.41a3.3 3.3 0 012.8 1.4c.26.4.45.84.51 1.35.1.58.06 1.25-.1 1.96-.38 1.7-1.5 3.74-3.21 5.95zm12.74 1.48a4.76 4.76 0 01-2.9 3.75c-.76.32-1.6.41-2.42.32-.8-.1-1.6-.36-2.42-.84a15.64 15.64 0 01-3.63-3.1c2.1-2.6 3.37-4.97 3.85-7.08.23-1 .26-1.9.16-2.73a5.53 5.53 0 00-.86-2.2 5.36 5.36 0 00-4.49-2.28c-1.85 0-3.5.86-4.5 2.27a5.18 5.18 0 00-.85 2.21c-.13.84-.1 1.77.16 2.73.48 2.11 1.78 4.51 3.85 7.1a14.33 14.33 0 01-3.63 3.12c-.83.48-1.62.73-2.42.83a4.76 4.76 0 01-5.32-4.07c-.1-.8-.03-1.6.29-2.5.1-.32.25-.64.41-1.02.22-.52.48-1.06.73-1.6l.04-.07c2.16-4.77 4.52-9.64 6.97-14.41l.1-.2c.25-.48.5-.99.76-1.47.26-.51.54-1 .9-1.4a3.32 3.32 0 015.09 0c.35.4.64.89.9 1.4.25.48.5 1 .76 1.47l.1.2c2.44 4.77 4.8 9.64 7 14.41l.03.03c.26.52.48 1.1.73 1.6.16.39.32.7.42 1.03.19.9.29 1.7.19 2.5zM41.54 24.12a5.02 5.02 0 01-3.95-1.83 6.55 6.55 0 01-1.6-4.48 6.96 6.96 0 011.66-4.58 5.3 5.3 0 014.08-1.86 4.3 4.3 0 013.7 1.92l.1-1.57h2.92V23.8h-2.93l-.1-1.76a4.52 4.52 0 01-3.88 2.08zm.76-2.88c.58 0 1.09-.16 1.57-.45.44-.32.8-.74 1.08-1.25.25-.51.38-1.12.38-1.8a3.42 3.42 0 00-1.47-3.04 2.95 2.95 0 00-3.12 0c-.44.32-.8.74-1.08 1.25a4.01 4.01 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.98.45 1.55.45zM53.45 8.46c0 .35-.06.67-.22.93-.16.25-.38.48-.67.64-.29.16-.6.22-.92.22-.32 0-.64-.06-.93-.22a1.84 1.84 0 01-.67-.64 1.82 1.82 0 01-.22-.93c0-.36.07-.68.22-.93.16-.3.39-.48.67-.64.29-.16.6-.23.93-.23a1.84 1.84 0 011.6.86 2 2 0 01.21.94zm-3.4 15.3V11.7h3.18v12.08h-3.19zm11.68-8.9v.04c-.15-.07-.35-.1-.5-.13-.2-.04-.36-.04-.55-.04-.89 0-1.56.26-2 .8-.48.55-.7 1.32-.7 2.31v5.93h-3.19V11.69h2.93l.1 1.83c.32-.64.7-1.12 1.24-1.48a3.1 3.1 0 011.81-.5c.23 0 .45.02.64.06.1.03.16.03.22.06v3.2zm1.28 8.9V6.74h3.18v6.5c.45-.58.96-1.03 1.6-1.38a5.02 5.02 0 016.08 1.31 6.55 6.55 0 011.6 4.49 6.96 6.96 0 01-1.66 4.58 5.3 5.3 0 01-4.08 1.86 4.3 4.3 0 01-3.7-1.92l-.1 1.57-2.92.03zm6.15-2.52c.57 0 1.08-.16 1.56-.45.44-.32.8-.74 1.08-1.25.26-.51.38-1.12.38-1.8 0-.67-.12-1.28-.38-1.79a3.75 3.75 0 00-1.08-1.25 2.95 2.95 0 00-3.12 0c-.45.32-.8.74-1.09 1.25a4.01 4.01 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.98.45 1.56.45zm7.51 2.53V11.69h2.93l.1 1.57a3.96 3.96 0 013.54-1.89 4.1 4.1 0 013.82 2.44c.35.76.54 1.7.54 2.75v7.24h-3.19v-6.82c0-.84-.19-1.5-.57-1.99-.38-.48-.9-.74-1.56-.74-.48 0-.9.1-1.27.32-.35.23-.64.52-.86.93a2.7 2.7 0 00-.32 1.35v6.92h-3.16zm12.52 0V6.73h3.19v6.5a4.67 4.67 0 013.73-1.89 5.02 5.02 0 013.95 1.83 6.57 6.57 0 011.59 4.48 6.95 6.95 0 01-1.66 4.58 5.3 5.3 0 01-4.08 1.86 4.3 4.3 0 01-3.7-1.92l-.09 1.57-2.93.03zm6.18-2.53c.58 0 1.09-.16 1.56-.45.45-.32.8-.74 1.09-1.25.25-.51.38-1.12.38-1.8a3.42 3.42 0 00-1.47-3.04 2.95 2.95 0 00-3.12 0c-.44.32-.8.74-1.08 1.25a3.63 3.63 0 00-.38 1.8 3.42 3.42 0 001.47 3.04c.47.29.95.45 1.55.45z\"></path></svg>\n        {\n          user && (\n            <div id=\"header-right\" className=\"header__right\" onClick={profile}>\n              <div className=\"header__image-wrapper\">\n                <img src={user.avatar} alt={user.email} />\n              </div>\n              <span>la, {user.fullname}</span>\n            </div>\n          )\n        }\n      </div>\n      <div id=\"header-middle\" className=\"header__middle\">\n        <div className=\"header__middle-container\">\n          <div className=\"header__middle-item\">\n            <p onClick={changeMenu(MENUS.HOMES)}>Casa</p>\n            {menu === MENUS.HOMES && <div></div>}\n          </div>\n          <div className=\"header__gap header__middle-item\">\n            <p onClick={changeMenu(MENUS.EXPERIENCES)}>Experincias</p>\n            {menu === MENUS.EXPERIENCES && <div></div>}\n          </div>\n          <div className=\"header__middle-item\">\n            <p onClick={changeMenu(MENUS.ONLINE_EXPERIENCES)}>Online</p>\n            {menu === MENUS.ONLINE_EXPERIENCES && <div></div>}\n          </div>\n        </div>\n      </div>\n      <div className=\"header__actions\">\n        <span className=\"header__action\" onClick={chat}><span>Conversar</span></span>\n        <span className=\"header__action\" onClick={create}><span>Criar</span></span>\n        <span className=\"header__action\" onClick={logout}><span>Sair</span></span>\n      </div>\n    </div>\n  );\n}\n\nexport default withModal(Create)(Header);","export default __webpack_public_path__ + \"static/media/bg.652d8a02.webp\";","import { useEffect } from 'react';\n\nimport bg from '../../images/bg.webp';\n\nimport * as uiService from '../../services/ui';\n\nconst Home = () => {\n\n  useEffect(() => {\n    window.onload = function () {\n      uiService.showDarkHeader();\n    }\n  }, []);\n\n  return (\n    <div className=\"home\">\n      <img src={bg} alt=\"bg\" />\n      <div className=\"home__title\">\n        <h1>Quer viajar mas no sabe onde ficar?</h1>\n        <h1>Excelente, veio ao lugar certo</h1>\n        <div className=\"home__button-container\">\n          <button>Pesquisar</button>\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default Home;","const HouseDetailDescription = ({ house }) => {\n  return (\n    <div className=\"house__des\">\n      <div className=\"house__des-container\">\n        <div className=\"house__des-left\">\n          <h3>Quarto privado em apartamento para alugar. Proprietrio {house.ownerName}</h3>\n          <p className=\"house__des-content\">{house.description}</p>\n        </div>\n        <div className=\"house__des-right\">\n          <img src={house.ownerImage} alt=\"owner-avatar\" />\n        </div>\n      </div>\n      <div className=\"house__des-divider\"></div>\n      <div className=\"house__des-note\">\n        <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: \"block\", height: \"24px\", width: \"24px\" }}><path d=\"M15.032 1.747c.263-1.004 1.692-.993 1.94.015.876 3.577 2.415 6.454 4.614 8.652 2.198 2.199 5.075 3.738 8.652 4.615 1.016.249 1.016 1.693 0 1.942-3.577.877-6.454 2.416-8.652 4.615-2.199 2.198-3.738 5.075-4.615 8.652-.249 1.016-1.693 1.016-1.942 0-.877-3.577-2.416-6.454-4.615-8.652-2.198-2.199-5.075-3.738-8.652-4.615-1.008-.247-1.019-1.676-.015-1.939 3.535-.923 6.394-2.487 8.597-4.69 2.202-2.202 3.765-5.06 4.688-8.595zm.945 3.518l-.133.325c-.88 2.085-2.025 3.914-3.438 5.484l-.33.357-.318.326c-1.6 1.6-3.5 2.893-5.693 3.88l-.475.206-.325.133.352.14c2.108.859 3.952 1.995 5.527 3.407l.358.33.326.319c1.603 1.602 2.887 3.515 3.854 5.732l.203.48.115.291.115-.292c.86-2.108 1.996-3.952 3.408-5.527l.33-.358.319-.326c1.602-1.603 3.515-2.887 5.732-3.854l.48-.203.292-.115-.293-.115c-2.421-.988-4.494-2.34-6.211-4.057-1.603-1.602-2.887-3.515-3.854-5.732l-.203-.48-.138-.351zm11.04-3.891c.13-.502.845-.497.969.007.176.718.48 1.287.913 1.72.433.433 1.002.737 1.72.913.508.125.508.847 0 .972-.718.176-1.287.48-1.72.913-.433.433-.737 1.002-.913 1.72-.125.508-.847.508-.972 0-.176-.718-.48-1.287-.913-1.72-.433-.433-1.002-.737-1.72-.913-.504-.124-.51-.839-.007-.97.71-.185 1.277-.496 1.712-.93.434-.435.745-1.002.93-1.712z\"></path></svg>\n        <div>\n          <p>Higiene aprimorada</p>\n          <p>Este anfitrio se comprometeu com o processo de limpeza aprimorado em 5 etapas.</p>\n        </div>\n      </div>\n      <div className=\"house__des-note\">\n        <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: \"block\", height: \"24px\", width: \"24px\" }}><path d=\"m24.3334 1.66675c1.0543745 0 1.9181663.81587127 1.9945143 1.85073677l.0054857.14926323-.00065 24.666 3.00065.00075v2h-26.66665v-2l3-.00075v-24.666c0-1.05436681.81587301-1.91816558 1.850737-1.99451429l.149263-.00548571zm-4.00065 2h-12.666l-.00075 24.66625 12.66675-.00025zm4.00065 0h-2.00065v24.666l2.00025.00025zm-7.0001 11.00002c.7363778 0 1.33333.5969522 1.33333 1.33333s-.5969522 1.33333-1.33333 1.33333-1.33333-.5969522-1.33333-1.33333.5969522-1.33333 1.33333-1.33333z\"></path></svg>\n        <div>\n          <p>Auto check-in</p>\n          <p>Voc pode encontrar o anfitrio para fazer o check-in.</p>\n        </div>\n      </div>\n      <div className=\"house__des-note\">\n        <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: \"block\", height: \"24px\", width: \"24px\" }}><path d=\"m16.8438 27.1562-.00005-3.39845-.2608465.0913211c-.9857292.3215073-2.0303948.5116467-3.1127817.5499306l-.4076218.0071983-.2927873-.0037049c-6.03236807-.1528291-10.89442655-5.0148222-11.04725775-11.0472069l-.00370495-.2927882.00370495-.2927873c.1528312-6.03236807 5.01488968-10.89442655 11.04725775-11.04725775l.2927873-.00370495.2927882.00370495c6.0323847.1528312 10.8943778 5.01488968 11.0472069 11.04725775l.0037049.2927873-.00663.3912275c-.0484899 1.4286741-.3615343 2.7917824-.8920452 4.0406989l-.1327748.2963236 7.90645 7.90705v5.5834h-5.5834l-4.12505-4.12545zm-6.5313-19.93745c1.708641 0 3.09375 1.38511367 3.09375 3.09375 0 1.7086436-1.3851064 3.09375-3.09375 3.09375-1.70863633 0-3.09375-1.385109-3.09375-3.09375 0-1.70863365 1.38511635-3.09375 3.09375-3.09375zm0 2.0625c-.56954635 0-1.03125.46170365-1.03125 1.03125 0 .5695521.46169942 1.03125 1.03125 1.03125.5695564 0 1.03125-.4616936 1.03125-1.03125 0-.56955058-.4616979-1.03125-1.03125-1.03125zm12.1147 15.81255 4.12455 4.12495h2.667v-2.667l-8.37295-8.37255.3697-.6775.1603998-.3074798c.56763-1.1397167.90791-2.4128858.9606815-3.761954l.0072187-.3697662-.0038197-.2688703c-.1397418-4.91222958-4.0963692-8.86881961-9.0086094-9.00856l-.2688709-.0038197-.2688703.0038197c-4.91222958.13974039-8.86881961 4.09633042-9.00856 9.00856l-.0038197.2688703.0038197.2688709c.14228112 5.0015536 4.24146819 9.0124291 9.2774303 9.0124291 1.4456308 0 2.8116781-.3298367 4.0293209-.9177001l.3012791-.1522999 1.5131-.7998-.00045 4.61975z\"></path></svg>\n        <div>\n          <p>tima experincia de check-in</p>\n          <p>92% dos hspedes deram recentemente uma classificao de 5 estrelas ao processo de check-in.</p>\n        </div>\n      </div>\n      <div className=\"house__des-divider\"></div>\n    </div>\n  );\n};\n\nexport default HouseDetailDescription;","import { useHistory } from 'react-router';\n\nimport * as storageService from '../../services/storage';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nimport * as routeService from '../../services/route';\nimport * as ROUTES from '../../constants/routes';\n\nimport * as uiService from '../../services/ui';\n\nconst HouseDetailForm = ({ house }) => {\n  const history = useHistory();\n\n  const book = () => {\n    alert('Booked successfully!');\n  };\n\n  const chatWithHost = () => {\n    uiService.showLightHeader();\n    storageService.save({ key: STORAGE_KEYS.HOST, payload: house.createdBy });\n    routeService.navigate({ route: ROUTES.HOST, push: history.push });\n  };\n\n  return (\n    <div className=\"house-detail-form\">\n      <div className=\"house-detail-form__header\">\n        <div className=\"house-detail-form__price\">\n          <span className=\"house-detail-form__price-value\">{house.price}$</span>\n          <span> / Noite</span>\n        </div>\n        <div className=\"house-detail-form__rating\">\n          <div className=\"house-detail__rating\">\n            <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: 'block', height: \"14px\", width: \"14px\" }}><path d=\"M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z\" fillRule=\"evenodd\"></path></svg>\n            <span>4.82</span>\n          </div>\n        </div>\n      </div>\n      <div className=\"house-detail-form__actions\">\n        <button onClick={book}>Livro</button>\n        <span>Ou</span>\n        <button onClick={chatWithHost}>Fale com o anfitrio</button>\n      </div>\n    </div>\n  );\n};\n\nexport default HouseDetailForm;","const HouseDetailImages = ({ house }) => {\n  return (\n    <div className=\"house-detail__images\">\n      <div className=\"house-detail__images-left\">\n        <img src={house.image} alt={house.name} />\n      </div>\n      <div className=\"house-detail__images-right\">\n        <img src={house.image} alt={house.name} />\n        <img src={house.image} alt={house.name} />\n        <img src={house.image} alt={house.name} />\n        <img src={house.image} alt={house.name} />\n      </div>\n    </div>\n  );\n};\n\nexport default HouseDetailImages;","const HouseDetailName = ({ house }) => {\n  return (\n    <h1 className=\"house-detail__name\">{house.name}</h1>\n  )\n};\n\nexport default HouseDetailName;","const HouseDetailSub = ({ house }) => {\n  return (\n    <div className=\"house-detail__sub\">\n      <div className=\"house-detail__rating\">\n        <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: 'block', height: \"14px\", width: \"14px\" }}><path d=\"M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z\" fillRule=\"evenodd\"></path></svg>\n        <span>4.82</span>\n      </div>\n      <span className=\"house-detail__address\">{house.address}</span>\n    </div>\n  );\n};\n\nexport default HouseDetailSub;","import { useState, useEffect, useCallback } from 'react';\n\nimport HouseDetailDescription from './HouseDetailDescription';\nimport HouseDetailForm from './HouseDetailForm';\nimport HouseDetailImages from './HouseDetailImages';\nimport HouseDetailName from './HouseDetailName';\nimport HouseDetailSub from './HouseDetailSub';\n\nimport * as uiService from '../../services/ui';\nimport * as storageService from '../../services/storage';\n\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nconst HouseDetail = () => {\n  const [house, setHouse] = useState(null);\n\n  const loadHouse = useCallback(() => {\n    const house = JSON.parse(storageService.get(STORAGE_KEYS.HOUSE));\n    if (house) {\n      setHouse(() => house);\n    }\n  }, []);\n\n  useEffect(() => {\n    window.onload = function () {\n      uiService.showLightHeader();\n    }\n    loadHouse();\n  }, [loadHouse]);\n\n  if (!house) return <></>;\n\n  return (\n    <div className=\"house-detail\">\n      <HouseDetailName house={house} />\n      <HouseDetailSub house={house} />\n      <HouseDetailImages house={house} />\n      <div className=\"house-detail__body\">\n        <HouseDetailDescription house={house} />\n        <HouseDetailForm house={house} />\n      </div>\n    </div>\n  );\n};\n\nexport default HouseDetail;","const Loading = () => {\n  return (\n    <div id=\"loading\" className=\"loading hidden\">\n      <div className=\"lds-roller\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n\nexport default Loading;\n","export const createAccount = async ({ cometChat, id, fullname, avatar }) => {\n  const authKey = `${process.env.REACT_APP_COMETCHAT_AUTH_KEY}`;\n  const user = new cometChat.User(id);\n  user.setName(fullname);\n  user.setAvatar(avatar);\n  return await cometChat.createUser(user, authKey);\n};\n\nexport const createGroup = async ({ cometChat, guid, name }) => {\n  const groupType = cometChat.GROUP_TYPE.PUBLIC;\n  const password = \"\";\n  const group = new cometChat.Group(guid, name, groupType, password);\n  await cometChat.createGroup(group);\n};\n\nexport const login = async ({ cometChat, user }) => {\n  if (!user) return;\n  const authKey = `${process.env.REACT_APP_COMETCHAT_AUTH_KEY}`;\n  return await cometChat.login(user.id, authKey);\n};","import { useRef, useContext } from \"react\";\nimport validator from \"validator\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { Context } from \"../../context/AppContext\";\n\nimport * as cometChatService from \"../../services/cometchat\";\nimport * as firebaseService from \"../../services/firebase\";\nimport * as uiService from \"../../services/ui\";\n\nimport * as FIREBASE_KEYS from \"../../constants/firebase-keys\";\n\nconst SignUp = (props) => {\n  const { toggleModal } = props;\n\n  const aboutRef = useRef(null);\n  const addressRef = useRef(null);\n  const confirmPasswordRef = useRef(null);\n  const emailRef = useRef(null);\n  const fullnameRef = useRef(null);\n  const passwordRef = useRef(null);\n  const roleRef = useRef(null);\n  const workRef = useRef(null);\n\n  const { cometChat } = useContext(Context);\n\n  const signup = async () => {\n    try {\n      const { fullname, email, work, address, about, role, password, confirmPassword } = getInputs();\n      if (isSignupValid({ fullname, email, work, address, about, role, password, confirmPassword })) {\n        const id = uuidv4();\n        const avatar = generateAvatar();\n        const createdAccount = { id, fullname, email, avatar, work, address, about, role };\n        uiService.showLoading();\n        await firebaseService.createAccount(email, password);\n        await firebaseService.insert({ key: FIREBASE_KEYS.USERS, id, payload: createdAccount });\n        await cometChatService.createAccount({ cometChat, id, fullname, avatar });\n        uiService.hideLoading();\n        uiService.alert(`${email} was created successfully! Please sign in with your created account`);\n        toggleModal(false);\n      } else {\n        uiService.hideLoading();\n      }\n    } catch (error) {\n      uiService.hideLoading();\n      uiService.alert(`Cannot create your account, your account might be existed, please try again!`);\n    }\n  };\n\n  const getInputs = () => {\n    const fullname = fullnameRef.current.value;\n    const email = emailRef.current.value;\n    const work = workRef.current.value;\n    const address = addressRef.current.value;\n    const about = aboutRef.current.value;\n    const role = roleRef.current.value;\n    const password = passwordRef.current.value;\n    const confirmPassword = confirmPasswordRef.current.value;\n    return { fullname, email, work, address, about, role, password, confirmPassword };\n  };\n\n  const isSignupValid = ({ fullname, email, work, address, about, role, password, confirmPassword }) => {\n    if (validator.isEmpty(fullname)) {\n      uiService.alert(\"Please input your fullname\");\n      return false;\n    }\n    if (!validator.isEmail(email)) {\n      uiService.alert(\"Please input your email\");\n      return false;\n    }\n    if (validator.isEmpty(work)) {\n      uiService.alert(\"Please input your work\");\n      return false;\n    }\n    if (validator.isEmpty(address)) {\n      uiService.alert(\"Please input your address\");\n      return false;\n    }\n    if (validator.isEmpty(about)) {\n      uiService.alert(\"Please input your about\");\n      return false;\n    }\n    if (validator.isEmpty(role)) {\n      uiService.alert(\"Please input your role\");\n      return false;\n    }\n    if (validator.isEmpty(password) || !validator.isLength(password, { min: 6 })) {\n      uiService.alert(\"Please input your password. You password must have at least 6 characters\");\n      return false;\n    }\n    if (validator.isEmpty(confirmPassword)) {\n      uiService.alert(\"Please input your confirm password\");\n      return false;\n    }\n    if (password !== confirmPassword) {\n      uiService.alert(\"Confirm password and password must be the same\");\n      return false;\n    }\n    return true;\n  };\n\n  const generateAvatar = () => {\n    const avatars = [\n      'https://data-us.cometchat.io/assets/images/avatars/captainamerica.png',\n      'https://data-us.cometchat.io/assets/images/avatars/cyclops.png',\n      'https://data-us.cometchat.io/assets/images/avatars/ironman.png',\n      'https://data-us.cometchat.io/assets/images/avatars/spiderman.png',\n      'https://data-us.cometchat.io/assets/images/avatars/wolverine.png'\n    ];\n    const avatarPosition = Math.floor(Math.random() * avatars.length);\n    return avatars[avatarPosition];\n  };\n\n  return (\n    <div className=\"signup\">\n      <div className=\"signup__content\">\n        <div className=\"signup__container\">\n          <div className=\"signup__title\">Inscrever-se</div>\n          <div className=\"signup__close\">\n            <img\n              alt=\"close\"\n              onClick={() => toggleModal(false)}\n              src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/__geKiQnSG-.png\"\n            />\n          </div>\n        </div>\n        <div className=\"signup__subtitle\"></div>\n        <div className=\"signup__form\">\n          <input type=\"text\" placeholder=\"Fullname\" ref={fullnameRef} />\n          <input type=\"text\" placeholder=\"Email\" ref={emailRef} />\n          <input type=\"text\" placeholder=\"Work\" ref={workRef} />\n          <input type=\"text\" placeholder=\"Address\" ref={addressRef} />\n          <input type=\"text\" placeholder=\"About\" ref={aboutRef} />\n          <select ref={roleRef}>  \n            <option value=\"1\" defaultChecked>Anfitrio</option>\n            <option value=\"0\">Cliente</option>\n          </select>\n          <input type=\"password\" placeholder=\"Password\" ref={passwordRef} />\n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            ref={confirmPasswordRef}\n          />\n          <button className=\"signup__btn\" onClick={signup}>\n          Inscrever-se\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUp;\n","import { useEffect, useRef, useContext } from \"react\";\nimport validator from \"validator\";\nimport { useHistory } from 'react-router-dom';\n\nimport withModal from \"../common/Modal\";\nimport SignUp from \"../register/SignUp\";\n\nimport { Context } from \"../../context/AppContext\";\n\nimport * as cometChatService from \"../../services/cometchat\";\nimport * as firebaseService from \"../../services/firebase\";\nimport * as routeService from \"../../services/route\";\nimport * as storageService from \"../../services/storage\";\nimport * as uiService from \"../../services/ui\";\n\nimport * as FIREBASE_KEYS from \"../../constants/firebase-keys\";\nimport * as ROUTES from \"../../constants/routes\";\nimport * as STORAGE_KEYS from \"../../constants/storage-keys\";\n\nconst Login = (props) => {\n  const { toggleModal } = props;\n\n  const {\n    cometChat,\n    setUser,\n  } = useContext(Context);\n\n  const emailRef = useRef(null);\n  const passwordRef = useRef(null);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    const authedUser = JSON.parse(storageService.get(STORAGE_KEYS.AUTH));\n    if (authedUser) {\n      routeService.navigate({ route: ROUTES.HOME, push: history.push });\n    } else {\n      setUser(null);\n    }\n  }, [history, setUser]);\n\n  const login = async () => {\n    try {\n      uiService.showLoading();\n      const { email, password } = getInputs();\n      if (isUserCredentialsValid(email, password)) {\n        await firebaseService.login(email, password);\n        const user = await firebaseService.getData({ key: FIREBASE_KEYS.USERS, query: FIREBASE_KEYS.EMAIL, criteria: email });\n        await cometChatService.login({ cometChat, user });\n        saveAuthedInfo(user);\n        uiService.hideLoading();\n        routeService.navigate({ route: ROUTES.HOME, push: history.push });\n      } else {\n        uiService.hideLoading();\n        uiService.alert(`O seu nome de usurario o Senha est incorrecto`);\n      }\n    } catch (error) {\n      uiService.hideLoading();\n    }\n  };\n\n  const getInputs = () => {\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    return { email, password };\n  };\n\n  const isUserCredentialsValid = (email, password) => {\n    return validator.isEmail(email) && password;\n  };\n\n  const saveAuthedInfo = (user) => {\n    setUser(user);\n    storageService.save({ key: STORAGE_KEYS.AUTH, payload: JSON.stringify(user) });\n  };\n\n  return (\n    <div className=\"login__container\">\n      <div className=\"login__welcome\">\n        <div className=\"login__logo\">\n          <img src='../img/unitel.svg' alt='logo' />\n        </div>\n        <p>Conhea <span style={{ color: \"#FF385C\", fontWeight: 'bold' }}>AirBnb</span> com o <span style={{ color: \"#FF385C\", fontWeight: 'bold' }}>Meu</span><span style={{ color: \"#590f87\", fontWeight: 'bold' }}>Kubico</span></p>\n      </div>\n      <div className=\"login__form-container\">\n        <div className=\"login__form\">\n          <input\n            type=\"text\"\n            placeholder=\"Email or phone number\"\n            ref={emailRef}\n          />\n          <input type=\"password\" placeholder=\"Password\" ref={passwordRef} />\n          <button className=\"login__submit-btn\" onClick={login}>\n            Entrar\n          </button>\n          <span className=\"login__forgot-password\">Esqueceu a Senha?</span>\n          <span className=\"login__signup\" onClick={() => toggleModal(true)}>Criar Conta</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withModal(SignUp)(Login);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return (\n        <Route {...rest} render={props => (\n            localStorage.getItem('auth') ?\n                <Component {...props} />\n            : <Redirect to=\"/login\" />\n        )} />\n    );\n};\n\nexport default PrivateRoute;","const ProfileLeft = ({ profile }) => {\n  return (\n    <div className=\"profile__left\">\n      <div className=\"profile__image\">\n        <img src={profile.avatar} alt=\"profile\" />\n      </div>\n      <div className=\"profile__top-section\">\n        <div className=\"profile__top-section-item\">\n          <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '24px', width: '24px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"m16 17c3.8659932 0 7 3.1340068 7 7s-3.1340068 7-7 7-7-3.1340068-7-7 3.1340068-7 7-7zm0 2c-2.7614237 0-5 2.2385763-5 5s2.2385763 5 5 5 5-2.2385763 5-5-2.2385763-5-5-5zm9.6666667-18.66666667c1.0543618 0 1.9181651.81587779 1.9945142 1.85073766l.0054858.14926234v6.38196601c0 .70343383-.3690449 1.35080636-.9642646 1.71094856l-.1413082.0779058-9.6666667 4.8333334c-.5067495.2533747-1.0942474.2787122-1.6171466.0760124l-.1717078-.0760124-9.66666666-4.8333334c-.62917034-.3145851-1.04315599-.93418273-1.09908674-1.62762387l-.00648607-.16123049v-6.38196601c0-1.05436179.81587779-1.91816512 1.85073766-1.99451426l.14926234-.00548574zm0 2h-19.33333337v6.38196601l9.66666667 4.83333336 9.6666667-4.83333336z\"></path></svg>\n          <span>Anfitrio</span>\n        </div>\n        <div className=\"profile__top-section-item\">\n          <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '24px', width: '24px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M14.998 1.032a2 2 0 0 0-.815.89l-3.606 7.766L1.951 10.8a2 2 0 0 0-1.728 2.24l.031.175A2 2 0 0 0 .87 14.27l6.36 5.726-1.716 8.608a2 2 0 0 0 1.57 2.352l.18.028a2 2 0 0 0 1.215-.259l7.519-4.358 7.52 4.358a2 2 0 0 0 2.734-.727l.084-.162a2 2 0 0 0 .147-1.232l-1.717-8.608 6.361-5.726a2 2 0 0 0 .148-2.825l-.125-.127a2 2 0 0 0-1.105-.518l-8.627-1.113-3.606-7.765a2 2 0 0 0-2.656-.971zm-3.07 10.499l4.07-8.766 4.07 8.766 9.72 1.252-7.206 6.489 1.938 9.723-8.523-4.94-8.522 4.94 1.939-9.723-7.207-6.489z\"></path></svg>\n          <span>791 Avaliaes</span>\n        </div>\n        <div className=\"profile__top-section-item\">\n          <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '24px', width: '24px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M16 .798l.555.37C20.398 3.73 24.208 5 28 5h1v12.5C29 25.574 23.21 31 16 31S3 25.574 3 17.5V5h1c3.792 0 7.602-1.27 11.445-3.832L16 .798zm0 2.394l-.337.213C12.245 5.52 8.805 6.706 5.352 6.952L5 6.972V17.5c0 6.831 4.716 11.357 10.713 11.497L16 29c6.133 0 11-4.56 11-11.5V6.972l-.352-.02c-3.453-.246-6.893-1.432-10.311-3.547L16 3.192zm7 7.394L24.414 12 13.5 22.914 7.586 17 9 15.586l4.5 4.499 9.5-9.5z\"></path></svg>\n          <span>Identidade verificada</span>\n        </div>\n      </div>\n      <div className=\"profile__divider\"></div>\n      <div className=\"profile__bottom-section\">\n        <h3>{profile.fullname} verificado</h3>\n        <div className=\"profile__bottom-section-item\">\n          <svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '16px', width: '16px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M13.102 2.537L15.365 4.8l-9.443 9.443L.057 8.378 2.32 6.115l3.602 3.602z\"></path></svg>\n          <span>Identidade</span>\n        </div>\n        <div className=\"profile__bottom-section-item\">\n          <svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '16px', width: '16px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M13.102 2.537L15.365 4.8l-9.443 9.443L.057 8.378 2.32 6.115l3.602 3.602z\"></path></svg>\n          <span>Endereo de email</span>\n        </div>\n        <div className=\"profile__bottom-section-item\">\n          <svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '16px', width: '16px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M13.102 2.537L15.365 4.8l-9.443 9.443L.057 8.378 2.32 6.115l3.602 3.602z\"></path></svg>\n          <span>Nmero de telefone</span>\n        </div>\n        <div className=\"profile__bottom-section-item\">\n          <svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '16px', width: '16px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M13.102 2.537L15.365 4.8l-9.443 9.443L.057 8.378 2.32 6.115l3.602 3.602z\"></path></svg>\n          <span>Email de trabalho</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileLeft;","const ProfileIntro = ({ profile }) => {\n  return (\n    <>\n      <h3 className=\"profile__name\">la, Eu Sou {profile.fullname}</h3>\n      <p className=\"profile__about-title\">Apresentao</p>\n      <p className=\"profile__about\">{profile.about}</p>\n      <div className=\"profile__info-item\">\n        <svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '16px', width: '16px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M8.602 1.147l.093.08 7.153 6.914-.696.718L14 7.745V14.5a.5.5 0 0 1-.41.492L13.5 15H10V9.5a.5.5 0 0 0-.41-.492L9.5 9h-3a.5.5 0 0 0-.492.41L6 9.5V15H2.5a.5.5 0 0 1-.492-.41L2 14.5V7.745L.847 8.86l-.696-.718 7.153-6.915a1 1 0 0 1 1.297-.08z\"></path></svg>\n        <span>Mora em {profile.address}</span>\n      </div>\n      <div className=\"profile__info-item\">\n        <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" style={{ display: 'block', height: '16px', width: '16px' }} aria-hidden=\"true\" role=\"presentation\" focusable=\"false\"><path d=\"M26 7h-3.7V4.5c0-1.268-1.031-2.3-2.3-2.3h-8a2.302 2.302 0 0 0-2.3 2.3V7H6c-2.757 0-5 2.243-5 5v14c0 2.757 2.243 5 5 5h20c2.757 0 5-2.243 5-5V12c0-2.757-2.243-5-5-5zM12.3 4.8h7.4V7h-7.4zm.2 24.2h-3V9h3zm10 0h-3V9h3z\"></path></svg>\n        <span>Trabalho: {profile.work}</span>\n      </div>\n    </>\n  );\n};\n\nexport default ProfileIntro;","const ProfileHouse = ({ house, onItemClicked }) => {\n  if (!house) return <></>;\n\n  return (\n    <div className=\"profile__house\" onClick={onItemClicked(house)}>\n      <div className=\"profile__house-image\">\n        <img src={house.image} alt=\"profile-house\" />\n      </div>\n      <div className=\"profile__house-rating\">\n        <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: 'block', height: \"14px\", width: \"14px\" }}><path d=\"M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z\" fillRule=\"evenodd\"></path></svg>\n        <span>4.82</span>\n      </div>\n      <p className=\"profile__house-name\">{house.name}</p>\n      <p className=\"profile__house-description\">{house.description}</p>\n    </div>\n  );\n};\n\nexport default ProfileHouse;","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { useHistory } from 'react-router';\n\nimport ProfileHouse from './ProfileHouse';\n\nimport * as firebaseService from '../../services/firebase';\nimport * as routeService from '../../services/route';\nimport * as storageService from '../../services/storage';\nimport * as uiService from '../../services/ui';\n\nimport * as FIREBASE_KEYS from '../../constants/firebase-keys';\nimport * as ROUTES from '../../constants/routes';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nconst ProfileHouses = ({ profile }) => {\n  const [houses, setHouses] = useState([]);\n\n  const housesRef = useRef(firebaseService.getRef(FIREBASE_KEYS.HOUSES));\n  const tempRef = housesRef.current;\n\n  const history = useHistory();\n\n  const loadHouses = useCallback(() => {\n    firebaseService.getDataRealtimeQuery({ ref: housesRef, query: FIREBASE_KEYS.CREATED_BY, criteria: profile.id, callback: onDataLoaded });\n  }, [housesRef, profile]);\n\n  const onDataLoaded = val => {\n    if (val) {\n      const keys = Object.keys(val);\n      const data = keys.map(key => val[key]);\n      setHouses(() => data);\n    }\n  };\n\n  useEffect(() => {\n    const keywords = storageService.get(STORAGE_KEYS.KEYWORD);\n    if (keywords) {\n      loadHouses(keywords);\n    }\n  }, [loadHouses]);\n\n  useEffect(() => {\n    return () => {\n      setHouses(() => []);\n      tempRef.off();\n    };\n  }, [tempRef]);\n\n  const onItemClicked = house => () => {\n    uiService.showLightHeader();\n    storageService.save({ key: STORAGE_KEYS.HOUSE, payload: JSON.stringify(house) });\n    routeService.navigate({ route: ROUTES.DETAIL, push: history.push });\n  };\n\n  if (!houses || !houses.length) return <></>;\n\n  return (\n    <div className=\"profile__houses\">\n      {houses.map(house => <ProfileHouse house={house} onItemClicked={onItemClicked} />)}\n    </div>\n  );\n};\n\nexport default ProfileHouses;","import { useState, useEffect, useCallback } from 'react';\n\nimport ProfileLeft from './ProfileLeft';\nimport ProfileIntro from './ProfileIntro';\nimport ProfileHouses from './ProfileHouses';\n\nimport * as uiService from '../../services/ui';\nimport * as storageService from '../../services/storage';\n\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nconst Profile = () => {\n  const [profile, setProfile] = useState(null);\n\n  const loadProfile = useCallback(() => {\n    const profile = JSON.parse(storageService.get(STORAGE_KEYS.PROFILE));\n    if (profile) {\n      setProfile(() => profile);\n    }\n  }, []);\n\n  useEffect(() => {\n    window.onload = function () {\n      uiService.showLightHeader();\n    }\n    loadProfile();\n  }, [loadProfile]);\n\n  if (!profile) return <></>;\n\n  return (\n    <div className=\"profile\">\n      <ProfileLeft profile={profile} />\n      <div className=\"profile__right\">\n        <ProfileIntro profile={profile} />\n        <div className=\"profile__divider\"></div>\n        <h3>{profile.fullname}casa/quarto para alugar</h3>\n        <ProfileHouses profile={profile} />\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;","import { useState, useContext, useRef } from \"react\";\nimport { useHistory } from \"react-router\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport { Context } from '../../context/AppContext';\n\nimport * as ROUTE from '../../constants/routes';\nimport * as routeService from '../../services/route';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\nimport * as storageService from '../../services/storage';\nimport * as uiService from '../../services/ui';\n\nconst Search = () => {\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n\n  const { user } = useContext(Context);\n\n  const searchRef = useRef(null);\n\n  const history = useHistory();\n\n  const searchHouses = () => {\n    const keywords = searchRef.current.value;\n    if (keywords) {\n      storageService.save({ key: STORAGE_KEYS.KEYWORD, payload: keywords });\n      searchOrReload();\n      clearForm();\n    }\n  };\n\n  const searchOrReload = () => {\n    const url = window.location.href;\n    if (url.includes(ROUTE.SEARCH)) {\n      window.location.reload();\n    } else {\n      uiService.showLightHeader();\n      routeService.navigate({ route: ROUTE.SEARCH, push: history.push });\n    }\n  };\n\n  const clearForm = () => {\n    searchRef.current.value = '';\n    setStartDate(null);\n    setEndDate(null);\n  };\n\n  if (!user) return <></>;\n\n  return (\n    <div id=\"search\" className=\"search\">\n      <div id=\"search-container\" className=\"search__container\">\n        <div className=\"search__form\">\n          <div className=\"search__form-input search__form-element\">\n            <span>Localizao</span>\n            <input type=\"text\" placeholder=\"Where will you go?\" ref={searchRef} />\n          </div>\n          <div className=\"search__form-start-date search__form-element\">\n            <span>Data de incio</span>\n            <DatePicker selected={startDate} onChange={(date) => setStartDate(date)} />\n          </div>\n          <div className=\"search__form-end-date search__form-element\">\n            <span>Data final</span>\n            <DatePicker selected={endDate} onChange={(date) => setEndDate(date)} />\n          </div>\n          <div className=\"search__icon\" onClick={searchHouses}>\n            <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: 'block', fill: 'white', width: '12px', height: '12px', stroke: 'white', strokeWidth: '5.3333', overflow: 'visible' }}><g fill=\"none\"><path d=\"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9\"></path></g></svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;","import { useHistory } from 'react-router';\n\nimport * as uiService from '../../services/ui';\n\nimport * as routeService from '../../services/route';\nimport * as ROUTES from '../../constants/routes';\n\nimport * as storageService from '../../services/storage';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nconst House = ({ house, keyword }) => {\n  const history = useHistory();\n\n  const view = () => {\n    uiService.showLightHeader();\n    storageService.save({ key: STORAGE_KEYS.HOUSE, payload: JSON.stringify(house) });\n    routeService.navigate({ route: ROUTES.DETAIL, push: history.push });\n  }\n\n  if (!house) return <></>;\n  \n  return (\n    <div className=\"house\" onClick={view}>\n      <img src={house.image} alt=\"house\" />\n      <div className=\"house__info\">\n        <p className=\"house__title\">Quarto privada em {keyword}</p>\n        <p className=\"house__name\">{house.name}</p>\n        <div className=\"house__divider\"></div>\n        <p className=\"house__description\">{house.description}</p>\n        <div className=\"house__rating\">\n          <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" role=\"presentation\" focusable=\"false\" style={{ display: 'block', height: \"14px\", width: \"14px\" }}><path d=\"M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z\" fillRule=\"evenodd\"></path></svg>\n          <span>4.82</span>\n        </div>\n        <div className=\"house__price\">\n          <span className=\"house__price-value\">{house.price}Kz</span>\n          <span> / Noite</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default House;","import { useState, useEffect } from 'react';\n\nimport House from './House';\n\nimport * as storageService from '../../services/storage';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\n\nconst Houses = ({ houses }) => {\n  const [keyword, setKeyword] = useState(null);\n\n  useEffect(() => {\n    const keyword = storageService.get(STORAGE_KEYS.KEYWORD);\n    if (keyword) {\n      setKeyword(() => keyword);\n    }\n  }, []);\n\n  if (!houses || !houses.length) return <></>;\n\n  return (\n    <div className=\"houses\">\n      {houses.map(house => <House key={house.id} house={house} keyword={keyword} />)}\n    </div>\n  );\n};\n\nexport default Houses;","import { useState, useEffect, useRef, useCallback } from 'react';\n\nimport Houses from '../houses/Houses';\n\nimport * as uiService from '../../services/ui';\nimport * as FIREBASE_KEYS from '../../constants/firebase-keys';\nimport * as firebaseService from '../../services/firebase';\nimport * as STORAGE_KEYS from '../../constants/storage-keys';\nimport * as storageService from '../../services/storage';\n\nconst SearchResults = () => {\n  const [houses, setHouses] = useState();\n\n  const housesRef = useRef(firebaseService.getRef(FIREBASE_KEYS.HOUSES));\n  const tempRef = housesRef.current;\n\n  const loadHouses = useCallback(keywords => {\n    firebaseService.getDataRealtimeQuery({ ref: housesRef, query: FIREBASE_KEYS.ADDRESS, criteria: keywords, callback: onDataLoaded });\n  }, [housesRef]);\n\n  const onDataLoaded = val => {\n    if (val) {\n      const keys = Object.keys(val);\n      const data = keys.map(key => val[key]);\n      setHouses(() => data);\n    }\n  };\n\n  useEffect(() => {\n    const keywords = storageService.get(STORAGE_KEYS.KEYWORD);\n    if (keywords) {\n      loadHouses(keywords);\n    }\n  }, [loadHouses]);\n\n  useEffect(() => {\n    return () => {\n      setHouses(() => []);\n      tempRef.off();\n    };\n  }, [tempRef]);\n\n  useEffect(() => {\n    window.onload = function () {\n      uiService.showLightHeader();\n    }\n  }, []);\n\n  return (\n    <div className=\"search-results\">\n      <Houses houses={houses} />\n    </div>\n  );\n};\n\nexport default SearchResults;","import {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\n\nimport { AppContext } from './context/AppContext';\nimport Chat from './components/chat/Chat';\nimport ChatWithHost from './components/chat/ChatWithHost';\nimport Header from './components/common/Header';\nimport Home from './components/home/Home';\nimport HouseDetail from './components/detail/HouseDetail';\nimport Loading from './components/common/Loading';\nimport Login from './components/login/Login';\nimport PrivateRoute from './components/common/PrivateRoute';\nimport Profile from './components/profile/Profile';\nimport Search from './components/search/Search';\nimport SearchResults from './components/search/SearchResults';\n\nimport './index.css';\n\nfunction App() {\n  return (\n    <AppContext>\n      <Router>\n        <Header />\n        <Search />\n        <Switch>\n          <PrivateRoute exact path=\"/\" component={Home} />\n          <PrivateRoute exact path=\"/search\" component={SearchResults} />\n          <PrivateRoute exact path=\"/chat\" component={Chat} />\n          <PrivateRoute exact path=\"/host\" component={ChatWithHost} />\n          <PrivateRoute exact path=\"/detail\" component={HouseDetail} />\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <Route exact path=\"/login\">\n            <Login />\n          </Route>\n        </Switch>\n      </Router>\n      <Loading />\n    </AppContext>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}